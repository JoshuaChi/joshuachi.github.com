<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	 
	<title>Joshua Chi</title>
	<link href="http://freetofeel.com/atom.xml" rel="self"/>
	<link href="http://freetofeel.com/"/>
	<updated>2016-01-01T13:18:29+08:00</updated>
	<id>http://freetofeel.com/</id>
	<author>
		<name>Joshua Chi</name>
		<email>joshokn@gmail.com</email>
	</author>

	
		<entry>
			<title>万变不离其中的高效协作，团队管理</title>
			<link href="http://freetofeel.com/zh/2016/01/01/A-day-to-be-rememberd-road-to-leadership.html"/>
			<updated>2016-01-01T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2016/01/01/A-day-to-be-rememberd-road-to-leadership</id>
			<content type="html">&lt;p&gt;刚起床，因为昨晚加班到2点，让我意识到我必须快速把我头脑中的东西倒出来。
这里主要想描述下我对团队协作管理的一点小总结。&lt;/p&gt;

&lt;h2&gt;什么是万变不离其中&lt;/h2&gt;

&lt;p&gt;时间是不恒定的，世界是变的。变化才是自然界的唯一法则。&lt;/p&gt;

&lt;p&gt;大到宇宙，千千万世界，千千万法门；小到你每日三餐。&lt;/p&gt;

&lt;p&gt;不同的行业，不同的公司，不同的项目，不同的部门，不同的团队，不同的队员，不同的职责。&lt;/p&gt;

&lt;p&gt;但在我经历的几家公司，几个团队，即使这些公司行业不同，这些团队“背景”不同，但我总是隐约感到团队协作，团队管理，部门协作，公司治理上面是同质的。&lt;/p&gt;

&lt;p&gt;现在让我们从下往上说比较简单容易推导。&lt;/p&gt;

&lt;h2&gt;尊重团员，建立自信&lt;/h2&gt;

&lt;p&gt;团队成员技能参差不齐，但没有一个是可以‘舍弃’的。唐僧师徒西天取经演化的团队协作的故事就不说了。&lt;/p&gt;

&lt;p&gt;作为领导者必须的素质或者说品质之一：帮助你的团队建立自信。这句话建立在你开始于你尊重每个团队成员，公司员工。&lt;/p&gt;

&lt;p&gt;借用很多“灵魂”演讲经常说的一句话：“你是特殊的，没有人能取代你”。&lt;/p&gt;

&lt;p&gt;在你努力帮助每个团队成员建立自信的过程中，他们爆发出的能量是你不会‘奢望’的。&lt;/p&gt;

&lt;h2&gt;团队协作&lt;/h2&gt;

&lt;p&gt;敏捷中讲“stable velocity”，当团队稳定后，在协作流程成熟后，产出是稳定的。&lt;/p&gt;

&lt;p&gt;说的土一点，不那么恰当点，养鸡场的鸡每天定时喂养，鸡的数量始终保持一个数量范围，最佳实践完全遵照“规范养殖”说的做，即使个别鸡生病，每天的产蛋量还是可预测的。但是如果你不断的变换鸡饲料，或者把鸡从一个笼子移到另一个笼子，最糟糕的是连“最佳实践”都没有，再好的鸡农也不会保证你每天可以有多少收入。&lt;/p&gt;

&lt;h3&gt;＊ 任务明确&lt;/h3&gt;

&lt;p&gt;不要期待你的每个团队成员都可以有分解任务的技能，这个要慢慢熏陶，慢慢培养的。&lt;/p&gt;

&lt;p&gt;作为“服务生”的职责之一是尽早的把一个项目按照用户故事分解为大大小小的任务，每个任务也可以分解为更小的点。&lt;/p&gt;

&lt;p&gt;提早对项目风险评估，及早把任务按照优先级排序。&lt;/p&gt;

&lt;p&gt;如果你已经对团队成员的个性技能有所理解，任务完全可以因人定制。这么说，你可能要问敏捷不是“SELF-MANAGEMENT”吗？我只能说，有些太理想的东西要因时因地，时时变化。&lt;/p&gt;

&lt;h3&gt;＊ 时间边框&lt;/h3&gt;

&lt;p&gt;任何事情都不能无止境的做下去，所有的协作都讲究时间点－“DEADLINE”。QA不可能无止尽的测试，无止尽的提BUG。开发不可以揪着一个功能无止境的重构。时间太宝贵。在团队协作的时候，一旦时间点规划好后要严格执行，否则一切努力都会化为灰烬。&lt;/p&gt;

&lt;p&gt;从这里扯一个远的话题，如果你是做乙方，一定遇到过难缠的客户，在项目最后一天，“绞尽脑汁”搞出一堆都称为高优先级的BUG，作为管理者，你要及时尽力“制止”这种行为。&lt;/p&gt;

&lt;p&gt;原因1: 最后一天，团队很可能已经精疲力竭，假设这些“BUG”算作5%的工作量，前期95%的工作已经做完。假设项目上线是1月2日，你想让你的团队1月1日晚上通宵修复5%的bug吗？我的建议是适可而止。团队最劳累的时候出事故的风险最大，头脑不清楚时候的工作可能会让前期95%变为60%，你想这样吗？&lt;/p&gt;

&lt;p&gt;原因2: 你不想告诉你的团队这就是他们以后的工作状态吧？你还有很多工作没有结束，比如稳定军心，保持恒定的团队VELOCITY，降低离职率，保持团队心态身体健康。如果是我，我会努力拒绝剩余5%的BUG，遭来客户的“怨言”。对！我是宁愿得罪客户，也不想让团队成员失去信息的服务生。&lt;/p&gt;

&lt;p&gt;保护好你的时间边框。&lt;/p&gt;

&lt;h3&gt;＊ 保持顺畅的沟通&lt;/h3&gt;

&lt;p&gt;感冒了要留鼻涕打喷嚏。人生病了是主要由于上下气血不通。&lt;/p&gt;

&lt;p&gt;工作心情不好了，要有通道即时抒发情绪。如果有通道都没有，人会病怏怏的，团队会效率低下。&lt;/p&gt;

&lt;p&gt;作为“服务生”，项目结束后的“RETROPECTIVE MEETING”是一种，平时吃饭聊天，可以让团队成员抒发情绪。&lt;/p&gt;

&lt;p&gt;以前我在公司中做的最大最在意的努力就是帮助建立上下顺畅的沟通，不要过滤信息，要有周期性。&lt;/p&gt;

&lt;p&gt;最后你会感谢这种沟通，依赖这种沟通。&lt;/p&gt;

&lt;h2&gt;用工具取代人力&lt;/h2&gt;

&lt;p&gt;我是技术出身。所以喜欢寻找工具取代重复的人力劳动，既可以节省人月成本，也可以保证结果可预测，可信赖。&lt;/p&gt;

&lt;p&gt;举例：&lt;/p&gt;

&lt;p&gt;QA的多少工作可以用自动化测试取代？&lt;/p&gt;

&lt;p&gt;项目伊始，有多少风险需要排查，是否有项目模版可以监测项目风险？&lt;/p&gt;

&lt;p&gt;部门沟通，各种会议有多少可以通过简化流程，规范“NAMING CONVERSATION”[REF-1]来减少并且变得高效?&lt;/p&gt;

&lt;h2&gt;REF&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;NAMING CONVERSATION - 我知道的最早出现在RUBY语言，通过规范各种命名，开发进行语言使用前先学习这种规范，以后看到都是大写字母的命名 就知道它说的是代码中的常量，类似。 以此类推，部门间也可以通过流程工具减少会议时间，看到这个状态表示，就表示是你们部门该做些什么行动了，优先级怎样，类似。&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;以上所述，可以将团队改为“部门”或者“公司”通通适用。比如：从尊重公司的每个成员开始。&lt;/p&gt;

&lt;p&gt;新年伊始，阳关洒在房间中，敬畏天地，感谢这个世界。&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>NPM NodeJS Environment Setup Best Practice with MACOS</title>
			<link href="http://freetofeel.com/en/2015/12/20/npm-nodejs-best-practice-with-macos.html"/>
			<updated>2015-12-20T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2015/12/20/npm-nodejs-best-practice-with-macos</id>
			<content type="html">&lt;h3&gt;NPM Installation&lt;/h3&gt;

&lt;h4&gt;Do not install NPM with homebrew&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.npmjs.org/post/85484771375/how-to-install-npm&quot;&gt;There is an extremely high correlation between &quot;installed npm with Homebrew&quot;, and &quot;npm is irreparably broken&quot;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/DanHerbert/9520689&quot;&gt;Explanation of the issue&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;h4&gt;Install it from official site&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;List all node modules installed globally:&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;
    npm ls -g --depth=0
&lt;/pre&gt;


&lt;ul&gt;
&lt;li&gt;Delete global node_modules folder:&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;
    sudo rm -rf /usr/local/lib/node_modules
&lt;/pre&gt;


&lt;ul&gt;
&lt;li&gt;Unintall Node&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;
brew uninstall node
or
sudo rm /usr/local/bin/node
&lt;/pre&gt;


&lt;ul&gt;
&lt;li&gt;Clean symbol link to node modules globally.&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;
    cd  /usr/local/bin &amp;&amp; ls -l | grep &quot;../lib/node_modules/&quot; | awk '{print $9}'| xargs rm
&lt;/pre&gt;


&lt;ul&gt;
&lt;li&gt;Install NPM&lt;/li&gt;
&lt;/ul&gt;


&lt;pre&gt;
curl -L https://www.npmjs.com/install.sh | sh
&lt;/pre&gt;


&lt;h3&gt;Node Installation&lt;/h3&gt;

&lt;h4&gt;Install nvm&lt;/h4&gt;

&lt;pre&gt;
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash
&lt;/pre&gt;


&lt;h4&gt;Switch version&lt;/h4&gt;

&lt;pre&gt;
nvm install stable #Install latest stable node
nvm install 4.2.2 #Install 4.2.2 version
nvm install 0.12.7 #Install 0.12.7 version
nvm use 0 #Will switch to use v0.12.7
&lt;/pre&gt;


&lt;h4&gt;Use a &lt;a href=&quot;https://blog.heroku.com/archives/2015/11/10/node-habits-2016#2-use-a-smart-npmrc&quot;&gt;smart .npmrc&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;By default, npm doesn't save installed dependencies to package.json (and you should always track your dependencies!).&lt;/p&gt;

&lt;p&gt;If you use the --save flag to auto-update package.json, npm installs the packages with a leading carat (^), putting your modules at risk of drifting to different versions.&lt;/p&gt;

&lt;p&gt;One solution is installing packages like this:&lt;/p&gt;

&lt;pre&gt;
$ npm install foobar --save --save-exact
&lt;/pre&gt;


&lt;p&gt;Even better, you can set these options in ~/.npmrc to update your defaults:&lt;/p&gt;

&lt;pre&gt;
$ npm config set save=true
$ npm config set save-exact=true
$ cat ~/.npmrc
&lt;/pre&gt;


&lt;p&gt;Now, npm install foobar will automatically add foobar to package.json and your dependencies won't drift between installs!&lt;/p&gt;

&lt;p&gt;If you prefer to keep flexible dependencies in package.json, but still need to lock down dependencies for production, you can alternatively build npm's &lt;a href=&quot;https://docs.npmjs.com/cli/shrinkwrap&quot;&gt;shrinkwrap&lt;/a&gt; into your workflow.
This takes a little more effort, but has the added benefit of preserving exact versions of nested dependencies.&lt;/p&gt;

&lt;h4&gt;Dependencies version management&lt;/h4&gt;

&lt;pre&gt;
*: Match any verion
1.1.0: Exactly match the version
~1.1.0: &gt;=1.1.0 &amp;&amp; &lt; 1.2.0
^1.1.0: &gt;=1.1.0 &amp;&amp; &lt; 2.0.0
&lt;/pre&gt;


&lt;h4&gt;nrm switch NPM soruce&lt;/h4&gt;

&lt;p&gt;http://www.tuicool.com/articles/nYjqeu&lt;/p&gt;

&lt;h5&gt;Install&lt;/h5&gt;

&lt;pre&gt;&lt;code&gt;$ npm install -g nrm
&lt;/code&gt;&lt;/pre&gt;

&lt;h5&gt;Usage&lt;/h5&gt;

&lt;p&gt;List all available sources&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nrm ls                                                                                                                                    

* npm ---- https://registry.npmjs.org/
cnpm --- http://r.cnpmjs.org/
taobao - http://registry.npm.taobao.org/
eu ----- http://registry.npmjs.eu/
au ----- http://registry.npmjs.org.au/
sl ----- http://npm.strongloop.com/
nj ----- https://registry.nodejitsu.com/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;*&lt;/code&gt; means source you are currently using&lt;/p&gt;

&lt;h5&gt;Switch&lt;/h5&gt;

&lt;p&gt;Switch to use the one from taobao&lt;/p&gt;

&lt;pre&gt;
nrm use taobao                                                                                                 
&lt;/pre&gt;


&lt;p&gt;Registry has been set to: http://registry.npm.taobao.org/&lt;/p&gt;

&lt;h4&gt;References&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://blog.heroku.com/archives/2015/11/10/node-habits-2016#2-use-a-smart-npmrc&quot;&gt;10 Habits of a Happy Node Hacker (2016)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/streakq/js-tools-best-practice/blob/master/doc/node.md#nrm-%E5%BF%AB%E9%80%9F%E5%88%87%E6%8D%A2-npm-%E6%BA%90&quot;&gt;NRM switch NPM sources&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
		</entry>
	
		<entry>
			<title>Mongodb Read-only Performance Production Tuning</title>
			<link href="http://freetofeel.com/en/2014/12/17/mongodb-readonly-performance-production-tuning.html"/>
			<updated>2014-12-17T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2014/12/17/mongodb-readonly-performance-production-tuning</id>
			<content type="html">&lt;h3&gt;MongoDB VS Tokumx&lt;/h3&gt;

&lt;p&gt;Check this post &lt;a href=&quot;http://stackoverflow.com/questions/27359394/tokumx-vs-mongodb-read-performance&quot;&gt;Tokumx VS mongodb read-only performance&lt;/a&gt; @stackoverflow firstly, which I have already described the context when comparing MongoDB and Tokumx read-only performance.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.tokutek.com/tokumx-for-mongodb/download-community/&quot;&gt;TokuMX 2.0.0 Community Edition for MongoDB&lt;/a&gt; is still built on MongoDB 2.4 which doesn't have GEO &lt;a href=&quot;http://docs.mongodb.org/manual/core/2dsphere/&quot;&gt;2dsphere&lt;/a&gt; index yet. So the post@stackoverflow might not be fair for &lt;a href=&quot;http://www.tokutek.com/tokumx-for-mongodb/&quot;&gt;Tokumx&lt;/a&gt;. Personally, I like tokumx.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;storage compress&lt;/li&gt;
&lt;li&gt;document level write lock&lt;/li&gt;
&lt;li&gt;concurrency write performance&lt;/li&gt;
&lt;li&gt;do not have to worry about emebeded document size change&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A lot of those cool features you can find in &lt;a href=&quot;http://www.tokutek.com/tokumx-for-mongodb/hdd-benchmarks/&quot;&gt;TOKUMX™ BENCHMARK VS. MONGODB – HDD&lt;/a&gt; and &lt;a href=&quot;http://docs.tokutek.com/tokumx/&quot;&gt;Tokumx Documentation&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;2d index VS 2dsphere index&lt;/h3&gt;

&lt;blockquote&gt;&lt;p&gt;2d indexes support:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Calculations using flat geometry&lt;/li&gt;
&lt;li&gt;Legacy coordinate pairs (i.e., geospatial points on a flat coordinate system)&lt;/li&gt;
&lt;li&gt;Compound indexes with only one additional field, as a suffix of the 2d index field&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2dsphere indexes support:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Calculations on a sphere&lt;/li&gt;
&lt;li&gt;GeoJSON objects and include backwards compatibility for legacy coordinate pairs&lt;/li&gt;
&lt;li&gt;Compound indexes with scalar index fields (i.e. ascending or descending) as a prefix or suffix of the 2dsphere index field&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;So basically if you have multiple fields need to be compound together, you need use 2dshpere index.&lt;/p&gt;

&lt;p&gt;Nothing is perfect, if you are doing sorting some fields, like &lt;code&gt;id desc&lt;/code&gt;, you will have the [geo query with sort performance] issue(http://stackoverflow.com/questions/12908871/mongodb-geospatial-query-with-sort-performance-issues).&lt;/p&gt;

&lt;h3&gt;geoWithin VS near&lt;/h3&gt;

&lt;p&gt;So we choose 2dsphere index for our case. But performance matters if you are using &lt;a href=&quot;http://docs.mongodb.org/manual/reference/operator/query/geoWithin/#op._S_geoWithin&quot;&gt;geoWithin&lt;/a&gt; and &lt;a href=&quot;http://docs.mongodb.org/manual/reference/operator/query/near/#op._S_near&quot;&gt;near&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;db.collection.find(
   {
   $query: {
     geo:
     {
       $near :
        {
          $geometry: img.geo,
          $maxDistance: 100000
        }
     },
     gender: 3
   },
   $orderby: { '_pid' : -1 },
   $limit: 3,
   $skip: 1
  }
);

 &quot;cursor&quot; : &quot;S2NearCursor&quot;,
 &quot;isMultiKey&quot; : false,
 &quot;n&quot; : 54,
 &quot;nscannedObjects&quot; : 502,
 &quot;nscanned&quot; : 502,
 &quot;nscannedObjectsAllPlans&quot; : 502,
 &quot;nscannedAllPlans&quot; : 502,
 &quot;scanAndOrder&quot; : true,
 &quot;indexOnly&quot; : false,
 &quot;nYields&quot; : 4,
 &quot;nChunkSkips&quot; : 0,
 &quot;millis&quot; : 3,
 &quot;indexBounds&quot; : {
 },


db.collection.find(
  {
    $query: {
      geo : {
        $geoWithin : {
          $centerSphere : [ img.geo.coordinates , 100/3959 ]
        }
      },
      gender:3
    },
    $orderby: { '_pid' : -1 },
    $limit: 3,
    $skip: 1
  }
);

 &quot;cursor&quot; : &quot;BtreeCursor geo_2dsphere_gender_1&quot;,
 &quot;isMultiKey&quot; : false,
 &quot;n&quot; : 159,
 &quot;nscannedObjects&quot; : 249,
 &quot;nscanned&quot; : 337,
 &quot;nscannedObjectsAllPlans&quot; : 249,
 &quot;nscannedAllPlans&quot; : 337,
 &quot;scanAndOrder&quot; : true,
 &quot;indexOnly&quot; : false,
 &quot;nYields&quot; : 3,
 &quot;nChunkSkips&quot; : 0,
 &quot;millis&quot; : 3,
 &quot;indexBounds&quot; : {
      &quot;geo&quot; : [],
      &quot;gender&quot; : [
           [
                3,
                3
           ]
      ]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see they are using two different cursor &lt;code&gt;S2NearCursor&lt;/code&gt; and &lt;code&gt;BtreeCursor&lt;/code&gt;. In our case &lt;code&gt;S2NearCursor&lt;/code&gt; works better than &lt;code&gt;BtreeCursor&lt;/code&gt;.&lt;/p&gt;

&lt;h3&gt;MongoDB and NUMA Hardware&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Non-uniform_memory_access&quot;&gt;What's Non-uniform memory access (NUMA)&lt;/a&gt;?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Interleaved_memory&quot;&gt;What's Interleaved memory&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;NUMA and Interleaved Memory affect MongoDB perofmrnace, you can find below in &lt;a href=&quot;http://docs.mongodb.org/manual/administration/production-notes/&quot;&gt;Production notes&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Running MongoDB on a system with Non-Uniform Access Memory (NUMA) can cause a number of operational problems, including slow performance for periods of time and high system process usage.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When running MongoDB servers and clients on NUMA hardware, you should configure a memory interleave policy so that the host behaves in a non-NUMA fashion. MongoDB checks NUMA settings on start up when deployed on Linux (since version 2.0) and Windows (since version 2.6) machines, and prints a warning if the NUMA configuration may degrade performance.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See The &lt;a href=&quot;http://jcole.us/blog/archives/2010/09/28/mysql-swap-insanity-and-the-numa-architecture/&quot;&gt;MySQL “swap insanity” problem and the effects of NUMA&lt;/a&gt; post, which describes the effects of NUMA on databases. This blog post addresses the impact of NUMA for MySQL, but the issues for MongoDB are similar. The post introduces NUMA and its goals, and illustrates how these goals are not compatible with production databases.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3&gt;Tunning client performance&lt;/h3&gt;

&lt;p&gt;In the /etc/sysctl.conf file:&lt;/p&gt;

&lt;blockquote&gt;&lt;ul&gt;
&lt;li&gt;net.ipv4.tcp_tw_recycle = 1&lt;/li&gt;
&lt;li&gt;net.ipv4.tcp_tw_reuse = 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;TCP_TW_RECYCLE Description: Enables fast recycling of TIME_WAIT sockets. Use with caution and ONLY in internal network where network connectivity speeds are “faster”.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TCP_TW_REUSE Description: Allows for reuse of sockets in TIME_WAIT state for new connections, only when it is safe from the network stack’s perspective.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
		</entry>
	
		<entry>
			<title>Some suggestions when you work with solr</title>
			<link href="http://freetofeel.com/en/2014/04/20/solr-performance-issue-solving-process.html"/>
			<updated>2014-04-20T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2014/04/20/solr-performance-issue-solving-process</id>
			<content type="html">&lt;h2&gt;Background&lt;/h2&gt;

&lt;p&gt;Since we deploy solr to production, it was running fine for first few days, and then some day it will be slow to response. It happened at least several times like this. We can start this by analyzing from this graphite screenshot.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://freetofeel.com/images/solr-prod-slow.png&quot;&gt;&lt;img src=&quot;http://freetofeel.com/images/solr-prod-slow_s.png&quot; alt=&quot;Solr Graphite screenshot&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;The whole server strucuture:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;We have three solr instances: one master and two slave, which managed by zookeeper&lt;/li&gt;
&lt;li&gt;All client requests will be queued into &lt;code&gt;queue.size.solr&lt;/code&gt; firstly&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;code&gt;Notice: we will not discuss the strucuture was designed correctly or not in this post. This blog will just focus on how to use solr itself.&lt;/code&gt;&lt;/p&gt;

&lt;h3&gt;More info about this graphite&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;queue.size.solr&lt;/code&gt; was increased since &lt;code&gt;solr.request.time.avg&lt;/code&gt; increased, which is obvious;&lt;/li&gt;
&lt;li&gt;The increasing of &lt;code&gt;solr.request.time.avg&lt;/code&gt; was not caused by &lt;code&gt;solr.requests&lt;/code&gt; which is quite stable during &lt;code&gt;Fri 12PM&lt;/code&gt; to &lt;code&gt;Fri 8PM&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;Please ignore the drop of &lt;code&gt;system.memory.Memfree&lt;/code&gt; which is caused by a restart of solr instance on master(BTW, we stored index in RAM);&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;A warning from production solr log&lt;/h3&gt;

&lt;blockquote&gt;&lt;p&gt;PERFORMANCE WARNING: Overlapping onDeckSearchers=X&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You will find an explanation from &lt;a href=&quot;http://wiki.apache.org/solr/FAQ#What_does_.22PERFORMANCE_WARNING:_Overlapping_onDeckSearchers.3DX.22_mean_in_my_logs.3F&quot;&gt;solr wiki&lt;/a&gt; page:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;This warning means that at least one searcher hadn't yet finished warming in the background, when a commit was issued and another searcher started warming. This can not only eat up a lot of ram (as multiple on deck searches warm caches simultaneously) but it can can create a feedback cycle, since the more searchers warming in parallel means each searcher might take longer to warm.&lt;/p&gt;

&lt;p&gt;Typically the way to avoid this error is to either reduce the frequency of commits, or reduce the amount of warming a searcher does while it's on deck (by reducing the work in newSearcher listeners, and/or reducing the autowarmCount on your caches)&lt;/p&gt;

&lt;p&gt;See also the &lt;maxWarmingSearchers/&gt; option in SolrConfig.xml.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I want to add addtional information before we start analyzing. The warning was always there in production log. We saw around double size this warning type entries comparing with the ones day before.&lt;/p&gt;

&lt;h2&gt;Too early conclusion&lt;/h2&gt;

&lt;p&gt;From the graphite screenshot I thought it must be something wrong with solr itself. The things which we can control might only be solr configure and JVM. After playing all those two factors and several round tsung stress testings, I kept getting this warning.
I failed to get rid of this waring, which put me back to find more articles about this issue.&lt;/p&gt;

&lt;h2&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;It was very possible that we used it wrong which was obvious if I had paied more attention to &lt;code&gt;...to avoid this error is to either reduce the frequency of commits, or reduce the amount of warming a searcher does...&lt;/code&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Solr is not for realtime search;&lt;/li&gt;
&lt;li&gt;Solr is not for replacement of RDB(e.g. mysql);&lt;/li&gt;
&lt;li&gt;Solr rely on much of RAM if you have a big index size;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Read&lt;/code&gt;(&lt;code&gt;Search&lt;/code&gt;) and &lt;code&gt;Write&lt;/code&gt;(&lt;code&gt;Update&lt;/code&gt;) should be treated differently;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the solution could be batch the &lt;code&gt;write&lt;/code&gt; requests.&lt;/p&gt;

&lt;p&gt;Solrj client provides &lt;a href=&quot;https://lucene.apache.org/solr/4_7_2/solr-solrj/org/apache/solr/client/solrj/impl/ConcurrentUpdateSolrServer.html&quot;&gt;ConcurrentUpdateSolrServer&lt;/a&gt; which contained a queue. So we can queued all requests firstly with &lt;code&gt;commitWithin&lt;/code&gt; enabled.&lt;/p&gt;

&lt;p&gt;More tips about how to optimize your index performance if you also have the &lt;code&gt;write&lt;/code&gt; issue:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.apache.org/lucene-java/ImproveIndexingSpeed&quot;&gt;How to make indexing faster&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wiki.apache.org/solr/SolrPerformanceFactors&quot;&gt;SolrPerformanceFactors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
		</entry>
	
		<entry>
			<title>农历马年新年</title>
			<link href="http://freetofeel.com/zh/2014/01/30/NEW-YEAR.html"/>
			<updated>2014-01-30T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2014/01/30/NEW-YEAR</id>
			<content type="html">&lt;h2&gt;Summary&lt;/h2&gt;

&lt;p&gt;是，有时候，很多时候，你不希望时间走得那么快，你只是被“拖”着走到了这里。
2013年依然没有逃脱被动，被动的听，被动的看，被动的做着事情，就像一个生活的奴隶，直到压得喘不过气的时候，或者自己不得不去想对策的时候，... ，慢慢去寻找自己得精神支柱，去强大自己的精神世界。
是的，当时间走到这个点，开始学着往后看，往前看，看自己。&lt;/p&gt;

&lt;h2&gt;2013 TODO LIST&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;身体第一位，继续坚持体育锻炼&lt;/code&gt; － 这条怎么说呢，前半年可以给自己打70分（每天早晨还坚持跑步），后半年只能给个50分（后半年，早晨的时间变得弥足珍贵，晨跑就放弃了，还好继续打球）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;继续管理自己的性格&lt;/code&gt; － 难，太难了。很多场合都是对自己的情绪严加控制，还是表现的另自己不满意。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;养娃 - 学习如何养好。&lt;/code&gt; －  就只能给自己20分，感谢孩子她娘，为我分担了大部分的任务。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;读书 &amp;gt; 20 本(杂而不偏就可以)&lt;/code&gt; - 15本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;个人理财规划投资&lt;/code&gt; － 凑合吧，刚摸到点门道&lt;/li&gt;
&lt;li&gt;&lt;code&gt;建站 &amp;gt; 1000pv/day 我就心满意足. :-) 还未得道.&lt;/code&gt; － 失败，几天1000PV已经不错了&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;是啊，自己都觉得2013过得那叫一个不得意啊。&lt;/p&gt;

&lt;h2&gt;2014 寄语&lt;/h2&gt;

&lt;p&gt;是啊，每年的TODO效果不佳，还不如从精神层面上指导自己更佳。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;生活不能告诉你的就去书中寻找吧;&lt;/li&gt;
&lt;li&gt;如果你觉得自己做的不好，那就沉下心来做好这个再做别的；如果你觉得做的还不错，就坚持一会，还可以做的更好；如果你觉得做的更好了，可以停下来想想看看，是否还可以汲取更多的养分；&lt;/li&gt;
&lt;li&gt;停止浪费未来的筹码，珍惜现有的，好好珍惜；包括：和家人的时间，自己的精力时间，...&lt;/li&gt;
&lt;li&gt;爱自己，规划自己。&lt;/li&gt;
&lt;/ul&gt;


&lt;h2&gt;寄送过去，迎接未来&lt;/h2&gt;

&lt;blockquote&gt;&lt;ol&gt;
&lt;li&gt;深邃地理解了生活的人，才会在精神上更强大。&lt;/li&gt;
&lt;li&gt;生活包含着更广阔的意义，而不在于我们实际得到了什么；关键是我们的心灵是否充实。对于生活理想，应该象宗教徒对待宗教一样充满虔诚与热情。&lt;/li&gt;
&lt;li&gt;生活中真正的勇士向来默默无闻，喧哗不止的永远是自视高贵的一群。&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;“有一天突然翻到了某本书的某一页，惊讶的发现，这个不是已经丢失了很多年的自己吗？去了哪里？做了什么？为什么现在的自己会很认同几年前的自己，而厌恶现在的这个我？”
到了这个年龄，要往后看了。&lt;/p&gt;

&lt;p&gt;最后希望2014年的自己勇敢的坚持自己的梦想。&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>互联网中小公司招聘中经常忽视和自大的</title>
			<link href="http://freetofeel.com/zh/2013/08/27/HOW-TO-HIRE-GOOD-EMPLOYEE.html"/>
			<updated>2013-08-27T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2013/08/27/HOW-TO-HIRE-GOOD-EMPLOYEE</id>
			<content type="html">&lt;p&gt;看到太多'不靠谱'的互联网招聘，想喷喷现有的招聘以及我认为靠谱的做法。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;
中国人的招聘还是不要那么自大吧。在v2ex里面看到一个&lt;a href='http://www.v2ex.com/t/79706'&gt;讨论&lt;/a&gt;，我很反对不封顶的写法。很容易推断你的这种说法很是扯淡。反推：不要说什么不封顶，你就说年薪100W招聘一个超级NB的web developer。你敢这么写吗？当然这样说有点极端。我只是想说，你如果说不封顶，我认为你是扯淡。赶快拿掉吧。我不是技术牛人，但我看到这样的字眼，会认为这是一种歧视。就像N年前，广东的工厂跑到云南招聘的时候说的“管吃管住，赚大钱”。是的，你现在知道那些打工者的生活实际情况如何。和你老板商量商量salary写的透明些吧。当然如果你能把我下面即将要说的几点做到了，不写薪资也不是问题。
&lt;/li&gt;
&lt;li&gt;
再则就是有个靠谱的产品，能让我／我们感受到用户的反馈，看到我们的努力的被认可，这是种心灵的安慰。
&lt;/li&gt;
&lt;li&gt;
如果你只招developer，不好意思，我/我们真心不感兴趣。我们是有思想的技术工作者，我们对产品，市场，营销都是有自己的见解和实践。是的，我们不是工具，我们是创造者。一个/一些拥有技术背景、产品嗅觉也不是太差、互联网的起起伏伏也都有些思考的的创新者／颠覆家（好吧，我承认，最后这个词语吹的稍微太大。但我就是要这么写。 :-)）。当然这对IT人的职业发展也是很好的建议。
&lt;/li&gt;
&lt;li&gt;
如果你还是遵循老套的上班“制度”（打卡，准时上下班，公司的布局依然老土的老土，etc）。你可能以为我是用google的公司文化来要求你们。那是你的眼界太浅，还没有看的更远。这是未来的趋势。文明的大势。人性化首先是对人的尊重，其次是对你企业的负责。研究表明／亲身经历，好的工程师能集中精力工作4小时，就已经很出色的。当然是保证高质量的产出的前提下。其它的时间要么是在破坏完美的东西，要么是不能集中注意力。总之都是在浪费时间。
&lt;/li&gt;
&lt;li&gt;
不要简单的苛求某种技术人员了，你要知道，大部分技术都是一通二，二通三的。你应该更在意的是这个employee能不能快速高效的完成设计实施。举个例子，比如你说招聘php开发人员，我建议你替换成脚本语言熟练运用（prefer PHP）。因为我相信，写过python/django的应该没有问题handle php/symfony|zend。
&lt;/li&gt;
&lt;li&gt;
福利福利！不要什么公司提供午餐的来诱骗“无知妇女”了。如果吃都成问题，谁有力气／心情去继续下午的工作。我觉得非国定假期的天数少于10天，病假扣工资的公司都不是靠谱／人性的公司。
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;先啰嗦那么多吧，不好意思，让你遇到了一个自大的乙方。也希望甲方看到此文，能善待你的员工，以及诚恳的对待即将招聘的人员。&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>网站集成linkedin登录</title>
			<link href="http://freetofeel.com/zh/2013/04/15/integrate-linkedin-authentication.html"/>
			<updated>2013-04-15T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2013/04/15/integrate-linkedin-authentication</id>
			<content type="html">&lt;p&gt;&lt;a href='http://www.linkedin.com'&gt;Linkedin&lt;/a&gt;提供了几种方法供你集成登录验证到自己的网站。&lt;/p&gt;

&lt;p&gt;一种是&lt;a href='https://developer.linkedin.com/documents/sign-linkedin'&gt;JS plugin&lt;/a&gt;的方式。这种方式用起来特别简单，只需要申请您的 app_key 就直接可以使用。
这种方式的缺点就是从linkedin返回的数据没有办法定制，它就只能返回以下五条属性：&lt;/p&gt;

&lt;pre&gt;
&quot;Field&quot; - &quot;Parent Node&quot; - &quot;Description&quot;
first-name - person - the member's first name
last-name - person - the member's last name
headline - person - the member's headline (often &quot;Job Title at Company&quot;)
site-standard-profile-request/url - person - the URL to the member's authenticated profile on LinkedIn (requires a login to be viewed, unlike public profiles)
&lt;/pre&gt;


&lt;p&gt;第二种就是&lt;a href='https://developer.linkedin.com/documents/authentication'&gt;oauth2.0&lt;/a&gt;的方式。&lt;/p&gt;

&lt;p&gt;通过这种方式，你可以除了可以从linkedin拿你想拿的数据，而且可以随心所欲的嵌入到你的业务逻辑里面。&lt;/p&gt;

&lt;p&gt;
&lt;/p&gt;


&lt;p&gt;我就是用的第二种。可以通过&lt;a href='http://www.leanprofile.com'&gt;LeanProfile&lt;/a&gt;查看。&lt;/p&gt;

&lt;p&gt;具体实现可以参考&lt;a href='https://developer.linkedin.com/documents/authentication'&gt;Linkedin 文档&lt;/a&gt;。 不过需要说明就是，你需要保留一份用户的token，这个token可以方便你在它的失效期内（60天）向linkedin索要用户的信息。之所以是60天，也是Linkedin从数据安全角度考虑。&lt;/p&gt;

&lt;p&gt;当然用户也可以自己选择是否绑定Linkedin。&lt;/p&gt;

&lt;p&gt;当然更人性化点，&lt;a href='http://www.leanprofile.com'&gt;我们&lt;/a&gt;还提供用户也可以选择绑定和取消绑定Linkedin的功能。&lt;/p&gt;

&lt;p&gt;在验证通过后，您就可以使用linkedin提供的其它的功能，比如：分享，等等&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>2013 Resolution</title>
			<link href="http://freetofeel.com/zh/2013/02/08/year-summary.html"/>
			<updated>2013-02-08T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2013/02/08/year-summary</id>
			<content type="html">&lt;p&gt;过去的一年慢慢开始enjoy之前的辛劳。但很多新的挑战接踵而来。我希望记住的是七月中旬那美丽的天空。我希望忘记的是十月和十一月的噩梦。
大脑的活动规律就是你越是希望忘记的东西，它会越拼命的记住。&lt;/p&gt;

&lt;p&gt;一年没见到雪，昨天开始下起。或者过去的一年，也许就在最近某个月曾经下过雪。&lt;/p&gt;

&lt;h3&gt;2012 完成的目标&lt;/h3&gt;




&lt;ul&gt;
  &lt;li&gt;
    &lt;del&gt;强身健体第一位，具体目标是锻炼腰部腹部肌肉，提高身体协调能力。&lt;/del&gt;
    去年确实腰部力量明显好于2011年，看来坚持锻炼是王道。但协调能力还有待提高，也许我还没找到答案。
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;
    职业发展： &lt;br /&gt;
    a. 空间的预测;&lt;br /&gt;
    b. 时间的估计，把持重点;&lt;br /&gt;
    c. Have a better idea about how to manage team and how to manage company.
    &lt;/del&gt;
    很多东西已经被更重要的事情取代或被看淡。
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;增加静心休息的时间。&lt;/del&gt;
    休息的时间至少double 2011年的。
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;买车。&lt;/del&gt;
    买好车的第一个月就刮蹭了两次，起初觉得很心疼，现在已经没有感觉。身外之物。
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;读书&gt;=15本；&lt;br /&gt;
    电影&gt;=5;&lt;br /&gt;&lt;/del&gt;
    Finish 了25本，什么书都有。
  &lt;/li&gt;
  &lt;li&gt;
    完成网站建设，其实现在已经不再是为了完成而完成了。练手；练脑；提高思维的整体性，连续性，可扩展性。
    － 该完成的没有完成。不该完成的始终没有起色。
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;蜜月履行。&lt;/del&gt;
    日本之行成为了美好的记忆。
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;去年的时间管理基本满意，需要继续坚持下来。&lt;/del&gt;
  &lt;/li&gt;
&lt;/ul&gt;




&lt;h3&gt;2012 Time Spending：&lt;/h3&gt;


&lt;ul&gt;
  &lt;li&gt;
    30% - spent @hospital or on the road to hospital
  &lt;/li&gt;
  &lt;li&gt;
    5% - spent at self-building
  &lt;/li&gt;
&lt;/ul&gt;




&lt;h3&gt;2013 TODO LIST：&lt;/h3&gt;


&lt;ul&gt;
  &lt;li&gt;
    身体第一位，继续坚持体育锻炼
  &lt;/li&gt;
  &lt;li&gt;
    继续管理自己的性格
  &lt;/li&gt;
  &lt;li&gt;
    养娃 - 学习如何养好
  &lt;/li&gt;
  &lt;li&gt;
    读书 &gt; 20 本(杂而不偏就可以)
  &lt;/li&gt;
  &lt;li&gt;
    个人理财规划投资
  &lt;/li&gt;
  &lt;li&gt;
    建站 &gt; 1000pv/day 我就心满意足. :-) 还未得道.
  &lt;/li&gt;
&lt;/ul&gt;




&lt;h3&gt;2013 WISH LIST(The same as 2012's)：&lt;/h3&gt;


&lt;p&gt;祝福我，我的家人，我认识的亲戚朋友身体健健康康！&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Arduino Auto Drive Car</title>
			<link href="http://freetofeel.com/zh/2012/12/16/arduino-auto-drive-car.html"/>
			<updated>2012-12-16T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2012/12/16/arduino-auto-drive-car</id>
			<content type="html">&lt;p&gt;这里介绍的是自己装配的arduino小车，周末阴雨连绵，找点乐趣玩玩。&lt;a href='http://arduino.cc/en'&gt;arduino&lt;/a&gt;很容易上手，如果你懂一两门程序语言就更简单了。电路电压知识，虽然初中高中都有学过，但都记不得了，不过用什么学什么，也来得容易。
收到新电池，几经折腾，终于又重新装配好小车。&lt;/p&gt;

&lt;p&gt;下面就是我所用到的大部分材料，有些工具就不罗列在这里了。&lt;/p&gt;

&lt;h2&gt;1. 材料(总价: ¥379.1)&lt;/h2&gt;




&lt;ul&gt;
&lt;li&gt;
智能小车底盘 寻迹小车 机器人小车底盘 带码盘/测速/送电池盒 - ¥ 43.00
&lt;/li&gt;
&lt;li&gt;
40P公端杜邦线 彩排杜邦线 面包板连接线 面包板线 万能板连接线 - ¥5.9
&lt;/li&gt;
&lt;li&gt;
SYB-170 面包板 透明 面包板 迷你小小面包板 万能板 -  ¥2.80
&lt;/li&gt;
&lt;li&gt;
140条盒装 面包板线 面包板专用线 面包板跳线 - ¥15.00
&lt;/li&gt;
&lt;li&gt;
新版红外线数字避障传感器,超小型,3-100cm可调,电流6ma - ¥16.00
&lt;/li&gt;
&lt;li&gt;
1P 双头杜邦线 单根双头杜邦插头线 杜邦线 20CM - ¥0.15x20
&lt;/li&gt;
&lt;li&gt;
原装芯片 L298N 电机驱动板/步进电机、直流电机驱动器 L298 - ¥19.00
&lt;/li&gt;
&lt;li&gt;
HC-SR04超声波模块 超声波测距模块 测距模块 超声波 传感器 资料 - ¥7.50
&lt;/li&gt;
&lt;li&gt;
Arduino Uno R3 Plus(Atmega16U2),10月最新生产预订送电源/USB线 - ¥64.80
&lt;/li&gt;
&lt;li&gt;
狮子遥控飞机航模船模车模型锂电池2200mAH 11.1V 30C -  ¥78.00
&lt;/li&gt;
&lt;li&gt;
双皇冠 IMAX B6 B8 B6AC 多功能平衡充 充电器(1台起批)高级彩盒 -  ¥108.00
&lt;/li&gt;
&lt;li&gt;
单片机开发板学习板、智能小车配件-M3 20+6 铜柱+螺帽 - ¥0.36x10
&lt;/li&gt;
&lt;li&gt;
单片机开发板学习板配件-原装正品 辉盛SG90 9G小舵机 9克伺服器 - ¥12.50
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;我的程序现在还很烂，就不贴出来误人子弟了，网上搜索很多。&lt;/p&gt;

&lt;h2&gt;2. 参考资料&lt;/h2&gt;




&lt;ul&gt;
&lt;li&gt;
&lt;a href='http://arduino.cc/en'&gt;arduino&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href='http://blog.sina.com.cn/s/articlelist_1581720921_0_1.html'&gt;http://blog.sina.com.cn/s/articlelist_1581720921_0_1.html&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href='http://letsmakerobots.com/start'&gt;http://letsmakerobots.com/start&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href='http://www.roboticfan.com/blog/user_2005/1229/index.shtml'&gt;机器人爱好者&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;a href='http://zpht2010.blog.163.com/blog/static/16561107720124811359823/?latestBlog'&gt;跟老林学机器人系列&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;




&lt;h2&gt;3. 上一小段视频, 就算是小车的第一个版本吧&lt;/h2&gt;


&lt;p&gt;&lt;embed src=&quot;http://player.youku.com/player.php/sid/XNDg5Mjk3MjI0/v.swf&quot; allowFullScreen=&quot;true&quot; quality=&quot;high&quot; width=&quot;480&quot; height=&quot;400&quot; align=&quot;middle&quot; allowScriptAccess=&quot;always&quot; type=&quot;application/x-shockwave-flash&quot;&gt;&lt;/embed&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Visit Appspot.com From China</title>
			<link href="http://freetofeel.com/en/2012/12/09/visit-appspot.html"/>
			<updated>2012-12-09T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2012/12/09/visit-appspot</id>
			<content type="html">&lt;p&gt;The reason behind this blog is to show you how to make &lt;b&gt;GAppProxy&lt;/b&gt; work again. In China, most of people rely on &lt;a href='https://code.google.com/p/gappproxy/'&gt;GAppProxy&lt;/a&gt; to access the 'outside world'. But appspot.com is blocked in China. So here is a simple tutorial to show you how to make it work.&lt;/p&gt;

&lt;p&gt;The idea is very simple: find the workable google IP and add it to hosts file.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
Step1:&lt;/p&gt;

&lt;pre&gt;
nslookup www.google.com
&lt;/pre&gt;


&lt;p&gt;You can find something like:&lt;/p&gt;

&lt;pre&gt;
nslookup www.google.com
Server:   192.168.1.1
Address:  192.168.1.1#53

Non-authoritative answer:
Name: www.google.com
Address: 74.125.128.99
Name: www.google.com
Address: 74.125.128.105
Name: www.google.com
Address: 74.125.128.103
Name: www.google.com
Address: 74.125.128.147
Name: www.google.com
Address: 74.125.128.106
Name: www.google.com
Address: 74.125.128.104
&lt;/pre&gt;


&lt;p&gt;Basically you just need to try https://74.125.128.x/ to check which one is working. 'x' can be any number. If you can visit https://74.125.128.x/, continue to &lt;b&gt;Step2&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
Step2:&lt;/p&gt;

&lt;p&gt;Modify /etc/hosts file and add one line:&lt;/p&gt;

&lt;pre&gt;
74.125.128.x $your_app_engine_id.appspot.com
&lt;/pre&gt;


&lt;p&gt;Replace $your_app_engine_id with your registered google app engine ID.&lt;/p&gt;

&lt;p&gt;Hope this will help you.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>如何面对疾病</title>
			<link href="http://freetofeel.com/zh/2012/11/29/how-to-face-life.html"/>
			<updated>2012-11-29T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2012/11/29/how-to-face-life</id>
			<content type="html">&lt;p&gt;我一直踌躇如何下笔这篇blog，原因始于前一阵子做过的一次手术以及最近看的几篇文章.&lt;/p&gt;

&lt;p&gt;以前一直是觉得生活无所谓写，都是些琐事，只有工作的东西，技术的东西写出来才有意思。曾有段时间将一个维持了很久的blog彻底丢弃。&lt;/p&gt;

&lt;p&gt;而立之年，理解和意识已经慢慢的转了180度。我现在觉得除了生活之外的东西，其它都不重要。如果再细致，除了你自己的生活和思想，其它都不重要。你可能会说，这样说太自私了。
其实一点都不自私，而且很宏大。没有很好的在意自己，就会拖累别人；没有很好的在意自己就不能在关键的时刻帮助别人。&lt;/p&gt;

&lt;p&gt;
我想写这篇blog，还有一个目的就是想把我搜集的，我想的，我总结的分享给更多人，引起更多人的思考，虽然本站从来就是少有人来。但我还是想做，也许是为了以后给自己回顾。
&lt;/p&gt;


&lt;p&gt;我先把文章的连接列出来：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href='http://vip.book.sina.com.cn/book/index_216231.html'&gt;一个癌症患者的康复之路：重生手记&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href='http://v.feibo.com/yunkeji/373?rdn=1353851035348&amp;from=timeline&amp;isappinstalled=0'&gt;杨振宁：佛教与科学彻底相容&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href='http://www.huzheng.org/getdoclist.php?category=note&amp;&amp;docpage=0'&gt;星际译王作者胡正的几篇文章&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href='http://book.douban.com/subject/1066108/'&gt;易经杂说-南怀瑾&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;所有的这些放在一起，以及加上我自己生病前前后后做的很多资料的调查以及思考，让我想说，鉴于中国医疗的环境的现状，鉴于目前科技水平医疗水平的现状，以及现阶段中国社会大部分职业工作者的那种向“钱”主义。如果你生病了，首先自己先去了解自己的病情，再者一定要去找个正规的大医院（现在三级甲等已经不算什么了）好点的医生（一般的医生非专家，碰上好医生的几率微忽甚微）.&lt;/p&gt;

&lt;p&gt;
以我的情况做个描述，当你听到医生告知你病情的时候，内心慌张，不知所措。因为之前很少去医院，加上当时以为只有医生能有办法解决你的困难，医生一句“开刀”，已经让我有点不知所措了. 值得庆幸的是之前一直看一个内分泌的专家，她有推荐一个外科医生，就像《重生日记》里面写的，可能不是科室里面最大的那个官，但却可能是当时来讲最可信的。因为我对这个内分泌专家的信任，传递了我的信心到这个外科医生身上。事实证明，不是最坏的那个。
&lt;/p&gt;


&lt;p&gt;
我还有放易经杂说的连接，这个资料让我想到了几件事情，而且和重生日记中的条目很吻合。《易经杂说》中说：人重重的摔在地上，不要立刻站起来，在原地不要动，等身体恢复了“精气”再慢慢站起来。如果立刻站起来，大部分情况是受伤，如果等身体稍微恢复点站起来，反而可能什么事情也没有。还有一个例子说，我们出门在外地，总是带一包家乡的土，在生了水土不服病后，将土拿出来冲下去喝掉，有时候就突然好了。我挑这两个例子说，是因为都有听到或者自己亲身经历过。 这里也是想说，要相信人类身体的自我恢复功能，目前来看，没有医生会告诉你这个。尤其是西医更是循规蹈矩，在“钱”面前，一切更都得自食其力。不过不要误解我，我不是说所有医生都这样，但你能碰到好医生，现在只能靠碰运气，或者靠“抢”。
&lt;br /&gt;
重生手记中给出的理智的做法是：自己先研究病情，做各种资料收集，如果你能联系到国外医生，或者能读懂英文，那么帮助会很大；（如果你自己有点中医知识，效果会更好－这是我加的）。西医的意见你可以听做参考，但在这之前，你需要对这个西医做个认识，所以之前的医生搜索也很关键。综合所有信息，加上自己的心理承受能力，自己做最理智，最合适的判断。
&lt;/p&gt;




&lt;p&gt;
另外杨振宁的文章和星际译王胡正的文章放在一起，有没有发现你脑海中的所谓的那些“非科学”，“迷信” 的东西，正在被越来越广泛的意识与接受。想起来小时候外婆给我说的事情，一直到了成年还是用书本老师交的那些全盘否定。直到慢慢的意识到也许可以试着观察，试着找证据，试着被证明。
&lt;/p&gt;


&lt;p&gt;文章可以结束了，想送给所有看到这篇文章的读者：多发善心，多结善果。&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Move From Godaddy DNS to Dnspod</title>
			<link href="http://freetofeel.com/en/2012/10/02/move-to-dnspod.html"/>
			<updated>2012-10-02T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2012/10/02/move-to-dnspod</id>
			<content type="html">&lt;p&gt;It's the first time that my domain can not be resolved for around 6 hours. I learned &lt;a href='http://www.godaddy.com'&gt;godaddy&lt;/a&gt; DNS was blocked in China sometimes.&lt;/p&gt;

&lt;p&gt;This is what I hate to work on a Chinese site. After several minutes struggle, I decide to move my dns from &lt;a href='http://www.godaddy.com'&gt;godaddy&lt;/a&gt; to &lt;a href='https://www.dnspod.cn/'&gt;dnspod&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href='https://www.dnspod.cn/'&gt;dnspod&lt;/a&gt; did really a nice work. No matter the user interfaces or the services. All of them  meet my requirements.&lt;/p&gt;

&lt;p&gt;I don't want to repeat how to setup the dnspod. &lt;a href='https://www.google.com/search?q=dns+godaddy+dnspod&amp;oq=dns+godaddy+dnspod&amp;sugexp=chrome,mod=1&amp;sourceid=chrome&amp;ie=UTF-8'&gt;google search&lt;/a&gt; will tell you more about this.&lt;/p&gt;

&lt;p&gt;Now I will just wait for the new dns takes affect. Actaully dns was solved quickly in China, but not in JiangSu province in my testing. Good luck to my &lt;a href='http://www.dachebang.com'&gt;www.dachebang.com&lt;/&gt;.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Linode Facility Migration to Fremont</title>
			<link href="http://freetofeel.com/en/2012/08/26/linode-migration.html"/>
			<updated>2012-08-26T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2012/08/26/linode-migration</id>
			<content type="html">&lt;p&gt;After using &lt;a href='www.linode.com'&gt;linode&lt;/a&gt; host center at Tokyo for a while, I decided to migrate my node to Fremont.&lt;/p&gt;

&lt;p&gt;Linode provide you a &lt;a href='http://www.linode.com/speedtest/'&gt;speedtest page&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here is my speed testing result. Those two tasks are started at the same time.&lt;/p&gt;

&lt;pre&gt;
100MB-tokyo.bin 1.2/100MB, 47 min left
100MB-fremont.bin 66.5/100MB, 22 secs left
&lt;/pre&gt;


&lt;p&gt;But If I ping the speed test domain:&lt;/p&gt;

&lt;pre&gt;
$ ping speedtest.tokyo.linode.com
PING speedtest.tokyo.linode.com (106.187.96.148): 56 data bytes
64 bytes from 106.187.96.148: icmp_seq=0 ttl=51 time=82.885 ms
64 bytes from 106.187.96.148: icmp_seq=1 ttl=51 time=77.757 ms
64 bytes from 106.187.96.148: icmp_seq=2 ttl=51 time=77.919 ms

$ ping speedtest.fremont.linode.com
PING speedtest.fremont.linode.com (50.116.14.9): 56 data bytes
64 bytes from 50.116.14.9: icmp_seq=0 ttl=51 time=146.268 ms
Request timeout for icmp_seq 1
64 bytes from 50.116.14.9: icmp_seq=2 ttl=51 time=146.403 ms
64 bytes from 50.116.14.9: icmp_seq=3 ttl=51 time=145.409 ms
64 bytes from 50.116.14.9: icmp_seq=4 ttl=51 time=146.396 ms
64 bytes from 50.116.14.9: icmp_seq=5 ttl=51 time=148.467 ms
&lt;/pre&gt;


&lt;p&gt;As you can see the result is totaly different. So which one you can trust?&lt;/p&gt;

&lt;p&gt;The response from linode support:&lt;/p&gt;

&lt;pre&gt;
Individual packets take less time to travel between our Tokyo datacenter and your location than our Fremont datacenter, but that our Fremont datacenter is able to provide you with faster download speeds to your location. Which location is better for you depends on whether your use case likes decreased latency, or better download speeds.
&lt;/pre&gt;


&lt;p&gt;At last I decide to switch to Fremont anyhow. So Linode provide me a new ip address. The interesting thing comes. My ISP blocked this ip address for some reason. You can find the fail point by using either &quot;traceroute&quot; or &lt;a href='http://library.linode.com/linux-tools/mtr/'&gt;MTR&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So I asked for a new ip address and reboot my node.&lt;/p&gt;

&lt;p&gt;Don't forget to update your hosts file with new ip address to make your application work again. Good luck!&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>年末总结(Dragon Year Wish List)</title>
			<link href="http://freetofeel.com/zh/2012/01/22/dragon-year.html"/>
			<updated>2012-01-22T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2012/01/22/dragon-year</id>
			<content type="html">&lt;p&gt;开始慢慢享受除夕之夜了。最尽意的莫过于总结过去，展望明年。
今年除夕只是飘着小雪，但家乡依然比上海冷。
过去的一年我真的努力尝试去喜欢上海，去适应它。尽管为此我已经付出了代价。2011年，身体状况不佳，这个倒是给我提了一个很大的醒。
2011年10月份开始，着实让我体会到了忙，所有的事情交织在一块，忙的我正事都来不及做了。&lt;/p&gt;

&lt;h3&gt;2011 完成的目标&lt;/h3&gt;




&lt;ul&gt;
  &lt;li&gt;
    &lt;del&gt;结婚，自己都觉得不好意思了；&lt;/del&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;下半年装修；&lt;/del&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;完成学车；&lt;/del&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;回家把护照给办了；&lt;/del&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;希望可以在工作中做的更多，得到更大的认可。&lt;/del&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;和亲戚朋友多联系，2010年，我们联系的太少了；&lt;/del&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;争取做一次说的过去的远徒旅行或者国外旅行一次 :-)；&lt;/del&gt;    
  &lt;/li&gt;
  &lt;li&gt;
    &lt;del&gt;多写点有价值的文章&lt;/del&gt;    
  &lt;/li&gt;
&lt;/ul&gt;




&lt;h3&gt;2011 未完成的事情&lt;/h3&gt;




&lt;ul&gt;
  &lt;li&gt;
    上线一个新的产品， 如果有精力将其它几个产品打包上线 -- &lt;br /&gt;事情多蹉跎，这个是我最想做的事情，在最后的几个月只能被搁置，完成率60%。
  &lt;/li&gt;
  &lt;li&gt;
    在互联网上混的更实在，看到这领域太多的肤浅和吹嘘 -- &lt;br /&gt;因为第一次定目标，此目标定的太虚。想的没有用实体表达出来，以至目前无法测量。  
  &lt;/li&gt;
  &lt;li&gt;
    寻找一种锻炼身体的方式，这个是最急切的任务 -- &lt;br /&gt;尝试了去打羽毛球，也确实坚持了半年多，但最后还是级别太低，没能最后坚持下来。  
  &lt;/li&gt;
&lt;/ul&gt;




&lt;h3&gt;2012 TODO LIST：&lt;/h3&gt;




&lt;ul&gt;
  &lt;li&gt;
    强身健体第一位，具体目标是锻炼腰部腹部肌肉，提高身体协调能力。
  &lt;/li&gt;
  &lt;li&gt;
    职业发展： &lt;br /&gt;
    a. 空间的预测;&lt;br /&gt;
    b. 时间的估计，把持重点;&lt;br /&gt;
    c. Have a better idea about how to manage team and how to manage company.
  &lt;/li&gt;
  &lt;li&gt;
    增加静心休息的时间。
  &lt;/li&gt;
  &lt;li&gt;
    买车。
  &lt;/li&gt;
  &lt;li&gt;
    读书&gt;=15本；&lt;br /&gt;
    电影&gt;=5;&lt;br /&gt;
  &lt;/li&gt;
  &lt;li&gt;
    完成网站建设，其实现在已经不再是为了完成而完成了。练手；练脑；提高思维的整体性，连续性，可扩展性。
  &lt;/li&gt;
  &lt;li&gt;
    蜜月履行。
  &lt;/li&gt;
  &lt;li&gt;
    去年的时间管理基本满意，需要继续坚持下来。
  &lt;/li&gt;
&lt;/ul&gt;




&lt;h3&gt;2012 WISH LIST：&lt;/h3&gt;


&lt;p&gt;祝福我，我的家人，我认识的亲戚朋友身体健健康康！&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>How And When To Use Mysql Federated Storage Engine</title>
			<link href="http://freetofeel.com/en/2011/08/01/mysql-federated-engine.html"/>
			<updated>2011-08-01T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/08/01/mysql-federated-engine</id>
			<content type="html">&lt;p&gt;Learned from &lt;a href='http://conferences.oreillynet.com/presentations/mysql06/mixi_update.pdf'&gt;mixi update&lt;/a&gt; that they are using mysql federated engine for db partitioning.&lt;/p&gt;

&lt;pre&gt;
Use FEDERATED TABLE from MySQL 5.
Or do SELECT twice which is faster than using FEDERATED TABLEs
&lt;/pre&gt;


&lt;p&gt;&lt;a href='http://dev.mysql.com/doc/refman/5.0/en/federated-storage-engine.html'&gt;Mysql Official document&lt;/a&gt; didn't talk too much about how and when to use federated engine. You can learned more from &lt;a href='http://www.xaprb.com/blog/2007/01/29/mysqls-federated-storage-engine-part-1/'&gt;Mysql Federated storage engine 1&lt;/a&gt; and &lt;a href='http://www.xaprb.com/blog/2007/01/31/mysqls-federated-storage-engine-part-2/'&gt;Mysql Federated storage engine 2&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Finally I find some clues in &lt;a href='http://www.xaprb.com/blog/2007/01/31/mysqls-federated-storage-engine-part-2/'&gt;Mysql Federated storage engine 2&lt;/a&gt;:&lt;/p&gt;

&lt;pre&gt;
Strengths:

For example, pretend you have a set of distributed servers working on small parts of a large task, and their results need to be merged back together when done without conflict. Many solutions to this problem involve modulo arithmetic for generating primary keys. This could be a good use of a FEDERATED table: just federate one central table on all the servers, have the processes INSERT into the table, and they’ll get non-conflicting primary key numbers. That’s a trivially easy way to coordinate distributed resource requests.

The way it lets you mis-define tables holds great potential. For example, Giuseppe Maxia has already noted that you can define a FEDERATED table against a view. Views don’t have indexes (yet), but that shouldn’t stop you from telling the engine it does! That way, your WHERE clauses are sent through to the remote server unharmed, where the view can execute GROUP BY queries and the like. Giuseppe even outlines a way to get the remote server to execute arbitrary commands via a FEDERATED table!

What about combinations with replication, triggers and so forth? There must be many more cool hacks waiting to be discovered.

&lt;/pre&gt;


&lt;p&gt;And in &lt;a href='http://mysql.lamphost.net/tech-resources/articles/mysql-federated-storage.html'&gt;Accessing Distributed Data with the Federated Storage Engine&lt;/a&gt;, you can find a simple demo that 'merge' two partioned tables into one by creating a view. Although, this is not what I expected. It will still make sense in some cases.&lt;/p&gt;

&lt;p&gt;Still have some questions about how the performance looks like when use view? And what's the limitation of rows or table size when using federated storage engine?&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Network Sharing Between Ubuntu And IPhone4(China Unicom Contract Version)</title>
			<link href="http://freetofeel.com/en/2011/07/02/iphone4-network-sharing-under-ubuntu.html"/>
			<updated>2011-07-02T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/07/02/iphone4-network-sharing-under-ubuntu</id>
			<content type="html">&lt;p&gt;Find a solution from Internet that can make network sharing between Ubuntu And IPhone4.&lt;/p&gt;

&lt;pre&gt;
sudo add-apt-repository ppa:pmcenery/ppa

sudo apt-get update

sudo apt-get install gvfs ipheth-dkms ipheth-utils
&lt;/pre&gt;


&lt;p&gt;If you can pass all these steps, and then restart your machine. Bingo!&lt;/p&gt;

&lt;p&gt;You can find more information &lt;a href='http://ivkin.net/2010/05/tethering-ubuntu-lucid-lynx-and-iphone-os/#comment-4790' &gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Restore Lost Commits After Git Hard Reset</title>
			<link href="http://freetofeel.com/en/2011/06/22/get-commit-back-after-git-hard-reset.html"/>
			<updated>2011-06-22T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/06/22/get-commit-back-after-git-hard-reset</id>
			<content type="html">&lt;p&gt;Sometimes, you will make mistakes. But when someone told you there still is a hope that if you try xxxxx. What feeling will you have?&lt;/p&gt;

&lt;p&gt;The following might be one solution after 'git reset --hard' and realized you made a mistake:&lt;/p&gt;

&lt;pre&gt;
  $ git reflog
  $ git merge 7c61179
&lt;/pre&gt;


&lt;p&gt;Check the blog post &lt;a href='http://gitready.com/advanced/2009/01/17/restoring-lost-commits.html'&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Replace MySql Table with NoSQL DB</title>
			<link href="http://freetofeel.com/en/2011/06/12/nosql-db-try.html"/>
			<updated>2011-06-12T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/06/12/nosql-db-try</id>
			<content type="html">&lt;h4&gt;Backgroud:&lt;/h4&gt;


&lt;p&gt;I am not nosql fans. I don't have the habit to replace whole mysql db with nosql db. But if a mysql table can be replaced with nosql db and expensive queries are generated againest this table, I will give a try of nosql DB.&lt;/p&gt;

&lt;p&gt;In our product, we have a unique user login log table to know how many users logined in a specify date. Here is the table structure:&lt;/p&gt;

&lt;pre&gt;
  unique_login_logs: 
    _attributes:  {phpName: UniqueLoginLog}
    id:
    user_id: { type: integer }
    date: { type: date, index: true }
    created_at:
    _uniques:
      unique_date_type: [user_id, date]
&lt;/pre&gt;


&lt;p&gt;The expensive query looks like:&lt;/p&gt;

&lt;pre&gt;
select date, count(`user_id`) from unique_login_logs group by date order by date desc;'
&lt;/pre&gt;


&lt;p&gt;And the other related operations will be save an entry into this table or check the user entry for a specify date is in the table or not. Nothing more.&lt;/p&gt;

&lt;h4&gt;Choose NoSQL DB from &lt;a href='http://en.wikipedia.org/wiki/NoSQL'&gt;wiki page&lt;/a&gt;: &lt;/h4&gt;




&lt;pre&gt;
...
Key-value cache in RAM

    Citrusleaf database
    memcached
    Oracle Coherence
    Redis
    Tuple space
    Velocity

Key-value stores implementing the Paxos algorithm

    Keyspace

Key-value stores on disk

    BigTable
    CDB
    Citrusleaf database
    Dynomite
    Keyspace
    membase
    Memcachedb
    Redis
    Tokyo Cabinet
    TreapDB
    Tuple space
    MongoDB
...
&lt;/pre&gt;


&lt;p&gt;For my feature request, I need a disk stored key-value system. I just spend 1 minute to take a look the MongoDB features. It meet my feature requirements. That's enough. If you know more about the other nosql DBs, of course you should choose the one which suit yours best.&lt;/p&gt;

&lt;h4&gt;Try MongoDB&lt;/h4&gt;


&lt;p&gt;Step 1: Install MongoDB(http://www.mongodb.org/display/DOCS/Quickstart+Unix);&lt;/p&gt;

&lt;p&gt;Step 2: Simple demo testing:&lt;/p&gt;

&lt;p&gt;create a new db:&lt;/p&gt;

&lt;pre&gt;
use mydb;
&lt;/pre&gt;


&lt;p&gt;Save an entry:&lt;/p&gt;

&lt;pre&gt;
db.uniqueLoginLog.save({date: '2011-06-09', user_id: 101});
db.uniqueLoginLog.save({date: '2011-06-09', user_id: 111});
db.uniqueLoginLog.save({date: '2011-06-09', user_id: 102});
..
db.uniqueLoginLog.save({date: '2011-06-11', user_id: 100});
db.uniqueLoginLog.save({date: '2011-06-11', user_id: 101});
db.uniqueLoginLog.save({date: '2011-06-11', user_id: 102});
&lt;/pre&gt;


&lt;p&gt;Group entries by date:&lt;/p&gt;

&lt;pre&gt;
db.uniqueLoginLog.group(
           {key: { date:true },
            reduce: function(obj,prev) { prev.count ++; },
            initial: { count: 0 }
            });
            
&lt;/pre&gt;


&lt;p&gt;The output looks like:&lt;/p&gt;

&lt;pre&gt;
[
    {
        &quot;date&quot; : &quot;2011-01-01&quot;,
        &quot;count&quot; : 3
    },
    {
        &quot;date&quot; : &quot;2011-01-02&quot;,
        &quot;count&quot; : 3
    },
    {
        &quot;date&quot; : &quot;2011-01-03&quot;,
        &quot;count&quot; : 1
    },
    {
        &quot;date&quot; : &quot;2011-01-04&quot;,
        &quot;count&quot; : 1
    }
]
&lt;/pre&gt;


&lt;p&gt;&lt;/p&gt;

&lt;p&gt;With the output, I can do the order in client.&lt;/p&gt;

&lt;h4&gt;Install PHP Mongo Extension&lt;/h4&gt;


&lt;p&gt;You can install Mongo PHP extension with pecl command line or install it &lt;a href='http://pecl.php.net/package/mongo'&gt;manually&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;
&gt; pecl search mongo
Retrieving data...0%
Matched packages, channel pecl.php.net:
=======================================
Package Stable/(Latest) Local
mongo   1.1.4 (stable)        MongoDB database driver

&gt; pecl install mongo
&lt;/pre&gt;




&lt;h4&gt;Get stored items with php function&lt;/h4&gt;


&lt;p&gt;PHP code:&lt;/p&gt;

&lt;pre&gt;
$m = new Mongo();

$db = $m-&gt;mydb;

$collection = $db-&gt;uniqueLoginLog;


$obj = array('date'=&gt; '2011-06-09', 'user_id'=&gt; 101);
$collection-&gt;insert($obj);



$keys = array(&quot;date&quot; =&gt; 1);
$initial = array(&quot;count&quot; =&gt; 0);
$reduce = &quot;function(obj,prev) { prev.count ++; }&quot;;
$g = $collection-&gt;group($keys, $initial, $reduce);

var_dump($g);

&lt;/pre&gt;


&lt;p&gt;Output looks like:&lt;/p&gt;

&lt;pre&gt;
array(4) {
  [&quot;retval&quot;]=&gt;
  array(3) {
    [0]=&gt;
    array(2) {
      [&quot;date&quot;]=&gt;
      string(10) &quot;2011-06-09&quot;
      [&quot;count&quot;]=&gt;
      float(17)
    }
    [1]=&gt;
    array(2) {
      [&quot;date&quot;]=&gt;
      string(10) &quot;2011-06-11&quot;
      [&quot;count&quot;]=&gt;
      float(10)
    }
    [2]=&gt;
    array(2) {
      [&quot;date&quot;]=&gt;
      string(10) &quot;2011-06-10&quot;
      [&quot;count&quot;]=&gt;
      float(7)
    }
  }
  [&quot;count&quot;]=&gt;
  float(34)
  [&quot;keys&quot;]=&gt;
  int(3)
  [&quot;ok&quot;]=&gt;
  float(1)
}
&lt;/pre&gt;




&lt;h4&gt;Deploy to production?&lt;/h4&gt;


&lt;p&gt;Until now, the demo is still a toy. If you want to deploy it to production, there are more work need to to be done. Take a look at the &lt;a href='http://www.mongodb.org/display/DOCS/Admin+Zone'&gt;admin zone&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;For my feature implemention, I will consider &lt;a href='http://www.mongodb.org/display/DOCS/Replication'&gt;Replication&lt;/a&gt; next step.&lt;/p&gt;

&lt;p&gt;Summary:&lt;/p&gt;

&lt;p&gt;This is not a &lt;a href='http://www.mongodb.org/display/DOCS/Tutorial'&gt;toturial&lt;/a&gt; about how to use MongoDB. It is just a example that can use nosql db in your production.&lt;/p&gt;

&lt;p&gt;Reference:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href='http://try.mongodb.org/'&gt;A Tiny MongoDB Browser Shell (mini tutorial included)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href='https://github.com/mongodb/mongo/tree/master/jstests/'&gt;JsTest&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
		</entry>
	
		<entry>
			<title>When To Use Combine Index</title>
			<link href="http://freetofeel.com/en/2011/05/24/mysql-index-merge.html"/>
			<updated>2011-05-24T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/05/24/mysql-index-merge</id>
			<content type="html">&lt;p&gt;There are already a lot of posts which gave a introduction of what index merge is in MySQL. One of them is:&lt;/p&gt;

&lt;p&gt;&lt;a href='http://brian.moonspot.net/2008/04/22/playing-with-mysql-index-merge/'&gt;Playing with MySQL's index merge&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Today I just noticed the combined index also can be affected by the single column index. For example:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Let's say we have a table named table1 which have 100,000 items. The size of this table is 35MB.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Table structure:&lt;/p&gt;

&lt;pre&gt;
CREATE TABLE `table1` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) DEFAULT NULL,
  `status1` int(11) DEFAULT NULL,
  `status2` int(11) DEFAULT NULL,
  `status3` int(11) DEFAULT NULL,
  `status4` int(11) DEFAULT NULL,
  `status5` int(11) DEFAULT NULL,
  `status6` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `table1_name_unique` (`name`),
  KEY `table1_status1` (`status1`),
  KEY `table1_status2` (`status2`),
  KEY `table1_status3` (`status3`),
  KEY `table1_status4` (`status4`),
  KEY `table1_status5` (`status5`),
  KEY `table1_status6` (`status6`),
  KEY `table1_combine_index` (`status1`,`status2`,`status3`,`status4`,`status5`,`status6``)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
&lt;/pre&gt;


&lt;p&gt;We have a query need to select items from table1 table with checking all the status columns in where clause. Let's do a explain:&lt;/p&gt;

&lt;pre&gt;
explain select * from table1 where status1=1 and status2=1 and status3=1 and status4=1 and status5=1 and status6=1  
&lt;/pre&gt;


&lt;p&gt;Explain result:&lt;/p&gt;

&lt;pre&gt;
  select_type: SIMPLE
  table: table1
  type: index_merge
  possible_keys: PRIMARY,table1_status1,table1_status2,table1_status3,table1_status4,table1_status5,table1_status6,table1_combine_index
  key: table1_status1,table1_status2,table1_status3,table1_status4,table1_status5,table1_status6
  key_len: 1,1,4,4,4,5
  refs: NULL
  rows: 1955
  Extra: Using intersect(table1_status1,table1_status2,table1_status3,table1_status4,table1_status5,table1_status6); Using where
&lt;/pre&gt;


&lt;p&gt;The select query takes &lt;b&gt;3.5ms&lt;/b&gt; by intersecting indexes.&lt;/p&gt;

&lt;p&gt;What happened if we force index to use table1_combine_index:&lt;/p&gt;

&lt;pre&gt;
explain select * from table1 force index (table1_combine_index)  where status1=1 and status2=1 and status3=1 and status4=1 and status5=1 and status6=1  
&lt;/pre&gt;


&lt;p&gt;Explain result:&lt;/p&gt;

&lt;pre&gt;
  select_type: SIMPLE
  table: table1
  type: ref
  possible_keys: table1_combine_index
  key: table1_combine_index
  key_len: 9
  refs: const,const
  rows: 62590
  Extra: Using where
&lt;/pre&gt;


&lt;p&gt;The select query takes &lt;b&gt;10.5ms&lt;/b&gt; by using combine index.&lt;/p&gt;

&lt;p&gt;In this example, intersecting index is more useful than combine index. There is an article give a more detailed explanation why it works like this:&lt;/p&gt;

&lt;p&gt;&lt;a href='http://www.mysqlperformanceblog.com/2009/09/19/multi-column-indexes-vs-index-merge/'&gt;Multi Column indexes vs Index Merge&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Now it's time to make this example a little complicated.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;We have another table named table2, the structure looks like:&lt;/p&gt;

&lt;pre&gt;
CREATE TABLE `table2` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `table1_id` int(11) NOT NULL,
  `column1` datetime NOT NULL,
  `column2` varchar(255) NOT NULL,
  `column3` text,
  `column4` tinyint(4) NOT NULL,
  `column5 ` tinyint(4) NOT NULL,
  `column6 ` tinyint(4) NOT NULL,
  `column7` varchar(255) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `column7 ` (`column7 `),
  KEY `table2_FI_1` (`table1_id `)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
&lt;/pre&gt;


&lt;p&gt;There are 20,000 rows in table2, with size 11MB. We have a feature request need to join table1 with table2 and sort by table2's id.&lt;/p&gt;

&lt;pre&gt;
SELECT sql_no_cache * FROM table2 LEFT JOIN table1 ON (table2.table1_id = table1.id) WHERE table1.status1=1 and table1.status2=1 and table1.status3=1 and table1.status4=1 and table1.status5=1 and table1.status6=1 ORDER BY table2.id DESC LIMIT 10;
&lt;/pre&gt;


&lt;p&gt;It takes &lt;b&gt;3s&lt;/b&gt; to finish the query. The explain tells you:&lt;/p&gt;

&lt;pre&gt;
  select_type: SIMPLE
  table: table1
  type: index_merge
  possible_keys: PRIMARY,`table1_status1`,`table1_status2`,`table1_status3`,`table1_status4`,`table1_status5`,`table1_status6`,`table1_combine_index`
  key: `table1_status1`,`table1_status2`,`table1_status3`,`table1_status4`,`table1_status5`,`table1_status6`
  key_len: 1,1,4,4,4,5
  refs: NULL
  rows: 1955
  Extra: Using intersect(`table1_status1`,`table1_status2`,`table1_status3`,`table1_status4`,`table1_status5`,`table1_status6`); Using where
  
  ---
  select_type: SIMPLE
  table: table2
  type: ref
  possible_keys: table2_FI_1
  key: table2_FI_1
  key_len: 4
  refs: table1.id
  rows: 1
  Extra:  
&lt;/pre&gt;


&lt;p&gt;Now I want to remove these single column indexes in table1 to see what will happen:&lt;/p&gt;

&lt;pre&gt;
  select_type: SIMPLE
  table: table2
  type: index
  possible_keys: table2_FI_1
  key: PRIMARY
  key_len: 4
  refs: 
  rows: 10
  Extra:
  
  ---
  
  select_type: SIMPLE
  table: table1
  type: eq_ref
  possible_keys: PRIMARY,table1_combine_index
  key: PRIMARY
  key_len: 4
  refs: table2.table1_id
  rows: 1
  Extra: Using where
&lt;/pre&gt;


&lt;p&gt;After removing the single column indexes in table 1, this select query only takes &lt;b&gt;2.4ms&lt;/b&gt;. To explain this, we can simply treat (status1,status2,status3,status4,status5,status6) as one column in table1. I think the single columns indexes affected the 'join' performance. MySQL need to use these single indexes to filter the table1 firstly and then make a join with table2.&lt;/p&gt;

&lt;p&gt;Summary:&lt;/p&gt;

&lt;p&gt;Combine index is not always better than index merge. To know which one is better, explain your query, analyze it and adjust the index.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Nginx, PHP-FPM, 404 error after upgrading to Ubuntu 11.04</title>
			<link href="http://freetofeel.com/en/2011/05/06/upgrade-ubuntu-fpm-404-error.html"/>
			<updated>2011-05-06T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/05/06/upgrade-ubuntu-fpm-404-error</id>
			<content type="html">&lt;p&gt;After upgrading from ubuntu 10.10 to ubuntu 11.04 my local site didn't work anymore. It reponsed with a 404 page.&lt;/p&gt;

&lt;p&gt;After researcing for a while, I found the root should be put outside the location property:
Before:&lt;/p&gt;

&lt;pre&gt;
server {
  server_name  localhost;

  location / {
        root   /var/www;
        index  index.php index.html index.htm;
    }
 ....
}

&lt;/pre&gt;


&lt;p&gt;After:&lt;/p&gt;

&lt;pre&gt;
server {

  root   /var/www;
  index  index.php index.html index.htm;
  server_name  localhost;

 ....
}
&lt;/pre&gt;


&lt;p&gt;Now it works, but have no idea what has been changed since Ubuntu upgrade.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Solve Wireless Issue When Upgrading From 10.10 to 11.04</title>
			<link href="http://freetofeel.com/en/2011/05/01/solve-ubuntu1104-wifi-issue.html"/>
			<updated>2011-05-01T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/05/01/solve-ubuntu1104-wifi-issue</id>
			<content type="html">&lt;p&gt;After upgrading from ubuntu 10.10 to ubuntu 11.04 the wireless stop working.&lt;/p&gt;

&lt;p&gt;The first step, I was using &lt;a href=&quot;https://help.ubuntu.com/community/WifiDocs/WirelessTroubleShootingGuide&quot;&gt;ubuntu trouble shooting&lt;/a&gt; to detect the issue.&lt;/p&gt;

&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;Detail whether there are software or hardware blocks on your rf devices. To get a list of devices and their hardware and software status, try &quot;sudo rfkill list&quot;.&lt;/li&gt;
&lt;/ol&gt;


&lt;pre&gt;
~$ sudo rfkill list
0: hp-wifi: Wireless LAN
    Soft blocked: yes
    Hard blocked: yes
&lt;/pre&gt;


&lt;p&gt;Unblock your devices by &quot;sudo rfkill unblock 0&quot;.&lt;/p&gt;

&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;Check for Device Recognition for my HP laptop(amd64)&lt;/li&gt;
&lt;/ol&gt;


&lt;pre&gt;
~$ sudo lshw -C network
  *-network UNCLAIMED     
       description: Network controller
       product: BCM4311 802.11a/b/g
       vendor: Broadcom Corporation
       physical id: 0
       bus info: pci@0000:30:00.0
       version: 01
       width: 32 bits
       clock: 33MHz
       capabilities: pm msi pciexpress bus_master cap_list
       configuration: latency=0
       resources: memory:c8000000-c8003fff
  *-network
       description: Ethernet interface
       product: NetXtreme BCM5788 Gigabit Ethernet
       vendor: Broadcom Corporation
       physical id: 1
       bus info: pci@0000:02:01.0
       logical name: eth0
       version: 03
       serial: 00:17:08:37:6a:64
       size: 100Mbit/s
       capacity: 1Gbit/s
       width: 32 bits
       clock: 66MHz
       capabilities: pm vpd msi bus_master cap_list ethernet physical tp 10bt 10bt-fd 100bt 100bt-fd 1000bt 1000bt-fd autonegotiation
       configuration: autonegotiation=on broadcast=yes driver=tg3 driverversion=3.116 duplex=full firmware=5788-v3.26 ip=192.168.1.103 latency=64 link=yes mingnt=64 multicast=yes port=twisted pair speed=100Mbit/s
       resources: irq:23 memory:d4000000-d400ffff
&lt;/pre&gt;


&lt;p&gt;Here I can see 'tg3' driver was using. And by checking the loaded module the tg3 is there.&lt;/p&gt;

&lt;pre&gt;
~$ sudo lsmod
&lt;/pre&gt;


&lt;p&gt;If your driver was not loaded, you can load it by &quot;sudo modprobe &lt;module&gt;&quot;&lt;/p&gt;

&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;Identify PCI devices with PCI ID.&lt;/li&gt;
&lt;/ol&gt;


&lt;pre&gt;
~$ sudo lspci -v | grep Ethernet
02:01.0 Ethernet controller: Broadcom Corporation NetXtreme BCM5788 Gigabit Ethernet (rev 03)

~$ sudo lspci -v | grep Network
30:00.0 Network controller: Broadcom Corporation BCM4311 802.11a/b/g (rev 01)
&lt;/pre&gt;


&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;Check the addtional drivers, I found &quot;Broadcom STA wireless driver&quot; was using.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Everything looks good until now. Driver was working and was recognized. So I guess the issue might be the compatibility with new kernel?&lt;/p&gt;

&lt;ol type=&quot;a&quot;&gt;
&lt;li&gt;With the help from google.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;i). Someone solve it by install &lt;a herf=&quot;http://ubuntuforums.org/showthread.php?t=1653157&quot;&gt;linux-backports-modules-wireless-maverick-generic&lt;/a&gt;. It is interesting to know what &lt;a hef=&quot;https://help.ubuntu.com/community/UbuntuBackports&quot;&gt;backports&lt;/a&gt; is.&lt;/p&gt;

&lt;p&gt;Unfortunately it didn't work for me.&lt;/p&gt;

&lt;p&gt;ii). So I tried the solution in this &lt;a href=&quot;http://ubuntuforums.org/showthread.php?t=1653157&amp;page=2&quot;&gt;thread&lt;/a&gt; by disable my &quot;Broadcom STA wireless driver&quot; and install b43.&lt;/p&gt;

&lt;pre&gt;
Removing &quot;bcmwl-kernel-source&quot; by using Synaptic Package Manager
Then installing &quot;firmware-b43-installer&quot; and &quot;b43-fwcutter&quot; again by Synaptic Package Manager. 
&lt;/pre&gt;


&lt;p&gt;At the end of step e, and by rebooting laptop, the wifi issue was fixed. If you still has the issue, I suggest check the trouble shooting tutorial again. It is really helpful.&lt;/p&gt;

&lt;p&gt;Reference:&lt;/p&gt;

&lt;p&gt;1.http://linuxfans.keryxproject.org/?page_id=27&lt;/p&gt;

&lt;p&gt;2.http://www.ubuntumini.com/2009/11/broadcom-wireless-driver-fix-in-karmic.html&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>What RabbitMQ Cluster Can Do</title>
			<link href="http://freetofeel.com/en/2011/04/22/what-rabbitmq-cluster-can-do.html"/>
			<updated>2011-04-22T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/04/22/what-rabbitmq-cluster-can-do</id>
			<content type="html">&lt;h3&gt;What RabbitMQ cluster can do - Scaling and Reliability&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Example 1&lt;/b&gt;:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;All data/state required for the operation of a RabbitMQ broker is replicated across all nodes.&lt;/p&gt;

&lt;p&gt;Let's take an example to help you understand better.&lt;/p&gt;

&lt;p&gt;There is a publisher which publish 10 messages to RabbitMQ broker(*1).&lt;/p&gt;

&lt;p&gt;|Publisher| --&gt; |10 Messages| --&gt; |Broker( = Node_A + Node_B)|&lt;/p&gt;

&lt;p&gt;So Node_A will receive Message 1, Message 3, 5, 7, 9; Node_B will receive Message 2, Message 4, 6, 8, 10.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;b&gt;Example 2&lt;/b&gt;:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We still use the above example. If the Node_A crashed when it is consuming the messages, what happens?&lt;/p&gt;

&lt;p&gt;Before Node_A crashed (I simply powered off this machine):&lt;/p&gt;

&lt;p&gt;Node_A finished Message 1, Message 3, and it is starting to consume Message 5;&lt;/p&gt;

&lt;p&gt;Node_B finished Message 2, Message 4 and it is starting to consume Message 6.&lt;/p&gt;

&lt;p&gt;After Node_A crashed:&lt;/p&gt;

&lt;p&gt;Node_A stopped working;&lt;/p&gt;

&lt;p&gt;Node_B finished Message 6, Message 7, Message 8, Message 9, Message 10 and Message 5.&lt;/p&gt;

&lt;p&gt;Yes, as you can see, even Node_A dies unexpected. Broker still can get the status of Message 5 and send it to Node_B.
And you can find following explanation:&lt;/p&gt;

&lt;pre&gt;
  If a node goes down or becomes unreachable what effects can this have on the cluster? Do things 'hang' for a bit?
  
  Topology change operations (see above) could potentially pause operation for a brief time but they will complete eventually. We use the net_kernel erlang module to do monitoring between nodes. The default &quot;tick&quot; time there is 60 seconds but this can be reduced. Further, in the event of a failure, any communication between the nodes will likely result in an error being generated and detected immediately: i.e. the only time at which you would not know about a node failure for 60 seconds is if there was no communication between the nodes for that amount of time.
  
  ....
  
&lt;/pre&gt;


&lt;h3&gt;What RabbitMQ cluster can not do - High Availability&lt;/h3&gt;

&lt;p&gt;So the 60 seconds is what RabbitMQ can not do. We call it high availability.&lt;/p&gt;

&lt;pre&gt;
...
Whilst RabbitMQ also supports clustering, clustering is intended to facilitate scalability, not availability. Thus in a cluster, if a node fails, queues which were on the failed node are lost. With the high availability setup described in this guide, when a node fails, the durable queues and the persistent messages within them can be recovered by a different node.
...
&lt;/pre&gt;


&lt;p&gt;To build a high availability and scalable application, you can take a look &lt;a href='http://www.rabbitmq.com/pacemaker.html'&gt;RabbitMQ Placemaker&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;RabbitMQ broker - a logical grouping of one or several Erlang nodes, each running the RabbitMQ application and sharing users, virtual hosts, queues, exchanges, etc. Sometimes we refer to the collection of nodes as a cluster.&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>Do we still need scrum if ...</title>
			<link href="http://freetofeel.com/en/2011/03/08/do-we-still-need-scrum.html"/>
			<updated>2011-03-08T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/03/08/do-we-still-need-scrum</id>
			<content type="html">&lt;p&gt;Just learned an interesting point from &lt;a href='http://architects.dzone.com/articles/balancing-software'&gt;'balance software' post&lt;/a&gt;:&lt;/p&gt;

&lt;h4&gt;When Scrum has died&lt;/h4&gt;


&lt;pre&gt;
  In the journey of dramatic improvements to bring your code base under control, there are few things that you should take notice off.

  * An architecture will emerge that supports the design of the resident parts.  Things fit together sweetly and each part supports the other part in symbiotic relationships.
  * The code base will get smaller and the team will shrink to, perhaps,  just 2 or 3 people.
  * Each developer will take on greater responsibility and will find it difficult to break core principles.  The act of living those principles will result in a values that don't need to be listed on a poster on the wall.
  * The scrum master will become redundant.
  * The product owner will do more by working directly with the developers.
  * The developers will represent the interest of their customers directly.
  * The bottleneck will shift from development to the product owner and eventually the customer.
&lt;/pre&gt;


&lt;p&gt;In my opinion, Scrum is used for company to delivery features to users quickly and interactively. As a team, with scrum you can easily prove your works after a short time. You don't have to wait for one year or longer. And big feature can be split into small ones. Everyone know what need to be done in following weeks. You don't have to write so many documents to trace what's going on. Ideally, as the authors said, if the code base can be made smaller and smaller. And the new feature will be just a plugin to your platform. Of course you don't need scrum. Should we call it as 'factory model'? As workers(developers) just need to collect the feature request and compose it by some existing functions. And plug it into the platform(codebase). I have not seen a company who has such a powerful platform. Will the bottleneck be the platform itself then?&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Web Server Memory Monitor</title>
			<link href="http://freetofeel.com/en/2011/03/02/server-monitor.html"/>
			<updated>2011-03-02T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/03/02/server-monitor</id>
			<content type="html">&lt;h2&gt;free-m&lt;/h2&gt;


&lt;pre&gt;
free-m: to see how much memory you are currently using
&lt;/pre&gt;


&lt;p&gt;Output:
&lt;code&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; total &amp;nbsp;&amp;nbsp; used&amp;nbsp;&amp;nbsp; free&amp;nbsp;&amp;nbsp;&amp;nbsp; shared buffers cached&lt;br&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Mem:&amp;nbsp;90&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 85 &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 4&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 3&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 34&lt;br&gt;
-/+ buffers/cache:&amp;nbsp; 46&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 43&lt;br&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Swap:&amp;nbsp;&amp;nbsp; 9&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 0 &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 9 &lt;/code&gt;
The top row 'used' (85) value will almost always nearly match the top row mem value (90).  Since Linux likes to use any spare memory to cache disk blocks (34).&lt;/p&gt;

&lt;p&gt;The key used figure to look at is the buffers/cache row used value (46).  This is how much space your applications are currently using.  For best performance, this number should be less than your total (90) memory.  To prevent out of memory errors, it needs to be less than the total memory (90) and swap space (9).&lt;/p&gt;

&lt;p&gt;If you wish to quickly see how much memory is free look at the buffers/cache row free value (43). This is the total memory (90)- the actual used (46). (90 - 46 = 44, not 43, this will just be a rounding issue)&lt;/p&gt;

&lt;h2&gt;ps aux&lt;/h2&gt;


&lt;pre&gt;
ps aux: to see where all your memory is going.That will show the percentage of memory each process is using.  You can use it to identify the top memory users (usually Apache, MySQL and Java processes).
&lt;/pre&gt;


&lt;p&gt;Output:
&lt;code&gt;
USER PID %CPU %MEM VSZ&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; RSS&amp;nbsp;&amp;nbsp; TTY&amp;nbsp;&amp;nbsp; STAT
&amp;nbsp; START TIME COMMAND&lt;br&gt;
root 854 0.5&amp;nbsp; 39.2 239372&amp;nbsp; 36208 pts/0 S&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 22:50 0:05
/usr/local/jdk/bi&lt;br&gt;
n/java -Xms16m -Xmx64m -Djava.awt.headless=true -Djetty.home=/opt/jetty -cp /opt&lt;br&gt;
/jetty/ext/ant.jar:/opt/jetty/ext/jasper-compiler.jar:/opt/jetty/ext/jasper-runt&lt;br&gt;
ime.jar:/opt/jetty/ext/jcert.jar:/opt/jetty/ext/jmxri.jar:/opt/jetty/ext/jmxtool
&lt;/code&gt;
We can see that java is using up 39.2% of the available memory.&lt;/p&gt;

&lt;h2&gt;vmstat&lt;/h2&gt;


&lt;pre&gt;
vmstat:helps you to see, among other things, if your server is swapping.
&lt;/pre&gt;


&lt;p&gt;&lt;code&gt;
- vmstat 1 2
   procs                      memory    swap          io     system         cpu
 r  b  w   swpd   free   buff  cache  si  so    bi    bo   in    cs  us  sy  id
 0  0  0  39132   2416    804  15668   4   3     9     6  104    13   0   0 100
 0  0  0  39132   2416    804  15668   0   0     0     0   53     8   0   0 100
 0  0  0  39132   2416    804  15668   0   0     0     0   54     6   0   0 100
&lt;/code&gt;
The first row shows your server averages.  The si (swap in) and so (swap out) columns show if you have been swapping (i.e. needing to dip into 'virtual' memory) in order to run your server's applications.  The si/so numbers should be 0 (or close to it).  Numbers in the hundreds or thousands indicate your server is swapping heavily.  This consumes a lot of CPU and other server resources and you would get a very (!) significant benefit from adding more memory to your server.&lt;/p&gt;

&lt;p&gt;Some other columns of interest: The r (runnable) b (blocked) and w (waiting) columns help see your server load.  Waiting processes are swapped out.  Blocked processes are typically waiting on I/O.  The runnable column is the number of processes trying to something.  These numbers combine to form the 'load' value on your server.  Typically you want the load value to be one or less per CPU in your server.&lt;/p&gt;

&lt;p&gt;The bi (bytes in) and bo (bytes out) column show disk I/O (including swapping memory to/from disk) on your server.&lt;/p&gt;

&lt;p&gt;The us (user), sy (system) and id (idle) show the amount of CPU your server is using.  The higher the idle value, the better.&lt;/p&gt;

&lt;h2&gt;Resolving: High Java Memory Usage&lt;/h2&gt;


&lt;p&gt;Java processes can often consume more memory than any other application running on a server.&lt;/p&gt;

&lt;p&gt;Java processes can be passed a -Xmx option.  This controls the maximum Java memory heap size.  It is important to set a limit on the heap size, otherwise the heap will keep increasing until you get out of memory errors on your VPS (resulting in the Java process - or even some other, random, process - dying.&lt;/p&gt;

&lt;p&gt;Usually the setting can be found in your /usr/local/jboss/bin/run.conf or /usr/local/tomcat/bin/setenv.sh config files.  And your RimuHosting default install should have a reasonable value in there already.&lt;/p&gt;

&lt;p&gt;If you are running a custom Java application, check there is a -XmxNNm (where NN is a number of megabytes) option on the Java command line.&lt;/p&gt;

&lt;p&gt;The optimal -Xmx setting value will depend on what you are running.  And how much memory is available on your server.&lt;/p&gt;

&lt;p&gt;From experience we have found that Tomcat often runs well with an -Xmx between 48m and 64m.  JBoss will need a -Xmx of at least 96m to 128m.  You can set the value higher.  However, you should ensure that there is memory available on your server.&lt;/p&gt;

&lt;p&gt;To determine how much memory you can spare for Java, try this: stop your Java process; run free -m; subtract the 'used' value from the &quot;-/+ cache&quot; row from the total memory allocated to your server and then subtract another 'just in case' margin of about 10% of your total server memory.  The number you come up with is a rough indicator of the largest -Xmx setting you can use on your server.&lt;/p&gt;

&lt;h2&gt;Resolving: High Apache Memory Usage&lt;/h2&gt;


&lt;p&gt;Apache can be a big memory user.  Apache runs a number of 'servers' and shares incoming requests among them.  The memory used by each server grows, especially when the web page being returned by that server includes PHP or Perl that needs to load in new libraries.  It is common for each server process to use as much as 10% of a server's memory.&lt;/p&gt;

&lt;p&gt;To reduce the number of servers, you can edit your httpd.conf file.  There are three settings to tweak: StartServers, MinSpareServers, and MaxSpareServers.  Each can be reduced to a value of 1 or 2 and your server will still respond promptly, even on quite busy sites.  Some distros have multiple versions of these settings depending on which process model Apache is using.  In this case, the 'prefork' values are the ones that would need to change.&lt;/p&gt;

&lt;p&gt;To get a rough idea of how to set the MaxClients directive, it is best to find out how much memory the largest apache thread is using. Then stop apache, check the free memory and divide that amount by the size of the apache thread found earlier. The result will be a rough guideline that can be used to further tune (up/down) the MaxClients directive. The following script can be used to get a general idea of how to set MaxClients for a particular server:&lt;/p&gt;

&lt;pre class=&quot;codebox&quot;&gt;
#!/bin/bash
echo &quot;This is intended as a guideline only!&quot;
if [ -e /etc/debian_version ]; then
    APACHE=&quot;apache2&quot;
elif [ -e /etc/redhat-release ]; then
    APACHE=&quot;httpd&quot;
fi
RSS=`ps -aylC $APACHE |grep &quot;$APACHE&quot; |awk '{print $8'} |sort -n |tail -n 1`
RSS=`expr $RSS / 1024`
echo &quot;Stopping $APACHE to calculate free memory&quot;
/etc/init.d/$APACHE stop &amp;amp;amp;ampamp&amp;gt; /dev/null
MEM=`free -m |head -n 2 |tail -n 1 |awk '{free=($4); print free}'`
echo &quot;Starting $APACHE again&quot;
/etc/init.d/$APACHE start &amp;amp;amp;&amp;gt; /dev/null
echo &quot;MaxClients should be around&quot; `expr $MEM / $RSS`
&lt;/pre&gt;


&lt;p&gt;Note: httpd.conf should be tuned correctly on our newer WBEL3 and FC2 distros.  Apache is not installed by default on our Debian distros (since some people opt for Apache 2 and others prefer Apache 1.3).  So this change should only be necessary if you have a Debian distro.&lt;/p&gt;

&lt;p&gt;from http://modperlbook.org/html/11-2-Setting-the-MaxRequestsPerChild-Directive.html: &quot;Setting MaxRequestsPerChild to a non-zero limit solves some memory-leakage problems caused by sloppy programming practices and bugs, whereby a child process consumes a little more memory after each request. In such cases, and where the directive is left unbounded, after a certain number of requests the children will use up all the available memory and the server will die from memory starvation.&quot;&lt;/p&gt;

&lt;h2&gt;Resolving: High MySQL Memory Usage&lt;/h2&gt;


&lt;p&gt;&lt;code&gt;
-- if your are not using the innodb table manager, then just skip it to save some memory
-- skip-innodb
innodb_buffer_pool_size = 16k
key_buffer_size = 16k
myisam_sort_buffer_size = 16k
query_cache_size = 1M
&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;Troubleshooting Irregular Out Of Memory Errors&lt;/h2&gt;


&lt;p&gt;Sometimes a server's regular memory usage is fine.  But it will intermittently run out of memory.  And when that happens you may lose trace of what caused the server to run out of memory.&lt;/p&gt;

&lt;p&gt;In this case you can setup a script (see below) that will regularly log your server's memory usage.  And if there is a problem you can check the logs to see what was running.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;
wget http://proj.ri.mu/memmon.sh -O /root/memmon.sh
chmod +x /root/memmon.sh
&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;
-- create a cronjob that runs every few minutes to log the memory usage
echo '0-59/10 * * * * root /root/memmon.sh &gt;&gt; /root/memmon.txt' &gt; /etc/cron.d/memmon
/etc/init.d/cron* restart 

-- create a logrotate entry so the log file does not get too large
echo '/root/memmon.txt {}' &gt; /etc/logrotate.d/memmon

&lt;/pre&gt;


&lt;p&gt;This article was copied from http://rimuhosting.com/howto/memory.jsp.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>mysql ERROR 1005 (ER_CANT_CREATE_TABLE)</title>
			<link href="http://freetofeel.com/en/2011/02/21/deal-with-mysql-error-150.html"/>
			<updated>2011-02-21T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/02/21/deal-with-mysql-error-150</id>
			<content type="html">&lt;p&gt;To deal with this error, there are a lot of &lt;a href='http://verysimple.com/2006/10/22/mysql-error-number-1005-cant-create-table-mydbsql-328_45frm-errno-150/'&gt;suggestions&lt;/a&gt;.
In my case, it is because of:&lt;/p&gt;

&lt;pre&gt;
  Make sure that the Charset and Collate options are the same both at the table level as well as individual field level for the key columns. (Thanks to FRR for this tip)
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Same update query only update once</title>
			<link href="http://freetofeel.com/en/2011/02/16/mysql-update.html"/>
			<updated>2011-02-16T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/02/16/mysql-update</id>
			<content type="html">&lt;p&gt;Just learned more about the mysql update statement.
I am very curious with this query:&lt;/p&gt;

&lt;pre&gt;
UPDATE `table_name` SET `column3` = (`column1` | (`column2` * 2) ;
&lt;/pre&gt;


&lt;p&gt;The first time, there are 10,000 items were updated. When I execute it again, 0 affected.&lt;/p&gt;

&lt;p&gt;So there is no where condition, how can this happen?
Learn it from &lt;a href='http://dev.mysql.com/doc/refman/5.1/en/update-speed.html'&gt;mysql doc: Speed of UPDATE Statements&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Yes, it is because of the index.&lt;/p&gt;

&lt;pre&gt;
  ...The speed of the write depends on the amount of data being updated and the number of indexes that are updated. Indexes that are not changed do not get updated. 
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Deal with mysql ERROR 1005 (HY000)</title>
			<link href="http://freetofeel.com/en/2011/01/21/deal-with-mysql-error-1005-hy000.html"/>
			<updated>2011-01-21T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/01/21/deal-with-mysql-error-1005-hy000</id>
			<content type="html">&lt;p&gt;How to deal with 'mysql ERROR 1005 (HY000): Can't create table '' (errno: 150)'? Usuall it was caused by mysql foreign key. But how you know which foreign key is wrong? Or why it is incorrect? To get more information, you can execute: &lt;pre&gt;SHOW ENGINE INNODB STATUS\G&lt;/pre&gt;.
In my case:&lt;/p&gt;

&lt;pre&gt;
CREATE TABLE `table3`
(
  `id` INTEGER  NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(255),
  `author_id` INTEGER  NOT NULL,
  `is_published` TINYINT default 0,
  `identifier` VARCHAR(100),
  `path` VARCHAR(255),
  `description` TEXT,
  PRIMARY KEY (`id`),
  KEY `books_I_1`(`is_published`),
  INDEX `books_FI_1` (`author_id`),
  CONSTRAINT `books_FK_1`
    FOREIGN KEY (`author_id`)
    REFERENCES `users` (`id`)
    ON DELETE SET NULL
)Type=InnoDB
&lt;/pre&gt;


&lt;p&gt;I get mysql 1005 error with above sql, if I execute show innodb status, I will get:&lt;/p&gt;

&lt;pre&gt;
=====================================
110121 16:11:12 INNODB MONITOR OUTPUT
=====================================
Per second averages calculated from the last 13 seconds
----------
SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 28, signal count 28
Mutex spin waits 0, rounds 81, OS waits 4
RW-shared spins 38, OS waits 19; RW-excl spins 5, OS waits 5
------------------------
LATEST FOREIGN KEY ERROR
------------------------
110121 16:05:56 Error in foreign key constraint of table table3:

   FOREIGN KEY (`author_id`)
   REFERENCES `users` (`id`)
   ON DELETE SET NULL
)Type=InnoDB:
You have defined a SET NULL condition though some of the
columns are defined as NOT NULL.
&lt;/pre&gt;


&lt;p&gt;Yes, as you can see, the last sentence is what I want. Actually, I define author_id can not be null. Good luck to you.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Cross Lanaguage Service Development</title>
			<link href="http://freetofeel.com/en/2011/01/14/thrift-framework.html"/>
			<updated>2011-01-14T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2011/01/14/thrift-framework</id>
			<content type="html">&lt;p&gt;Thrift is a software framework for scalable cross-language services development.
Now it supports C++, C#, Erlang, Haskell, Java, Objective C/Cocoa, OCaml, Perl, PHP, Python, Ruby, and Squeak.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Download: &lt;a href='http://incubator.apache.org/thrift/download/'&gt;http://incubator.apache.org/thrift/download/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Install: &lt;a href='http://wiki.apache.org/thrift/GettingUbuntuPackages'&gt;http://wiki.apache.org/thrift/GettingUbuntuPackages&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So basically, what you need to do is define a .thrift definition file. And Thrift will help you generate the RPC client and RPC server. There are a lot of examples in this &lt;a href='http://wiki.apache.org/thrift/'&gt;wiki&lt;/a&gt; page.&lt;/p&gt;

&lt;p&gt;You can use this &lt;a href='http://chanian.com/2010/05/13/thrift-tutorial-a-php-client/'&gt;demo&lt;/a&gt; to understand how it works.&lt;/p&gt;

&lt;p&gt;There is a similar project called &lt;a href='http://code.google.com/apis/protocolbuffers/'&gt;Protocol Buffers&lt;/a&gt; which provided by google.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;This is what I have done in todays' Innovation Day. And I totall agree:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Individuals and interactions over processes and tools&lt;/code&gt;&lt;/pre&gt;


&lt;p&gt;&lt;br /&gt;
We know people is the kernel in a technical company. Anything is beneficial for people should be encouraged. But of course, it also should be beneficial for company firstly. Any rule that restrict people's mind should be removed.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>年末总结</title>
			<link href="http://freetofeel.com/zh/2010/12/31/world-is-changing.html"/>
			<updated>2010-12-31T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2010/12/31/world-is-changing</id>
			<content type="html">&lt;p&gt;又到岁末了，这一年最大的感触就是世界在变,变得太快。我一直在想七八十岁的老人生活在这个年代，坐着更现代的交通工具，吃着更美味的美食，眼睁睁的目睹人的行为的变化。他们会怎么看这个时代。我现在有点同感了。&lt;/p&gt;

&lt;p&gt;以前从未有个new year todo list，但从工作实践中感觉这个确实还有有些效果和意义的（以前我最讨厌形式上的东西的）。&lt;/p&gt;

&lt;p&gt;&lt;b&gt;2010 完成和进行中的事情&lt;/b&gt;：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;kiwitask.com 年初改版上线，几次尝试都失败，最后直接将其下线。有意思的事情对这个产品的反省和思索是事情过去了几个月之后才渐渐体会到的；&lt;/li&gt;
&lt;li&gt;终于在高房价的矛盾中购房一套；&lt;/li&gt;
&lt;li&gt;开始学车历程，临近过节看着各式各样的车祸，心头一寒，不学好真不敢出来开；&lt;/li&gt;
&lt;li&gt;有幸成为SM，依然在实践中继续学习，汲取前人的经验和教训，希望不要误人子弟；&lt;/li&gt;
&lt;li&gt;做了一次国内远徒旅行，太简单了；&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;2011 TO DO LIST&lt;/b&gt;：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;结婚，自己都觉得不好意思了；&lt;/li&gt;
&lt;li&gt;下半年装修；&lt;/li&gt;
&lt;li&gt;完成学车；&lt;/li&gt;
&lt;li&gt;回家把护照给办了；&lt;/li&gt;
&lt;li&gt;上线一个新的产品， 如果有精力将其它几个产品打包上线；&lt;/li&gt;
&lt;li&gt;在互联网上混的更实在，看到这领域太多的肤浅和吹嘘；&lt;/li&gt;
&lt;li&gt;寻找一种锻炼身体的方式，这个是最急切的任务；&lt;/li&gt;
&lt;li&gt;希望可以在工作中做的更多，得到更大的认可。&lt;/li&gt;
&lt;li&gt;和亲戚朋友多联系，2010年，我们联系的太少了；&lt;/li&gt;
&lt;li&gt;争取做一次说的过去的远徒旅行或者国外旅行一次 :-)；&lt;/li&gt;
&lt;li&gt;多写点有价值的文章&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;2011 WISH LIST&lt;/b&gt;：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;冤案越来越少，人心越来越温暖，没有欺骗，诚实进步的社会；&lt;/li&gt;
&lt;/ul&gt;

</content>
		</entry>
	
		<entry>
			<title>Be Careful Of Your Memcached Slab Size</title>
			<link href="http://freetofeel.com/en/2010/12/29/memcached-slabs.html"/>
			<updated>2010-12-29T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/12/29/memcached-slabs</id>
			<content type="html">&lt;p&gt;Recently, we found a very 'strange' bug. The memcached's evictions keep growing. But there is stil 10% free memory in this instance. The memcached instance size is around 600M, and it has recached 90% percentage usage for a long time. This issue happened after we deployed a fix, which changed the entry size stored in memcache.&lt;/p&gt;

&lt;p&gt;Let's give a brief analysis:
Memcached memory allocation: a slab has many pages. One page has many chunks. Each chunk is a fixed size, based on the maximum size for the slab. So for example, there is 600Mb memory for the whole instance. And there are 540Mb has been used. Usually you store some big entries into memcache. Let's say 1500 bytes for each of them. So there are some big slabs with chunk size from 1000 bytes to 2000 bytes. And these slabs took 400Mb memory. Now you changed the size for these entries to 500 bytes. Let's call these entries 'Changed-Entries'. So memcached try to find some slabs which have 500 bytes size chunk. There are three possibilities:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;There is no such size slabs exist. So Memcached will use the free memory to create some proper size slab for 'Changed-Entries'; There are 60Mb free memory can be used. But if these entries need 100Mb. That means some old entries will be 'kicked out' from these new slabs. Eviction happens;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If memcached found some used slabs which have 500 bytes chunk. It will kickout the expired items firstly. If the memroy still not enough for 'Changed-Entries', then the least used entries will be kicked out. Eviction happens;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If there is no free memory and there is no propel slabs can be used, then eviction happens.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If you want to learn more detail about how it works, take a look following references:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href='http://code.google.com/p/memcached/wiki/FAQ#When_do_expired_cached_items_get_deleted_from_the_cache?'&gt;When do expired cached items get deleted from the cache?&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href='http://dev.mysql.com/doc/refman/5.0/en/ha-memcached-using-memory.html'&gt;Memory allocation within memcached&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

</content>
		</entry>
	
		<entry>
			<title>Dig Into Nodejs</title>
			<link href="http://freetofeel.com/en/2010/12/19/nodejs-with-socket-io.html"/>
			<updated>2010-12-19T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/12/19/nodejs-with-socket-io</id>
			<content type="html">&lt;p&gt;Just find a beautiful and simplest javascript code:&lt;/p&gt;

&lt;pre&gt;
  // In both HTTP servers and clients it is possible to queue up several
  // outgoing messages. This is easiest to imagine in the case of a client.
  // Take the following situation:
  //
  //    req1 = client.request('GET', '/');
  //    req2 = client.request('POST', '/');
  //
  // The question is what happens when the user does
  //
  //   req2.write(&quot;hello world\n&quot;);
  //
  // It's possible that the first request has not been completely flushed to
  // the socket yet. Thus the outgoing messages need to be prepared to queue
  // up data internally before sending it on further to the socket's queue.
  //
  // This function, outgoingFlush(), is called by both the Server
  // implementation and the Client implementation to attempt to flush any


  while (message.output.length) {
    if (!socket.writable) return; // XXX Necessary?

    var data = message.output.shift();
    var encoding = message.outputEncodings.shift();

    ret = socket.write(data, encoding);
  }
&lt;/pre&gt;


&lt;p&gt;Now I know how nodejs talk with server, which is using &lt;a href='http://socket.io/'&gt;Socket.IO&lt;/a&gt; - multi-transport socket server.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Find Ubuntu Wireless Icon</title>
			<link href="http://freetofeel.com/en/2010/12/05/find-ubuntu-wireless-icon.html"/>
			<updated>2010-12-05T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/12/05/find-ubuntu-wireless-icon</id>
			<content type="html">&lt;p&gt;My network-manager works fine. You can test by &lt;code&gt;sudo service network-manager start/stop&lt;/code&gt;. And my wireless network can be found by &lt;code&gt;sudo iwlist  scan&lt;/code&gt;.
So there are two solutions:&lt;/p&gt;

&lt;p&gt;&lt;ul&gt;
&lt;li&gt;Right click the top panel and click 'add to panel' and select 'notifications area'. If this didn't work,then netstep:
&lt;/li&gt;
&lt;li&gt;
&lt;code&gt;sudo vim /etc/NetworkManager/nm-sysmte-settings.conf&lt;/code&gt;. Modify false to true.
&lt;code&gt;sudo service network-manager restart&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;In my ubuntu 10.10, after these trys, the wireless icon displayed in the panel again. Good luck to you.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Try to Use Github Pages As My Blog</title>
			<link href="http://freetofeel.com/en/2010/11/30/try-to-use-githubpages-for-my-blog.html"/>
			<updated>2010-11-30T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/11/30/try-to-use-githubpages-for-my-blog</id>
			<content type="html">&lt;p&gt;Finally, I decide to move my blog to githubpages. I know github do a great job. I want to give a try.&lt;br /&gt;
Later I will try to import my old blog entries.&lt;br /&gt;
Until now, everything looks amazing.&lt;/p&gt;
&lt;p&gt;&amp;#8212;&lt;br /&gt;
I finished the import from wordpress blog to github. I make a import.php script. Don&amp;#8217;t forget to change the user name, password and database in this script.&lt;/p&gt;
&lt;p&gt;&amp;#8212;&lt;br /&gt;
Add &lt;a href='http://disqus.com'&gt;comment service&lt;/a&gt; into my blog.&lt;/p&gt;</content>
		</entry>
	
		<entry>
			<title>Import Big InnoDB Tables</title>
			<link href="http://freetofeel.com/en/2010/07/28/import-big-innodb-tables.html"/>
			<updated>2010-07-28T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/07/28/import-big-innodb-tables</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;turn off the logs;&lt;/li&gt;
&lt;li&gt;turn off unique key check if the table has;&lt;/li&gt;
&lt;li&gt;turn off foreign key check;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;ul&gt;
    &lt;li&gt;
When importing data into InnoDB, make sure that MySQL does not have autocommit mode enabled because that requires a log flush to disk for every insert. To disable autocommit during your import operation, surround it with SET autocommit and COMMIT statements:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;SET autocommit=0;
... SQL import statements ...
COMMIT;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;If you use the mysqldump option --opt, you get dump files that are fast to import into an InnoDB  table, even without wrapping them with the SET autocommit and COMMIT statements. &lt;/li&gt;
    &lt;li&gt;If you have UNIQUE constraints on secondary keys, starting from MySQL 3.23.52 and 4.0.3, you can speed up table imports by temporarily turning off the uniqueness checks during the import session:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;SET unique_checks=0;
... SQL import statements ...
SET unique_checks=1;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;For big tables, this saves a lot of disk I/O because InnoDB can use its insert buffer to write secondary index records in a batch. Be certain that the data contains no duplicate keys.&lt;/li&gt;
    &lt;li&gt;#&lt;/p&gt;

&lt;p&gt;If you have FOREIGN KEY constraints in your tables, starting from MySQL 3.23.52 and 4.0.3, you can speed up table imports by turning the foreign key checks off for a while in the import session:
&lt;code&gt;
SET foreign_key_checks=0;
... SQL import statements ...
SET foreign_key_checks=1;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;For big tables, this can save a lot of disk I/O.
&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;If the above solution still can not quick your import process. Try &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/mysqlimport.html&quot;&gt;mysqlimport&lt;/a&gt;.  You can use mysqldump to dump a sql file and a text file. There is an example, look like this:
&lt;pre name='code' class='sql'&gt;
shell&gt; mysql -e 'CREATE TABLE imptest(id INT, n VARCHAR(30))' test
shell&gt; ed
a
100     Max Sydow
101     Count Dracula
.
w imptest.txt
32
q
shell&gt; od -c imptest.txt
0000000   1   0   0  \t   M   a   x       S   y   d   o   w  \n   1   0
0000020   1  \t   C   o   u   n   t       D   r   a   c   u   l   a  \n
0000040
shell&gt; mysqlimport --local test imptest.txt
test.imptest: Records: 2  Deleted: 0  Skipped: 0  Warnings: 0
shell&gt; mysql -e 'SELECT * FROM imptest' test
+------+---------------+
| id   | n             |
+------+---------------+
|  100 | Max Sydow     |
|  101 | Count Dracula |
+------+---------------+&lt;/p&gt;

&lt;p&gt;&lt;/pre&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Symfony 1.0 addJoin an array</title>
			<link href="http://freetofeel.com/en/2010/07/03/symfony-1-0-addjoin-an-array.html"/>
			<updated>2010-07-03T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/07/03/symfony-1-0-addjoin-an-array</id>
			<content type="html">&lt;p&gt;In sf1.3, we can use addJoin(array('id_a'm 'id_b'), array('id_1', 'id_2'))&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
/**
     * This is the way that you should add a straight (inner) join of two tables.  For
     * example:
     *
     * &lt;p&gt;
     * AND PROJECT.PROJECT_ID=FOO.PROJECT_ID
     * &lt;p&gt;
     *
     * left = PROJECT.PROJECT_ID
     * right = FOO.PROJECT_ID
     *
     * @param      mixed $left A String with the left side of the join.
     * @param      mixed $right A String with the right side of the join.
     * @param      mixed $operator A String with the join operator e.g. LEFT JOIN, ...
   *
     * @return     Criteria A modified Criteria object.
     */
    public function addJoin($left, $right, $operator = null)
    {
        $join = new Join();
    if (!is_array($left)) {
      // simple join
      $join-&gt;addCondition($left, $right);
    } else {
      // join with multiple conditions
      // deprecated: use addMultipleJoin() instead
      foreach ($left as $key =&gt; $value)
      {
        $join-&gt;addCondition($value, $right[$key]);
      }
    }
        $join-&gt;setJoinType($operator);
        
        return $this-&gt;addJoinObject($join);
    }
&lt;/pre&gt;


&lt;p&gt;Sometimes we still work on symfony 1.0. So when we want to join on more keys, it seems impossible.&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
select * from books left join categories on book.category_id = categories.id where categories.name='biography'
&lt;/pre&gt;


&lt;p&gt;If books has 1,000,000 items. There are 100,000 categories, but only 1000 categories with name 'biography' . The above sql will go through all the categories. But we propel can generated sql like this:&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
select * from books left join categories on book.category_id = categories.id and categories.name='biography'
&lt;/pre&gt;


&lt;p&gt;This sql can limit the touched categories number to 1000.&lt;/p&gt;

&lt;p&gt;So we can do following in symfony 1.0&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
$c-&gt;addJoin(BookPeer::CATEGORY_ID, CategoryPeer::ID.' AND '.CategoryPeer::NAME.'= &quot;biography&quot;', Criteria::LEFT_JOIN);
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>How to win others trust</title>
			<link href="http://freetofeel.com/en/2010/06/28/how-to-win-others-trust.html"/>
			<updated>2010-06-28T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/06/28/how-to-win-others-trust</id>
			<content type="html">&lt;p&gt;I just want to post some suggestions about 'trust' from my experience. It might not be perfect, but I am sure some of them are mostly useful for you.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Trust&quot;&gt;Trust (social sciences), reliance on another person or entity. Having faith in others and believing them.&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;    
    &lt;li&gt;&lt;strong&gt;Be polite.&lt;/strong&gt; Only when you respect the others, you can get the respect from the others. Only when you get respect, then it is possible for you to get the 'trust'.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Trust is not two-way.&lt;/strong&gt; It doesn't mean if you trust somebody, somebody should also trust on you. But for sure they will try to trust you firstly. And then if you break the trust from this guy, it will difficulty for you to get it back.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Trust is hard to copy.&lt;/strong&gt; If you didn't know how to be honest man, you will break it at sometime.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Think before you say.&lt;/strong&gt; When somebody ask you something seriously, please think it for a while and then make the reply. If you don't know, you can try to give some references or just say 'no'. Don't waste the others' time and the time of yourself.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Contribute to the others.&lt;/strong&gt; Try to share something or give some help for the others. Don't live in the world with yourself.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Keep your promise.&lt;/strong&gt; If you lost your promise for the others several times and everybody knows you didn't try your best, you will lost the trust forever.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Try to say 'sorry'. Don't always say 'sorry'.&lt;/strong&gt; When you lost your promise, try to say sorry and give a reasonable explanation, rather than ignore it. But..but don't always say sorry for the same mistake.&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;Undertake your mistake.&lt;/strong&gt; If you make something wrong in your group, please undertake the mistake, rather than hide it. If you think the others might be stupid, you will be the stupid one.&lt;/li&gt;

&lt;/ul&gt;



</content>
		</entry>
	
		<entry>
			<title>Mysql : Avoid Filesort</title>
			<link href="http://freetofeel.com/en/2010/06/03/mysql-avoid-filesort.html"/>
			<updated>2010-06-03T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/06/03/mysql-avoid-filesort</id>
			<content type="html">&lt;ul&gt;
    &lt;li&gt;You can avoid the filesort by making order by column appear in the where clause&lt;/li&gt;

    &lt;li&gt;When using join, make sure the left side join table column is used in the ORDER BY clause or change the join type&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;http://venublog.com/2007/11/29/mysql-how-to-avoid-filesort/&quot;&gt;Reference&lt;/a&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Fighting with an issue in cracked mac machine</title>
			<link href="http://freetofeel.com/en/2010/06/01/fighting-with-an-issue-in-cracked-mac-machine.html"/>
			<updated>2010-06-01T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/06/01/fighting-with-an-issue-in-cracked-mac-machine</id>
			<content type="html">&lt;p&gt;Problem: There is always a black border for every window in a cracked mac, including 'Finder', 'Terminal', even the icon on the desktop.&lt;/p&gt;

&lt;p&gt;Solution: Delete 'com.apple.universalaccess.plist' in /Usr/$YOURNAME/Library/Preferences/. And then Logout and login.&lt;/p&gt;

&lt;p&gt;It can fixed in my cracked mac machine.
And the main idea was back up your mac preferences&lt;/p&gt;

&lt;pre name='code' class='css'&gt;
cp -R /Usr/$YOURNAME/Library/Preferences/ /Usr/$YOURNAME/backup/
&lt;/pre&gt;


&lt;p&gt;And then when you login again, the preferences will be recreated again, like a new user.
For you, you just try to copy some plist from /Usr/$YOURNAME/backup/ to /Usr/$YOURNAME/Library/Preferences/. And then you can check which plist file was the fail reason&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>ERROR:  While executing gem ... (Gem::GemNotFoundException)</title>
			<link href="http://freetofeel.com/en/2010/05/31/error-while-executing-gem-gemgemnotfoundexception.html"/>
			<updated>2010-05-31T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/05/31/error-while-executing-gem-gemgemnotfoundexception</id>
			<content type="html">&lt;p&gt;Try&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
gem clean
&lt;/pre&gt;


&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/2273503/ruby-gem-package-manager-failing-with-gemgemnotfoundexception&quot;&gt;reference&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you got&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
/usr/bin/gem:10: undefined method `manage_gems' for Gem:Module (NoMethodError)
&lt;/pre&gt;


&lt;p&gt;Check if there are two gem under /usr/bin/ directory.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Joshuas Feel</title>
			<link href="http://freetofeel.com/en/2010/05/21/joshuas-feel.html"/>
			<updated>2010-05-21T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/05/21/joshuas-feel</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Important VS Urgent
In everyone's life, there are urgent things and important things. You will feel pressure if there are a lot of urgent things. And you will pick urgent things before starting the important ones. But have you think about this logic? Sometimes the urgent things are caused by the important ones. Taking exercises is important thing for your healthy. But if you get sick, that will be the urgent thing. But if you pay more attention to the important things, may be you will not get sick. This is the logic!
So pay more attention to the important ones, which will save you a lot of time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The best architecture will not the one that can work best for your project.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rome was not built in a day!&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>[scrum] Perfect Estimate</title>
			<link href="http://freetofeel.com/en/2010/04/17/scrum-perfect-estimate.html"/>
			<updated>2010-04-17T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/04/17/scrum-perfect-estimate</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Estimates can be better done by the people who have the experience of similar kind of work already done, Peers and Historical data. It is always better to involve the people who have similar work experience for appropriate estimations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;No one will estimate perfectly for the first time, for sure team members will either over estimate or under estimate the task work, but it makes them realize how much they can produce and for next sprint the team members will try to estimate a bit more precisely.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;After three to four sprints, team members will be in a position to understand their own strength and how much work they can do. This leads for better estimates.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>Be careful when using propel-build-schema</title>
			<link href="http://freetofeel.com/en/2010/04/15/be-careful-when-using-propel-build-schema.html"/>
			<updated>2010-04-15T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/04/15/be-careful-when-using-propel-build-schema</id>
			<content type="html">&lt;p&gt;Tip1:
The generated schema.yml will has the duplicated table when you are using propel-build-schema to generate the yml file based on Symfony Version 1.&lt;/p&gt;

&lt;pre class='yml' name='code'&gt;
propel:
  duplicated_table_name:
&lt;/pre&gt;


&lt;p&gt;Tip 2:
In config/propel.ini, the propel.database means the database engine.&lt;/p&gt;

&lt;pre class='php' name='code'&gt;
propel.database            = mysql
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Apache Unable to load dynamic library php_openssl.dll</title>
			<link href="http://freetofeel.com/en/2010/03/09/apache-unable-to-load-dynamic-library-php_openssl-dll.html"/>
			<updated>2010-03-09T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/03/09/apache-unable-to-load-dynamic-library-php_openssl-dll</id>
			<content type="html">&lt;p&gt;As a windows user, sometimes you have to face and handle this kind of problems.&lt;/p&gt;

&lt;p&gt;The error: “PHP Startup: Unable to load dynamic library php_openssl.dll. The operating system cannot run %1“, when you are trying to start the apache server in the error.log file.&lt;/p&gt;

&lt;p&gt;Basically what this error is trying to mention that there is an issue with your php_openssl.dll and a possible mismatch with other depending libraries. To resolve this, follow the below steps:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Rename ’ssleay32.dll’ and ‘libeay32.dll’ in c:\windows\system32 to ’ssleay32.dll.old’ and ‘libeay32.dll.old’ respectively.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Copy ’ssleay32.dll’ and ‘libeay32.dll’ from your PHP folder to the system32.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Restart the apache webserver.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Even I resolve it finally , I can learn nothing from it. This such a damn rule(&quot;copy the dll file from PHP folder to system32&quot;) was made by Microsoft? I don't know. You couldn't find the solution even in php document. The solution was passed from one developer to another. But no matter how I can stay away this kind of damn things for a while.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Using JSONP to do the cross domain request </title>
			<link href="http://freetofeel.com/en/2010/02/26/using-jsonp-to-do-the-cross-domain-request.html"/>
			<updated>2010-02-26T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/02/26/using-jsonp-to-do-the-cross-domain-request</id>
			<content type="html">&lt;p&gt;JSONP (script insertion)&lt;/p&gt;

&lt;p&gt;How does it work?&lt;/p&gt;

&lt;p&gt;Lets assume, that we have a textarea iResponse and we want to set its value to something that we will receive from the server. And that we have some server in a different domain. With script insertion we can send a HTTP-GET request to the server like this:&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
function insertScript( url){
    var script = document.createElement(&quot;script&quot;);
    script.setAttribute(&quot;src&quot;,url);
    script.setAttribute(&quot;type&quot;,&quot;text/javascript&quot;);
    document.body.appendChild(script);
}
&lt;/pre&gt;


&lt;p&gt;url in the request is a proper HTTP-GET request with the parameters. Hence server can receive input to work with. The trick with JSONP is how the output is passed back to the client. The newly downloaded “script” will be evaluated on load. Hence, if the script contains:&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
call_me( value );
&lt;/pre&gt;


&lt;p&gt;A method call_me() will be called with the value as a parameter. Hence we should have another bit of script in our client to have a callback:&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
function call_me( vParam ){
        document.getElementsByName(&quot;iResponse&quot;)[0].value = vParam;
}
&lt;/pre&gt;


&lt;p&gt;Finally, JSONP-based services are (if they are not tailored to a single client when the callback is predefined) should take the callback name as a parameter:&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
url = &quot;http://dummy.server.org/Create_a_Script.php?callback=call_me&amp;......
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Report plugin for Vanilla 2</title>
			<link href="http://freetofeel.com/en/2010/02/15/report-plugin-for-vanilla-2.html"/>
			<updated>2010-02-15T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/02/15/report-plugin-for-vanilla-2</id>
			<content type="html">&lt;p&gt;You can find it &lt;a href=&quot;http://vanillaforums.org/addon/520/report-system&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Install
1. Unzip the plugin package and put it into Garden/plugins;
2. Enable it in admin panel;&lt;/p&gt;

&lt;p&gt;Configure:
1. Add the following code into file Garden\applications\vanilla\views\discussion\index.php
//Arround line 12 ~14
[CODE]
&amp;lt;?php $this-&gt;FireEvent('AfterDiscussionHeaderRender'); ?&gt;
[/CODE]&lt;/p&gt;

&lt;p&gt;Then the code likes:
[PIECE]
&amp;lt;?php $this-&gt;FireEvent('AfterDiscussionHeaderRender'); ?&gt;
&amp;lt;h2&amp;gt;&amp;lt;?php
   if (Gdn::Config('Vanilla.Categories.Use') === TRUE) {
      echo Anchor($this-&gt;Discussion-&gt;Category, 'categories/'.$this-&gt;Discussion-&gt;CategoryID.'/'.Format::Url($this-&gt;Discussion-&gt;Category));
      echo '&lt;span&gt;&amp;bull;&lt;/span&gt;';
   }
   echo Format::Text($this-&gt;Discussion-&gt;Name);
?&gt;&amp;lt;/h2&amp;gt;
[/PIECE]&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Config pagination for admin page:
Add following line into config.php
$Configuration['Vanilla']['Report']['PerPage'] = 10;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>MySQL Custom Function</title>
			<link href="http://freetofeel.com/en/2010/02/01/mysql-custom-function.html"/>
			<updated>2010-02-01T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/02/01/mysql-custom-function</id>
			<content type="html">&lt;p&gt;Today when I try to update a table in sql command, I didn't want to use the mysql function &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/miscellaneous-functions.html#function_uuid&quot;&gt;uuid &lt;/a&gt;to generate a string with middle line in it. So I try to use mysql &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/create-procedure.html&quot;&gt;custom function&lt;/a&gt; to generate a 32-bit length string without middle line.&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
DELIMITER ;

DROP FUNCTION IF EXISTS uid;
DELIMITER $$

CREATE FUNCTION uid()
    RETURNS VARCHAR(32)
BEGIN
    DECLARE c VARCHAR(36) DEFAULT '';
    SET c = uuid();
    return CONCAT(substring(c,1,8) , substring(c,10,4) , substring(c,15,4) , substring(c,20,4), substring(c,25,12));
END$$

DELIMITER ;

select uid();
&lt;/pre&gt;


&lt;p&gt;I am writing this because mysql is powerful enough to handle all the issues in web software development.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>What I learned today</title>
			<link href="http://freetofeel.com/en/2010/01/13/what-i-learned-today.html"/>
			<updated>2010-01-13T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/01/13/what-i-learned-today</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.shinguz.ch/MySQL/mysql_mv.html&quot;&gt;Materialised Views with MySQL&lt;/a&gt;&lt;/li&gt; -
I gave a simple test as this '&lt;a href=&quot;Materialized view makes login process 25k times faster&quot;&gt;article&lt;/a&gt;'. 10 times faster in my case.
Before: 56 ms;
After: 6ms;
But the disadvantage of this is the data on the site will not be real time. So if you want to use method to speed up your site, it depends on what business of this page is.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;At last I understand, &lt;a href=&quot;http://www.kiwitask.com&quot;&gt;kiwi&lt;/a&gt; is dead. If you lost your customer for a while, you will lost them forever.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Don't say yes or not simplely. Please give some explanation of yes or no even if no body ask you the reason.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Learn more about Scrum.
&lt;a href=&quot;http://www.freetofeel.com/2010/01/what-i-learned-today/scrum/&quot; rel=&quot;attachment wp-att-365&quot;&gt;&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2010/01/scrum-300x195.jpg&quot; alt=&quot;scrum&quot; title=&quot;scrum&quot; width=&quot;300&quot; height=&quot;195&quot; class=&quot;aligncenter size-medium wp-image-365&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>Symfony + Vanilla2 + SSO</title>
			<link href="http://freetofeel.com/en/2010/01/04/symfony-vanilla2-sso.html"/>
			<updated>2010-01-04T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2010/01/04/symfony-vanilla2-sso</id>
			<content type="html">&lt;p&gt;Vanilla2 is really really cool! Both the interface and functionality are very good.
I give a implementation of integrating the vanilla forum into a symfony project with SSO.
I have given some investigation of the SSO. If you have a lot of applications deployed in different domains, &lt;a href=&quot;http://www.jasig.org/cas&quot;&gt;CAS&lt;/a&gt; is a better choice. But it will take you a lot of time to implement. As I can think, there is a CAS server using 8080 port that you should deploy.
And I found an interesting post &lt;a href=&quot;http://www.adaniels.nl/articles/simple-single-sign-on-for-php/&quot;&gt;&quot;Simple Single Sign-On for PHP&quot;&lt;/a&gt;. I really like this idea.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://www.adaniels.nl/wp-content/uploads/sso-diagram_binck.png&quot; alt=&quot;simple SSO&quot; width=&quot;300&quot; height=&quot;213&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The main idea is using the &lt;a href=&quot;http://learn.clemsonlinux.org/wiki/Symlink&quot;&gt;symlinks&lt;/a&gt; in Linux system to link one session file in domain aaa.domain.com to another in bb.domain.com. To implementation this idea into your application is simple. But there is not so many security test for this idea. I have given a integration of &lt;a href=&quot;http://bbpress.org/&quot;&gt;bbpress&lt;/a&gt; into my symfony project. But there is a lot of interface should be modified in bbpress, like login, auth_user and so on. And I didn't want to spend so much time on it. So I almost give up.&lt;/p&gt;

&lt;p&gt;After I installed the &lt;a href=&quot;http://vanillaforums.org/&quot;&gt;vanilla 2&lt;/a&gt;, I was shocked by its UI.
&lt;a href=&quot;http://www.freetofeel.com/2010/01/symfony-vanilla2-sso/screenshot/&quot; rel=&quot;attachment wp-att-346&quot;&gt;&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2010/01/screenshot-300x213.png&quot; alt=&quot;screenshot&quot; title=&quot;screenshot&quot; width=&quot;300&quot; height=&quot;213&quot; class=&quot;aligncenter size-medium wp-image-346&quot; /&gt;&lt;/a&gt;
And there is a &lt;a href=&quot;http://vanillaforums.org/page/SingleSignOn&quot;&gt;SSO plugin&lt;/a&gt; for vanilla 2. The main idea to implement vanilla-SSO is sharing the domain cookie and sharing the current user information in the main site. That the vanilla will try to get the current user information. If there is, the user will sign in the vanilla. But this only limit to these sites have the same domain. For example, your main application was deployed on xx.domain.com and the vanilla should be deployed on yy.domain.com.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Upload and downfile using scp</title>
			<link href="http://freetofeel.com/en/2009/12/18/upload-and-downfile-using-scp.html"/>
			<updated>2009-12-18T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/12/18/upload-and-downfile-using-scp</id>
			<content type="html">&lt;p&gt;The &lt;a href=&quot;http://www.linuxtutorialblog.com/post/ssh-and-scp-howto-tips-tricks&quot;&gt;scp&lt;/a&gt; command allows you to copy files over ssh connections. This is pretty useful if you want to transport files between computers, for example to backup something.&lt;/p&gt;

&lt;p&gt;Upload local file to remote server:
scp localfile username@tohostname:/dir/&lt;/p&gt;

&lt;p&gt;Download remote file to local system:
scp username@tohostname:/remotefile /localdir/&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>2W records update with different sql engine</title>
			<link href="http://freetofeel.com/en/2009/12/15/2w-records-update-with-different-sql-engine.html"/>
			<updated>2009-12-15T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/12/15/2w-records-update-with-different-sql-engine</id>
			<content type="html">&lt;p&gt;This is just a test result:
20000 records in table animals;&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
CREATE TABLE `animals` (                                                           
           `animal_id` mediumint(8) NOT NULL auto_increment,                                
           `animal_type` varchar(25) collate utf8_unicode_ci NOT NULL,                      
           `animal_name` varchar(25) collate utf8_unicode_ci NOT NULL,                      
           `created` datetime NOT NULL default '2009-02-02 00:00:00',                       
           `doubledata` double default NULL,                                                
           PRIMARY KEY  (`animal_id`),                                                      
           KEY `typekey` (`animal_type`,`animal_name`),                                     
           KEY `datetime` (`created`),                                                      
           KEY `DOUBLE` (`doubledata`)                                                      
         ) ENGINE=MyISAM AUTO_INCREMENT=20001 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci  
&lt;/pre&gt;


&lt;p&gt;sql file looks like this:&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
update animals set animal_type = 'xxx' where animal_id = 1;
update animals set animal_type = 'xxx' where animal_id = 2;
.
.
.
update animals set animal_type = 'dog123' where animal_id = 20000;
&lt;/pre&gt;


&lt;p&gt;With Innodb engine, the update time &gt; 5min( I just have no time to wait any more)
With MyISAM, the update time = 30 seconds.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>The simplest and quickest way to create mysql table demo records.</title>
			<link href="http://freetofeel.com/en/2009/12/14/the-simplest-and-quickest-way-to-create-mysql-table-demo-records.html"/>
			<updated>2009-12-14T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/12/14/the-simplest-and-quickest-way-to-create-mysql-table-demo-records</id>
			<content type="html">&lt;p&gt;Take animals table as example,
Field        Type     Extra&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;id    mediumint(8)  auto_increment
animal_type  varchar(25)      &lt;br/&gt;
animal_name  varchar(25)&lt;/p&gt;

&lt;p&gt;Create one records in this table.
Step1. insert into animals(&lt;code&gt;animal_type&lt;/code&gt;, &lt;code&gt;animal_name&lt;/code&gt;) values('dingo', 'cat');
Step2:
insert into animals(&lt;code&gt;animal_type&lt;/code&gt;, &lt;code&gt;animal_name&lt;/code&gt;) select animal_type, animal_name from animals;&lt;/p&gt;

&lt;p&gt;Re-run the step2 serval times, you will find the records was increased as geometric progressions.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>MySQL Database Backup and Restore</title>
			<link href="http://freetofeel.com/en/2009/12/14/mysql-backup-and-restore-system.html"/>
			<updated>2009-12-14T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/12/14/mysql-backup-and-restore-system</id>
			<content type="html">&lt;p&gt;&lt;strong&gt;Backup&lt;/strong&gt;
I was trying to find some backup and restore system for our product mysql database. There are a lot of tools can do this. But I think the simple way is using &lt;a href=&quot;https://help.ubuntu.com/community/CronHowto&quot;&gt;crontab&lt;/a&gt; + &lt;a href=&quot;http://www.ntchosting.com/mysql/database-dump.html&quot;&gt;mysqldump&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So I write a simple script&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
$ mysqldump -u [uname] -p[pass] [dbname] | gzip -9 &gt; [backupfile.sql.gz]
example:

15 2 * * * root mysqldump -u root -pPASSWORD --all-databases | gzip &gt; /usr/local/bk/database_`data '+%m-%d-%Y'`.sql.gz 
&lt;/pre&gt;


&lt;p&gt;If you want to extract the .gz file, use the command below:&lt;/p&gt;

&lt;pre name='code' class='html'&gt;
$ gunzip [backupfile.sql.gz]
&lt;/pre&gt;


&lt;p&gt;This script will vardump all my database into the database_&lt;code&gt;data '+%m-%d-%Y'&lt;/code&gt;.sql.gz zip file at 2::15am on every day of every month.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Restoring&lt;/strong&gt;
Restore the databases is simple.&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
$ mysql -u [uname] -p[pass] [db_to_restore] &lt; [backupfile.sql]
&lt;/pre&gt;


&lt;p&gt;To restore from a compress sql:&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
gunzip &lt; [backupfile.sql.gz] | mysql -u [uname] -p[pass] [dbname]
&lt;/pre&gt;


&lt;p&gt;If you need to restore a database that already exists, you'll need to use mysqlimport command. The syntax for mysqlimport is as follows&lt;/p&gt;

&lt;pre name='code' class='sql'&gt;
mysqlimport -u [uname] -p[pass] [dbname] [backupfile.sql]
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Using Rsync and SSH to synchronise between two servers</title>
			<link href="http://freetofeel.com/en/2009/12/11/using-rsync-and-ssh-to-synchronise-between-two-servers.html"/>
			<updated>2009-12-11T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/12/11/using-rsync-and-ssh-to-synchronise-between-two-servers</id>
			<content type="html">&lt;p&gt;$ rsync -avz -e ssh remoteuser@remotehost:/remote/dir /this/dir/&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://troy.jdmz.net/rsync/index.html&quot;&gt;refs&lt;/a&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Sign in your PDF document</title>
			<link href="http://freetofeel.com/en/2009/11/19/sign-in-your-pdf-document.html"/>
			<updated>2009-11-19T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/11/19/sign-in-your-pdf-document</id>
			<content type="html">&lt;p&gt;Have you ever succeed to sign in a PDF file?
Today I try several methods of &lt;a href=&quot;http://www.labnol.org/software/sign-pdf-documents/9333/&quot;&gt;How to Sign Documents Electronically – No Ink or Paper Required&gt;&lt;/a&gt;.
1.
I try to make an image signature at &lt;a href=&quot;http://www.mylivesignature.com/mls_sigdraw.php&quot;&gt;MyLiveSignature&lt;/a&gt;. And then download it into my local machine;
Try to convert my PDF file to word file via &lt;a href=&quot;http://www.pdftoword.com/&quot;&gt;web service&lt;/a&gt;.
And then upload the doc file and attached the signature image at the right place. Save it as PDF file again.
The PDF file will be messed through this way. So I suggest the second way, easier and faster.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.echosign.com/&quot;&gt;Echosign&lt;/a&gt;
Upload you PDF file ask signature and get the signature document.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>Folder or file permission in php project installation process</title>
			<link href="http://freetofeel.com/en/2009/11/16/folder-or-file-permission-in-php-project-installation-process.html"/>
			<updated>2009-11-16T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/11/16/folder-or-file-permission-in-php-project-installation-process</id>
			<content type="html">&lt;p&gt;Most projects will add notes like '..don't forget to change the &quot;cache&quot; folder permission: $chmod -R 777 xxx' in their project install guide.
But have you noticed that there are still a lot of users will ask the same question in their project forums? Yes, the solution is simple and easier. but why not make the simple thing more easier?&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
chmod($options['file'], isset($options['file_mode']) ? $options['file_mode'] : 0666);
mkdir($dir, isset($options['dir_mode']) ? $options['dir_mode'] : 0777, true);
&lt;/pre&gt;


&lt;p&gt;These code comes from symfony source code. It make me feels good in the installation process.
It is easier to make this permission modification process transparent for your user.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Textmate  for Ubuntu</title>
			<link href="http://freetofeel.com/en/2009/11/10/textmate-for-ubuntu.html"/>
			<updated>2009-11-10T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/11/10/textmate-for-ubuntu</id>
			<content type="html">&lt;p&gt;GEdit + Gmate = Textmate on Ubuntu&lt;/p&gt;

&lt;p&gt;Install Gedit and Gedit plugins.
First you need to install the plugin extenstion for gedit&lt;/p&gt;

&lt;pre name='code' class='text'&gt;
sudo apt-get install gedit gedit-plugins
&lt;/pre&gt;


&lt;p&gt;Gmate is a usefull program (collection set of plugins and theme) transforming Gedit into a Textmate like&lt;/p&gt;

&lt;pre name='code' class='text'&gt;
cd ~
git clone git://github.com/lexrupy/gmate.git
cd gmate
sh ./install.sh
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Blowing in the wind</title>
			<link href="http://freetofeel.com/zh/2009/11/06/blowing-in-the-wind.html"/>
			<updated>2009-11-06T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2009/11/06/blowing-in-the-wind</id>
			<content type="html">&lt;pre&gt;&lt;code&gt;How many roads must a man walk down  一个人要经历多长的旅途

Before they call him a man  才能成为真正的男人

How many seas must a white dove sail  鸽子要飞跃几重大海

Before she sleeps in the sand  才能在沙滩上安眠

How many times must the cannon balls fly 要多少炮火

Before they’re forever banned  才能换来和平

The answer, my friend, is blowing in the wind  那答案，我的朋友，飘零在风中

The answer is blowing in the wind  答案随风飘逝

How many years must a mountain exist  山峰要屹立多久

Before it is washed to the sea  才是沧海桑田

How many years can some people exist  人们要等待多久

Before they’re allowed to be free  才能得到自由

How many times can a man turn his head  一个人要季度回首

And pretend that he just doesn’t see  才能视而不见

The answer, my friend, is blowing in the wind 那答案，我的朋友，在风中飘零

The answer is blowing in the wind  答案随风而逝

How many times must a man look up  一个人要仰望多少次

Before he can see the sky 才能见苍穹

How many ears must one man have  一个人要多么善听

Before he can hear people cry  才能听见他人的呐喊

How many deaths will it take  多少生命要陨落

‘Till he knows that too many people have died  才知道那已故的众生

The answer, my friend, is blowing in the wind  答案，我的朋友，在风中飘零

The answer is blowing in the wind 答案随风而逝
&lt;/code&gt;&lt;/pre&gt;
</content>
		</entry>
	
		<entry>
			<title>Push and pull mode </title>
			<link href="http://freetofeel.com/en/2009/11/03/push-and-pull-mode.html"/>
			<updated>2009-11-03T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/11/03/push-and-pull-mode</id>
			<content type="html">&lt;p&gt;Push and pull are two data transfer mode in Internet. At the beginning of my studying of web development four years ago, there is only pull mode in fact. Everything is pull. When client send a request to server, it is pulling data from server actually. The result can be null or not null.  That means the response depend on server, not the pull object. We all know it is resource-wasting. If each time pull, the client can get something back, or the client pull the data when there should be response data in server side. So the geek invent many ways to achieve this. The following &lt;a href=&quot;http://code.google.com/p/pubsubhubbub/&quot;&gt;pubsubhubbub&lt;/a&gt; is one of them. It can be used to replace the traditional Feed 'pull' mode.&lt;/p&gt;

&lt;iframe src=&quot;http://docs.google.com/present/embed?id=ajd8t6gk4mh2_34dvbpchfs&amp;size=m&quot; frameborder=&quot;0&quot; width=&quot;555&quot; height=&quot;451&quot;&gt;&lt;/iframe&gt;

</content>
		</entry>
	
		<entry>
			<title>check your current php.ini path</title>
			<link href="http://freetofeel.com/en/2009/10/31/check-your-current-php-ini-path.html"/>
			<updated>2009-10-31T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/31/check-your-current-php-ini-path</id>
			<content type="html">&lt;p&gt;You might have two different PHP versions installed: one for the command line, and another for the web. So use this function which was provided by symfony that can be easily judge.&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
/**
 * Gets the php.ini path used by the current PHP interpretor.
 *
 * @return string the php.ini path
 */
function get_ini_path()
{
  if ($path = get_cfg_var('cfg_file_path'))
  {
    return $path;
  }

  return 'WARNING: not using a php.ini file';
}
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>The interesting thing about Google Translate</title>
			<link href="http://freetofeel.com/en/2009/10/26/the-interesting-thing-about-google-translate.html"/>
			<updated>2009-10-26T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/26/the-interesting-thing-about-google-translate</id>
			<content type="html">&lt;p&gt;Have you noticed that when you open the &lt;a href=&quot;http://translate.google.com&quot;&gt;Google Translate page&lt;/a&gt;, and you enter some simple words or a sentence you want to translate.
The translated URL in your address bar looks like
'http://translate.google.com/translate_t#el|en|%CE%9C%CE%BF%CF%85%20%CE%B1%CF%81%CE%AD%CF%83%CE%B5%CE%B9%20%CE%B1%CF%85%CF%84%CE%AE%20%CE%B7%20%CE%BC%CE%BF%CF%85%CF%83%CE%B9%CE%BA%CE%AE'
Here we take the example,
Translate sentence 'Μου αρέσει αυτή η μουσική' -&gt; 'I like this music'
Greek -&gt; English
As we seen, the sentence was encoded and appended as a parameter in the URL.
But if you try to translate some longer sentence, like,
'Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.Μου αρέσει αυτή η μουσική.'&lt;/p&gt;

&lt;p&gt;Now your address bar will look like 'http://translate.google.com/translate_t#'.
No matter which case, the translation words will be stored in cache. The next time, the translation words will be searched in cache firstly.
But why the translation words was added into Get parameter in first case? The only convenient that I can think is that we can copy and past the link from one browser to another. This convenient can not be achieved in the second case for the Get Parameter Length Limit. Is there any other secrets you know?&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Query Performance Optimization</title>
			<link href="http://freetofeel.com/en/2009/10/25/query-performance-optimization.html"/>
			<updated>2009-10-25T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/25/query-performance-optimization</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Simple Treatment Method for a bad query is accessing less data and fecting less columns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In MySQL, the simplest query cost metrics are:&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Execution time&lt;/li&gt;
&lt;li&gt;Number of rows examined&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Number of rows returned&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The access types range from a full table scan to index scans, range scans, unique index lookups, and constants. Each of these is faster than the one before it. If you aren’t getting a good access type, the best way to solve the problem is usually by adding an appropriate index.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Duplicated test record with a cool SQL:
Assuming there was serval record in your table 'animals[id,animal_type , animal_name]'&lt;/p&gt;

&lt;blockquote&gt;&lt;blockquote&gt;&lt;p&gt;insert into animals(animal_type , animal_name ) select animal_type , animal_name from animals.&lt;/p&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;'The traditional approach to database design emphasizes doing as much work as possible with as few queries as possible.' - This advice doesn’t apply as much to MySQL. MySQL can run more than 50,000 simple queries per second on commodity server hardware and over 2,000 queries per second from a single correspondent on a Gigabit network.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Summary: When Application Joins May Be More Efficient &gt;&gt;
Not doing joins in the application may be more efficient when:
You cache and reuse a lot of data from earlier queries
You use multiple MyISAM tables
You distribute data across multiple servers
You replace joins with IN( ) lists on large tables
A join refers to the same table multiple times&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Follow along with the illustration to see what happens when you send MySQL a query:
1). The client sends the SQL statement to the server.
2). The server checks the query cache. If there’s a hit, it returns the stored result from the cache; otherwise, it passes the SQL statement to the next step.
3). The server parses, preprocesses, and optimizes the SQL into a query execution plan.
4). The query execution engine executes the plan by making calls to the storage engine API.
5). The server sends the result to the client.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fetching result directly without buffering:
[code]&lt;/p&gt;

&lt;h1&gt;!/usr/bin/perl&lt;/h1&gt;

use DBI;
my $dbh = DBI-&gt;connect('DBI:mysql:;host=localhost', 'user', 'p4ssword');
my $sth = $dbh-&gt;prepare('SELECT * FROM HUGE_TABLE', { mysql_use_result =&gt; 1 });
$sth-&gt;execute( );
while ( my $row = $sth-&gt;fetchrow_array( ) ) {

&lt;h1&gt;Do something with result&lt;/h1&gt;

&lt;p&gt;}
[/code]
Notice that the call to prepare( ) specified to “use” the result instead of “buffering” it. You can also specify this when connecting, which will make every statement unbuffered:
[code]
my $dbh = DBI-&gt;connect('DBI:mysql:;mysql_use_result=1', 'user', 'p4ssword');
[/code]
This will be usfully when your fetching data is too big.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Query states:
Sleep -
  The thread is waiting for a new query from the client.
Query -
  The thread is either executing the query or sending the result back to the client.
Locked -
  The thread is waiting for a table lock to be granted at the server level.
Analyzing and statistics -
  The thread is checking storage engine statistics and optimizing the query.
Copying to tmp table [on disk] -
  The thread is processing the query and copying results to a temporary table, probably for a GROUP BY, for a filesort, or to satisfy a UNION. If the state ends with “on disk,” MySQL is converting an in-memory table to an on-disk table.
Sorting result -
  The thread is sorting a result set.
Sending data -
  This can mean several things: the thread might be sending data between stages of the query, generating the result set, or returning the result set to the client.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MySQL uses the term “join” more broadly than you might be used to. In sum, it considers every query a join—not just every query that matches rows from two tables, but every query.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>The behavior of javascript is not always your expected</title>
			<link href="http://freetofeel.com/en/2009/10/24/the-behavior-of-javascript-is-not-always-your-expected.html"/>
			<updated>2009-10-24T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/24/the-behavior-of-javascript-is-not-always-your-expected</id>
			<content type="html">&lt;p&gt;Let's raise the issue '07 + 08 = 07' firstly from &lt;a href=&quot;http://www.debuggable.com/posts/7+8===7-in-javascript:4acba016-d204-489b-b5a0-1fd0cbdd56cb&quot;&gt;this guy's article&lt;/a&gt;.&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var a = '07';
var b = '08'

alert(a + b); //'0708';
&lt;/pre&gt;


&lt;p&gt;OK. We knew the result. What we will do is using the 'parseInt' method.&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var a = '07';
var b = '08'

alert(parseInt(a) + parseInt(b)); //'07';
&lt;/pre&gt;


&lt;p&gt;The result is not our expected this time.&lt;/p&gt;

&lt;p&gt;So boys give a lot of solutions.
solution 1:&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var a = '07';
var b = '08'

alert(parseInt(a, 10) + parseInt(b, 10)); //'15';
&lt;/pre&gt;


&lt;p&gt;solution 2:&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var a = '07';
var b = '08'

alert(Number(a) + Number(b)); //'15';
&lt;/pre&gt;


&lt;p&gt;I like this solution. If the variable is a number, transform it to 'Number' directly to keep it safe. If the variable is a string, transform it to 'String' directly.
The same issue occurred in Date function too.&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var d = new Date(2009, 08, 02); //It's 2nd of JULY
&lt;/pre&gt;


&lt;p&gt;The &lt;a href=&quot;https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date&quot;&gt;reason&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;year
    Integer value representing the year. For compatibility (in order to avoid the Y2K problem), you should always specify the year in full; use 1998, rather than 98.

month
    Integer value representing the month, beginning with 0 for January to 11 for December.

date
    Integer value representing the day of the month (1-31). &lt;/blockquote&gt;



</content>
		</entry>
	
		<entry>
			<title>Code Smell</title>
			<link href="http://freetofeel.com/en/2009/10/22/code-smell.html"/>
			<updated>2009-10-22T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/22/code-smell</id>
			<content type="html">&lt;p&gt;There is a &lt;a href=&quot;http://www.cnblogs.com/idior/archive/2006/06/13/424592.html&quot;&gt;code smell list&lt;/a&gt; that we can then as a reference.&lt;/p&gt;

&lt;blockquote&gt;
In computer programming, code smell is any symptom in the source code of a computer program that indicates something may be wrong. It generally indicates that the code should be refactored or the overall design should be reexamined. The term appears to have been coined by Kent Beck on WardsWiki. Usage of the term increased after it was featured in Refactoring. Improving the Design of Existing Code.&lt;/blockquote&gt;


&lt;p&gt;Interesting Discussion about '&lt;a href=&quot;http://stackoverflow.com/questions/114342/what-are-code-smells-what-is-the-best-way-to-correct-them&quot;&gt;What are Code Smells? What is the best way to correct them?&lt;/a&gt;'.&lt;/p&gt;

&lt;p&gt;A question is flying on my head:&lt;/p&gt;

&lt;pre name='code' class='php'&gt;
class Person{
 var $name;
 var $age;
//....
}

function calculateEmployeeAverageAge($employee){
//...
}

calculateEmployeeAverageAge(new Person());
&lt;/pre&gt;


&lt;p&gt;If there is a function like 'calculateEmployeeAverageAge', is it a code smell? I have met this before in our own product code. I mean the function must know much about the Person structure. But actually, we didn't want to a function rely on too much outside. I always avoid this way in my application. But the guy said 'Methods with a ridiculous (e.g. 7+) amount of parameters. This usually means that there should be a new class introduced (which, when passed, is called an indirect parameter.)' in this &lt;a href=&quot;http://stackoverflow.com/questions/114342/what-are-code-smells-what-is-the-best-way-to-correct-them&quot;&gt;discussion&lt;/a&gt;.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>One pixel notched corners</title>
			<link href="http://freetofeel.com/en/2009/10/19/one-pixel-notched-corners.html"/>
			<updated>2009-10-19T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/19/one-pixel-notched-corners</id>
			<content type="html">&lt;p&gt;An interesting article &lt;a href=&quot;http://www.askthecssguy.com/2008/03/one_pixel_notched_corners_as_u.html&quot;&gt;One pixel notched corners as used by Google Analytics&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A simple explanation of the 'why':
&lt;a href=&quot;http://www.freetofeel.com/2009/10/one-pixel-notched-corners/one_pixel_corner/&quot; rel=&quot;attachment wp-att-235&quot;&gt;&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2009/10/one_pixel_corner.gif&quot; alt=&quot;one_pixel_corner&quot; title=&quot;one_pixel_corner&quot; width=&quot;220&quot; height=&quot;186&quot; class=&quot;aligncenter size-full wp-image-235&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;pre name='code' class='html'&gt;
&lt;style type=&quot;text/css&quot;&gt;
/* default stuff */
.letsGiveItAFixedWidthOf200Pixels { width:200px; }

.feature {
    border:solid red;
    border-width:0px 4px 2px;
    background:#b0c0e6;
}
.feature div {
  position:relative;
  top: -4px;
  left: 0;
  border:solid blue;
  border-width:4px 0 0;
}
&lt;/style&gt;
&lt;/head&gt;&lt;body&gt;

&lt;div class=&quot;examplesGoHere letsGiveItAFixedWidthOf200Pixels&quot;&gt;
    &lt;h3&gt;A div&lt;/h3&gt;
    &lt;div class=&quot;feature&quot;&gt;
        &lt;div&gt;
            &lt;div&gt;
                a
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Lets make the web faster - Google Code</title>
			<link href="http://freetofeel.com/en/2009/10/19/lets-make-the-web-faster-google-code.html"/>
			<updated>2009-10-19T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/19/lets-make-the-web-faster-google-code</id>
			<content type="html">&lt;p&gt;&lt;a href=&quot;http://code.google.com/speed/articles/optimizing-php.html&quot;&gt;Interesting post&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Use caching&lt;/li&gt;
&lt;li&gt;Use output buffering&lt;/li&gt;
&lt;li&gt;Avoid writing naive setters and getters&lt;/li&gt;
&lt;li&gt;Don't copy variables for no reason&lt;/li&gt;
&lt;li&gt;Use caching&lt;/li&gt;
&lt;li&gt;Avoid doing SQL queries within a loop&lt;/li&gt;
&lt;/ul&gt;



</content>
		</entry>
	
		<entry>
			<title>The Start-up Feedback Loop</title>
			<link href="http://freetofeel.com/en/2009/10/18/the-start-up-feedback-loop.html"/>
			<updated>2009-10-18T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/18/the-start-up-feedback-loop</id>
			<content type="html">&lt;p&gt;&lt;a href=&quot;http://www.freetofeel.com/2009/10/the-start-up-feedback-loop/startup-feedback-loop1-287x300/&quot; rel=&quot;attachment wp-att-227&quot;&gt;&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2009/10/startup-feedback-loop1-287x300.png&quot; alt=&quot;startup-feedback-loop1-287x300&quot; title=&quot;startup-feedback-loop1-287x300&quot; width=&quot;287&quot; height=&quot;300&quot; class=&quot;aligncenter size-full wp-image-227&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After reading &lt;a href=&quot;http://kevindewalt.com/blog/2009/10/14/the-best-programming-language-for-a-lean-startup/&quot;&gt;The Best Programming Language for a Lean Startup&lt;/a&gt;, I agree with the author's opinion. There is no a best language for your startup, even the language you choosed is not the key point for your startup. The proper is the best.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Schema Optimization and Indexing</title>
			<link href="http://freetofeel.com/en/2009/10/18/schema-optimization-and-indexing.html"/>
			<updated>2009-10-18T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/18/schema-optimization-and-indexing</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Choosing Data Type &gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Smaller is usually better;&lt;/li&gt;
&lt;li&gt;Simple is good;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Avoid NULL if possible - When a nullable column is indexed, it requires an extra byte per entry and can even cause a fixed-size index;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Two kinds of numbers: whole numbers and real numbers (numbers with a fractional part)
TINYINT, SMALLINT, MEDIUMINT, INT, or BIGINT. These require 8, 16, 24, 32, and 64 bits of storage space. Signed and unsigned types use the same amount of storage space and have the same performance, so use whatever’s best for your data range.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MySQL lets you specify a “width” for integer types, such as INT(11). &amp;lt;@author:Oh, I was cheated!&gt;This is meaningless for most applications: it does not restrict the legal range of values, but simply specifies the number of characters MySQL’s interactive tools (such as the commandline client) will reserve for display purposes. For storage and computational purposes, INT(1) is identical to INT(20).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;VARCHAR - helps performance because it saves space. However, because the rows are variable-length, they can grow when you update them, which can cause extra work.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;CHAR - is fixed-length: MySQL always allocates enough space for the specified number of characters. When storing a CHAR value, MySQL removes any trailing
spaces.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Binary comparisons can be much simpler than character comparisons, so they are faster.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using ENUM instead of a string type.
Note:ENUM field sorts by the internal integer values, not by the strings themselves.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TIMESTAMP &gt;
By default, MySQL will set the first TIMESTAMP column to the current time when you insert a
row without specifying a value for the column. MySQL also updates the first TIMESTAMP column’s value by default when you update the row, unless you assign a value explicitly in the UPDATE statement.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What if you need to store a date and time value with subsecond resolution?
You can use the BIGINT data type and store the value as a timestamp in microseconds, or you can use a DOUBLE.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Date type choose priciple:
Choose the smallest size that can hold your required range of values, and leave room for future growth if necessary.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;String types &gt;
Avoid string types for identifiers if possible, as they take up a lot of space and are generally slower than integer types. Be especially cautious when using string identifiers with MyISAM tables. MyISAM uses packed indexes for strings by default, which may make lookups much slower. In our tests, we’ve noted up to six times slower performance with packed indexes on MyISAM.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Types of Indexes &gt;
B-Tree indexes - all the values are stored in order, and each leaf page is the same distance from the root.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Full-text indexes &gt;
It finds keywords in the text instead of comparing values directly to the values in the index.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Indexing Strategies for High Performance &gt; Isolate the Column
“Isolating” the column means it should not be part of an expression or be inside a function in the query.
i).mysql&gt; SELECT ... WHERE TO_DAYS(CURRENT_DATE) - TO_DAYS(date_col) &amp;lt;= 10;
ii). mysql&gt; SELECT ... WHERE date_col &gt;= DATE_SUB(CURRENT_DATE, INTERVAL 10 DAY);
iii). mysql&gt; SELECT ... WHERE date_col &gt;= DATE_SUB('2008-01-17', INTERVAL 10 DAY);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If you want to make index for a long column, the best way is using the prefix.
Prefix indexes can be a great way to make indexes smaller and faster, but they have downsides too: MySQL cannot use prefix indexes for ORDER BY or GROUP BY queries, nor can it use them as covering indexes.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;mysql&gt; SELECT COUNT(DISTINCT city)/COUNT(&lt;em&gt;) FROM sakila.city_demo;
+-------------------------------+
| COUNT(DISTINCT city)/COUNT(&lt;/em&gt;) |
+-------------------------------+
| 0.0312 |
+-------------------------------+
mysql&gt; SELECT COUNT(DISTINCT LEFT(city, 3))/COUNT(&lt;em&gt;) AS sel3,
-&gt; COUNT(DISTINCT LEFT(city, 4))/COUNT(&lt;/em&gt;) AS sel4,
-&gt; COUNT(DISTINCT LEFT(city, 5))/COUNT(&lt;em&gt;) AS sel5,
-&gt; COUNT(DISTINCT LEFT(city, 6))/COUNT(&lt;/em&gt;) AS sel6,
-&gt; COUNT(DISTINCT LEFT(city, 7))/COUNT(*) AS sel7
-&gt; FROM sakila.city_demo;
+--------+--------+--------+--------+--------+
| sel3 | sel4 | sel5 | sel6 | sel7 |
+--------+--------+--------+--------+--------+
| 0.0239 | 0.0293 | 0.0305 | 0.0309 | 0.0310 |
+--------+--------+--------+--------+--------+
mysql&gt; ALTER TABLE sakila.city_demo ADD KEY (city(7));&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Clustered Indexes &gt;
solidDB and InnoDB are the only ones that support this type index.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;You should strive to insert data in primary key order when using InnoDB, and you should try to use a clustering key that will give a monotonically increasing value for each new row.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MySQL can use the same index for both sorting and finding rows.
Ordering the results by the index works only when the index’s order is exactly the same as the ORDER BY clause and all columns are sorted in the same direction (ascending or descending). If the query joins multiple tables, it works only when all columns in the ORDER BY clause refer to the first table. The ORDER BY clause also has the same limitation as lookup queries: it needs to form a leftmost prefix of the index.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MySQL implements UNIQUE constraints and PRIMARY KEY constraints with indexes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Redundant indexes are a bit different from duplicated indexes. If there is an index on (A, B), another index on (A) would be redundant because it is a prefix of the first index. That is, the index on (A, B) can also be used as an index on (A) alone. (This type of redundancy applies only to B-Tree indexes.) However, an index on (B, A) would not be redundant, and neither would an index on (B), because B is not a leftmost prefix of (A, B).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Where possible, try to extend existing indexes rather than adding new ones. It is usually more efficient to maintain one multicolumn index than several single-column indexes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;?--
If you don’t yet know your query distribution, strive to make your indexes as selective as you can, because highly selective indexes are usually more beneficial.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As this example shows, InnoDB can lock rows it doesn’t really need even when it uses an index.
Note:
The problem is even worse when it can’t use an index to find and lock the rows: if there’s no index for the query, MySQL will do a full table scan and lock every row, whether it “needs” it or not.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;!--
If MySQL uses an index for a range criterion in a query, it cannot also use another index (or a suffix of the same index) for ordering.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Run 'CHECK TABLE xxx' to see if the table is corrupt;
Fix corrupt tables with the 'REPAIR TABLE xxx' command.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Two types of data fragmentation:
a). Row fragmentation
b). Intra-row fragmentation
MyISAM tables may suffer from both types of fragmentation, but InnoDB never fragments short rows.
!--To defragment data, you can either run OPTIMIZE TABLE or dump and reload the data;
!--For storage engines that don’t support OPTIMIZE TABLE, you can rebuild the table with a no-op ALTER TABLE. Just alter the table to have the same engine it currently uses:
 mysql&gt; ALTER TABLE $table ENGINE=$engine;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Example, you can change or drop a column’s default value in two ways (one fast, and one slow).
slow}mysql&gt; ALTER TABLE sakila.film
 -&gt; MODIFY COLUMN rental_duration TINYINT(3) NOT NULL DEFAULT 5;
In theory, MySQL could have skipped building a new table. The default value for the column is actually stored in the table’s .frm file, so you should be able to change it without touching the table itself. MySQL doesn’t yet use this optimization, however: any MODIFY COLUMN will cause a table rebuild. You can change a column’s default with ALTER COLUMN,* though:
fast}mysql&gt; ALTER TABLE sakila.film
 -&gt; ALTER COLUMN rental_duration SET DEFAULT 5;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Building MyISAM Indexes Quickly &gt;&gt;
The usual trick for loading MyISAM tables efficiently is to disable keys, load the data, and reenable the keys:
mysql&gt; ALTER TABLE test.load_data DISABLE KEYS;
-- load the data
mysql&gt; ALTER TABLE test.load_data ENABLE KEYS;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>How to remove a specific value from a javascript array</title>
			<link href="http://freetofeel.com/en/2009/10/17/how-to-remove-a-specific-value-from-a-javascript-array.html"/>
			<updated>2009-10-17T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/17/how-to-remove-a-specific-value-from-a-javascript-array</id>
			<content type="html">&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Array/splice&quot;&gt;splice&lt;/a&gt; - Changes the content of an array, adding new elements while removing old elements.&lt;/p&gt;

&lt;blockquote&gt;array.splice(index, howMany, [element1][, ..., elementN]);
array.splice(index, [howMany, [element1][, ..., elementN]]);  // SpiderMonkey extension
&lt;/blockquote&gt;


&lt;p&gt;index
    Index at which to start changing the array. If negative, will begin that many elements from the end.&lt;/p&gt;

&lt;p&gt;howMany
    An integer indicating the number of old array elements to remove. If howMany is 0, no elements are removed. In this case, you should specify at least one new element. If no howMany parameter is specified (second syntax above, which is a SpiderMonkey extension), all elements after index are removed.&lt;/p&gt;

&lt;p&gt;element1, ..., elementN
    The elements to add to the array. If you don't specify any elements, splice simply removes elements from the array.&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
// from this
var arr = ['remove', 'specific', 'value', 'from', 'javascript', 'array']; // 6 items
 
// to this (&quot;specific&quot; value removed)
var arr = ['remove', 'value', 'from', 'javascript', 'array']; //  5 items
 
// use this (removes &quot;specific&quot;)
arr.splice(arr.indexOf('specific'), 1);
 
 
// full example
var arr = ['remove', 'specific', 'value', 'from', 'javascript', 'array'];
var value_to_remove = 'specific';
arr.splice(arr.indexOf(value_to_remove), 1);
 
 
// note: to support IE (anger rising as I type), you'll need this (thanks James!):
if (!Array.prototype.indexOf)
{
  Array.prototype.indexOf = function(elt /*, from*/)
  {
    var len = this.length &gt;&gt;&gt; 0;
 
    var from = Number(arguments[1]) || 0;
    from = (from &lt; 0)
         ? Math.ceil(from)
         : Math.floor(from);
    if (from &lt; 0)
      from += len;
 
    for (; from &lt; len; from++)
    {
      if (from in this &amp;&amp;
          this[from] === elt)
        return from;
    }
    return -1;
  };
}
&lt;/pre&gt;

</content>
		</entry>
	
		<entry>
			<title>Chance, Possibility and Opportunity, difference?</title>
			<link href="http://freetofeel.com/en/2009/10/14/chance-possibility-and-opportunity-difference.html"/>
			<updated>2009-10-14T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/14/chance-possibility-and-opportunity-difference</id>
			<content type="html">&lt;p&gt;I got the answer from internet, maybe wrong, hope somebody can help me correct it.&lt;/p&gt;

&lt;p&gt;possibility is the chance for something to happen.
as in, &quot;ladies and gents, this is your pilot. it is stormy and lightning is everywhere, so there's a possibility that the plane will crash.&quot;&lt;/p&gt;

&lt;p&gt;opportunity is the chance to do something.
as in, &quot;there came an opportunity for him to break up with his girlfriend, but he backed out when he saw that she has a collection of guns.&quot;&lt;/p&gt;

&lt;p&gt;chance is a word you can use for both.
as in, &quot;there's a chance (possibility) for you to flunk the exam because all you do is sleep and eat your toenails.&quot;
and &quot;this is your chance (opportunity) to be a senator! all you have to do is get money from the taxpayers!&quot;&lt;/p&gt;

&lt;p&gt;Chance = You are lucky it's passing by
Possibility= It is possible that it happen
Opportunity=It pass by you only once , so grab it&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>SQL Optimization</title>
			<link href="http://freetofeel.com/en/2009/10/13/sql-optimization.html"/>
			<updated>2009-10-13T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/13/sql-optimization</id>
			<content type="html">&lt;p&gt;Two tables:
city
id,name,country_id
1,xx,21
2,tt,22
3,tts,21
4,ss,31&lt;/p&gt;

&lt;p&gt;country
id,name
21,AA
22,BB
31,CC
41,EE
51,TT&lt;/p&gt;

&lt;p&gt;The question is selecting the country name which has not attached with any city.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;select * from country where id is not in (select id from country right join city where city.country_id = country.id);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But we can optimize this SQL like this:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;select * from country left join city where city.country_id is null;&lt;/p&gt;&lt;/blockquote&gt;
</content>
		</entry>
	
		<entry>
			<title>Personality Test</title>
			<link href="http://freetofeel.com/zh/2009/10/12/personality-test.html"/>
			<updated>2009-10-12T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2009/10/12/personality-test</id>
			<content type="html">&lt;p&gt;DISC性格测试&lt;/p&gt;

&lt;p&gt;在每行中挑选一个与您最相近的形容词（每题必须选一个并且只能选一个）若您在某一题上实在无法判断请考虑3年前的自己的特征作答。&lt;/p&gt;

&lt;p&gt;1。 A 活泼生动  B 富于冒险  C 善于分析  D适应性强
2。 A 喜好娱乐  B 善于说服  C 坚持不懈  D平和
3。 A 善于社交  B 意志坚定  C 自我牺牲  D较少争辩
4。 A 使人认同  B 喜竞争胜  C 体贴      D自控性好
5。 A 使人振作  B 善于应变  C 令人尊敬  D含蓄
6。 A 生机勃勃  B 自立      C 敏感      D满足
7。 A 推动者    B 积极      C 计划者    D耐性
8。 A 无拘无束  B 肯定      C 时间性    D羞涩
9。 A 乐观      B 坦率      C 井井有条  D迁就
10。A 有趣      B 强迫性    C 忠诚      D友善
11。A 可爱      B 勇敢      C 注意细节  D外交手腕
12。A 让人高兴  B 自信      C 文化修养  D贯彻始终
13。A 富激励性  B 独立      C 理想主义  D无攻击性
14。A 情感外露  B 果断      C 深沉      D淡然幽默
15。A 喜交朋友  B 发起者    C 音乐性    D调解者
16。A 多言      B 执著      C 考虑周到  D容忍
17。A 活力充沛  B 领导者    C 忠心      D聆听着
18。A 让人喜爱  B 首领      C 制图者    D知足
19。A 受欢迎    B 勤劳      C 完美主义者D和气
20。A 跳跃型    B 无畏      C 规范型    D平衡&lt;/p&gt;

&lt;p&gt;21。A 露骨      B 专横      C 乏味      D扭捏
22。A 散漫      B缺乏同情心 C 不宽恕    D缺乏热情
23。A 唠叨      B 逆反      C 怨恨      D保留
24。A 健忘      B 率直      C 挑剔      D 胆小
25。A 好插口    B 没耐性    C 优柔寡断  D无安全感
26。A 难预测    B 直截了当  C 过于严肃  D 不参与
27。A 即兴      B 固执      C 难于取悦  D 犹豫不决
28。A 放任      B 自负      C 悲观      D 平淡
29。A 易怒      B 好争吵    C 孤芳自赏  D 无目标
30。A 天真      B 鲁莽      C 消极      D冷漠
31。A 喜获认同  B 工作狂    C 不善交际  D 担忧
32。A 喋喋不休  B不圆滑老练 C 过分敏感  D 胆怯
33。A 杂乱无章  B 跋扈      C 抑郁      D腼腆
34。A 缺乏毅力  B 不容忍    C 内向      D无异议
35。A 零乱      B 喜操纵    C 情绪化    D喃喃自语
36。A 好表现    B 顽固      C 有戒心    D缓慢
37。A 大嗓门    B 统治欲    C 孤僻      D 懒惰
38。A 不专注    B 易怒      C 多疑      D 拖延
39。A 烦躁      B 轻率      C 报复型    D勉强
40。A 善变      B 狡猾      C 好批评    D妥协&lt;/p&gt;

&lt;p&gt;每道题一份 然后计算出 ABCD 各个的得分&lt;/p&gt;

&lt;p&gt;得分最多的为主要性格 次多的是辅助型性格。&lt;/p&gt;

&lt;p&gt;A 得分最多的--活泼型
B 得分最多的--力量型
C 得分最多的--完美型
D 得分最多的--和平型&lt;/p&gt;

&lt;p&gt;性格分析：&lt;/p&gt;

&lt;p&gt;活泼型：外向 多言 乐观
特点：一群人里面说话最多的 天生希望成为注意力的中心，具有很强的好奇心 热情 热心具有表达能力 精力充沛具有干劲（但是却缺乏毅力 所以常常这干干 那干干） 好表现 粗线条 轻许诺（因为热心所以常常答应别人 但是由于记忆差所以常常答应后就忘记了） 以自己的快乐为主
缺点：以自己为中心 独霸主题 爱打断别人的谈话 不注意记忆 变化无常 这类人易交朋友但深切的朋友却不多  喜好多却不精 缺乏毅力
切入点：如果跟这类型的人交往 一定要多夸奖他 多鼓励他 多给他说话的机会
自我规划：&lt;/p&gt;

&lt;p&gt;1。管住自己的嘴
2。控制自己的表现欲望
3。对自己的评价不要过高 关心自己的同时也要关心别人
4。培养记忆力
5，不要太善变，要脚踏实地 要做就要把一件事作完整&lt;/p&gt;

&lt;p&gt;力量型：外向 行动者 乐观
特点：喜欢做主 行动力强  行动速度 思考力稍弱 喜欢做目标不达目的不罢休 充满自信 意志坚定 有活力 做事主动 不易气馁 是推动别人行动的人 粗线条 不容易适应环境 （不过由于行动力很强所以往往做事会有很大成就 ）
缺点：不易看到别人的需求，只看到自己的需求 做错事后很容易原谅自己 固执 易争吵 好斗说话极易伤害别人 具有强迫性 很容易支配别人 无耐性 专横 经常人际关系差 （这类人总觉得自己是对的不太需要朋友，并且这类人天生行动力强 但是即使是正确的事情 也因为性格问题 说话伤害到别人 而得不到别人的支持和认同）
注意点：这类型严重者会很独断霸道  容易让别人感到压力相处很累
自我规划：
1。减轻对别人的压力 学会放松 要缓和
2。尝试接受别人的号召和意见 尝试耐心和低调
3。停止争吵让别人也感觉到放松
4。学习包容 学会道歉 学会坦然接受自己的错误 放开胸怀（当一个力量型的人学会承认错误 那么他便成功了）&lt;/p&gt;

&lt;p&gt;完美型：内向 思考者 悲观
特点：以思考为主 深思熟虑 严肃 有目标 并且目标感很强 追求完美 有艺术天分 沉闷 关注细节完美主义 高标准 想得多但做得少 做事前一定要先想个计划 有条理 有组织 交友慎重（但一旦交往 就会很忠诚的对待朋友） 关心别人为别人牺牲是自己的意愿 （所以这类型的人一生一定有几个特别好的朋友 一辈子的朋友那种）情感丰富容易感动 也容易受伤高标准--对自己要求高对别人要求也高 希望一切都作的很好 很对。理想主义 朝着自己的目标前进
缺点：行动力弱 优柔寡断 容易抑郁（常常是因为要求过高了 当达不到时候就会很失望）容易自惭自愧 悲观天生消极 易受环境影响 情绪化
注意点：这类型的人太容易思考 过分时会情绪低落
切入点：如果想和着类型的人交往 一定要先打动他 但是不要进攻尽力 要一点一点的建立信任和感情这类型的人 一旦认同你后 会很忠诚 忠心
自我规划：
1。要快乐起来（没人喜欢郁闷的人）
2。不要太容易受伤害 不要太敏感
3。 不要把时间都用来规划上面 而不去行动发
4，不要那么高标准的要求别人 他不是你 要放松下来 要去发现别人的优点&lt;/p&gt;

&lt;p&gt;和平型：内向 旁观者 悲观
特点：性格低调 易相处 很轻松 平和 无异议 耐心 适应力强 无攻击性 很好的聆听者 具有外交手段（说话绕弯不直接） 人际关系好（和事老） 所以朋友很多 不爱生气
缺点：不容易兴奋 拒绝改变 喜欢一成不变 目标感不强 看似懒惰 不愿承担责任 回避压力沉默（不愿意沟通 即使内心波涛汹涌...所以这类型的爱人 常常都不会说 我爱你） 马虎 无主见（需要力量型的人给于指导，但不要施加压力） 不善于做决定
切入点：和这类型的人交往 一定要鼓励他 促进他
注意点：这类型过分时会毫无主见 做事漫不经心
自我规划：&lt;/p&gt;

&lt;p&gt;1。让自己快乐起来 给自己尝试新鲜的事物和思想
2。明确生活的责任 不要得过且过
3。有意识接受督促（找个力量型或完美型）
4。多表达 沟通&lt;/p&gt;

&lt;p&gt;据调查 很多成功人士的性格 主要是完美型+力量型  （思考者+行动者）（ 分数都很高并且比较平均）但是很多成功人士并不是天生就是这两种性格的 而是经过了后天很多的性格改变和培养~~&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.sina.com.cn/s/blog_404b25b90100bfgw.html&quot;&gt;Original&lt;/a&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Byte and bit</title>
			<link href="http://freetofeel.com/zh/2009/10/12/byte-and-bit.html"/>
			<updated>2009-10-12T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2009/10/12/byte-and-bit</id>
			<content type="html">&lt;p&gt;Bit意为“位”或“比特”，是计算机运算的基础，属于二进制的范筹；
　 Byte意为“字节”，是计算机文件大小的基本计算单位；
   这两者应用的场合不同。通常用bit来作数据传输的单位，因为物理层，数据链路层的传输对于用户是透明的，而这种通信传输是基于二进制的传输。在应用层通常是用byte来作单位，表示文件的大小，在用户看来就是可见的数据大小。比如一个字符就是1byte,如果是汉字，则是2byte。
　下面是2个具体应用实例：
　Mbps=mega bits per second(兆位/秒)是速率单位，
　MB=mega bytes(兆比、兆字节)是量单位，1MB/S（兆字节/秒）=8MBPS（兆位/秒）。
  我们所说的硬盘容量是40GB、80GB、100GB，这里的B指是的Byte也就是“字节”。(与容量相关，应用层）
1 KB = 1024 bytes =2&lt;sup&gt;10&lt;/sup&gt; bytes
1 MB = 1024 KB = 2&lt;sup&gt;20&lt;/sup&gt; bytes
1 GB = 1024 MB = 2&lt;sup&gt;30&lt;/sup&gt; bytes
　USB2.0标准接口传输速率是480兆位/秒,即480MBps。这里的B指是的Bit也就是“位”。（与传输相关，底层）&lt;/p&gt;

&lt;p&gt;　注：另外，Byte通常简写为B(大写），而bit通常简写为b（小写）。可以这么记忆，用大写的就是数据值比较大的位，而小字的就是数据值比较小的字节，1B=8b。&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>MySQL Architecture</title>
			<link href="http://freetofeel.com/en/2009/10/09/mysql-architecture.html"/>
			<updated>2009-10-09T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/10/09/mysql-architecture</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Each client connection gets its own thread within the server process.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If it takes a lot of time on locks, why not separate read and write lock?
Q:  How to synchronise the read database and write database?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When we want to keep reading and writing date clean, we try to implement two types lock in db.
Expected：
Read locks on a resource are shared, or mutually nonblocking: many clients
may read from a resource at the same time and not interfere with each other.
Write locks, on the other hand, are exclusive—i.e., they block both read locks and
other write locks—because the only safe policy is to have a single client writing to
the resource at given time and to prevent all reads when a client is writing.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;MySQL way:
a. Table locks - the lowest overhead;
b. Row locks - the greatest concurrency.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Transactions aren’t enough unless the system passes the ACID test.
Atomicity
Consistency
Isolation
Durability - Once committed, a transaction’s changes are permanent.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Isolation Levels &gt;
READ UNCOMMITTED - Reading uncommitted data is also known as a dirty read;
READ COMMITTED - The default isolation level for most database systems (but not MySQL!);
REPEATABLE READ - MySQL’s default transaction isolation level.
SERIALIZABLE - At this level, a lot of timeouts and lock contention may occur.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Deadlock -
The way InnoDB currently handles deadlocks is to roll back the transaction
that has the fewest exclusive row locks.
Deadlocks are a fact of life in transactional systems, and your applications
should be designed to handle them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Transaction in MySQL &gt;
MySQL AB provides three transactional storage engines: InnoDB, NDB Cluster, and
Falcon. solidDB and PBXT.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AUTOCOMMIT &gt;
MySQL operates in AUTOCOMMIT mode by default. It automatically executes each query in a separate transaction.
MyISAM or Memory tables -  essentially always operate in AUTOCOMMIT mode.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;You can’t reliably mix different engines in a single transaction. If you mix transactional and nontransactional tables (for instance, InnoDB and MyISAM tables) in a transaction, the transaction will work properly if all goes well. However, if a rollback is required, the changes to the nontransactional table can’t be undone.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;InnoDB also supports explicit locking, which the SQL standard does not mention at all:&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;SELECT ... LOCK IN SHARE MODE&lt;/li&gt;
&lt;li&gt;SELECT ... FOR UPDATE&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;MySQL supports the LOCK TABLES and UNLOCK TABLES commands, which are implemented in the server, not in the storage engines.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;MySQL’s Storage Engines &gt;
The MyISAM Engine &gt;&gt;
Storage: The MyISAM format is platformneutral, meaning you can copy the data and index files from an Intel-based server to a PowerPC or Sun SPARC without any trouble.
MyISAM tables created in MySQL 5.0 with variable-length rows are configured by default to handle 256 TB of data, using 6-byte pointers to the data records.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Features:
Locking and concurrency / Automatic repair / Manual repair(You can also use the myisamchk
command-line tool to check and repair tables when the server is offline.) / Index features / Delayed key writes(However, after a server or system crash, the indexes will definitely be corrupted and will need repair.) /&lt;/p&gt;

&lt;p&gt;Compressed MyISAM tables:
Compressed MyISAM tables can have indexes, but they’re read-only.&lt;/p&gt;

&lt;p&gt;The MyISAM Merge Engine &gt;&gt;
A Merge table is the combination of several identical MyISAM tables into one virtual table. This is particularly useful when you use MySQL in logging and data warehousing applications.&lt;/p&gt;

&lt;p&gt;The InnoDB Engine &gt;&gt;
InnoDB can’t build indexes by sorting, which MyISAM can do.
Any operation that changes an InnoDB table’s structure will rebuild the entire table, including all the indexes.&lt;/p&gt;

&lt;p&gt;The Memory Engine &gt;&gt;
Here are some good uses for Memory tables:
a. For “lookup” or “mapping” tables, such as a table that maps postal codes to
state names
b. For caching the results of periodically aggregated data
c. For intermediate results when analyzing data
Support only fixed-size rows, so they really store VARCHARs as CHARs, which can waste memory.&lt;/p&gt;

&lt;p&gt;The Archive Engine &gt;&gt;
It causes much less disk I/O than MyISAM, because it buffers data writes and compresses each row with zlib as it’s inserted.&lt;/p&gt;

&lt;p&gt;The CSV Engine &gt;&gt;&lt;/p&gt;

&lt;p&gt;The Federated Engine &gt;&gt;
The Federated engine does not store data locally. Each Federated table refers to a table on a remote MySQL server, so it actually connects to a remote server for all operations.&lt;/p&gt;

&lt;p&gt;The Blackhole Engine &gt;&gt;
Blackhole engine useful for fancy replication setups and audit logging.&lt;/p&gt;

&lt;p&gt;The NDB Cluster Engine &gt;&gt;
An NDB database consists of data nodes, management nodes, and SQL nodes (MySQL instances).&lt;/p&gt;

&lt;p&gt;The Falcon Engine &gt;&gt;&lt;/p&gt;

&lt;p&gt;The solidDB Engine &gt;&gt;&lt;/p&gt;

&lt;p&gt;The PBXT (Primebase XT) Engine &gt;&gt;&lt;/p&gt;

&lt;p&gt;The Maria Storage Engine &gt;&gt;
The goal is to use Maria as a replacement for MyISAM, which is currently MySQL’s default storage engine.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Table Conversions &gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;mysql&gt; ALTER TABLE mytable ENGINE = Falcon;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>The Payroll Case Study</title>
			<link href="http://freetofeel.com/zh/2009/09/23/the-payroll-case-study.html"/>
			<updated>2009-09-23T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2009/09/23/the-payroll-case-study</id>
			<content type="html">&lt;h2&gt;C13&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Command 模式是将UI中和应用层中的执行逻辑分离到特定的运行函数中。所谓的解耦。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h2&gt;C17&lt;/h2&gt;

&lt;p&gt;1.使NULL生命化，而不是每次显示的 'x != null'. 可以构造NullObject.&lt;/p&gt;

&lt;h2&gt;C18&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;对需求分析-&amp;gt;创建用例 -&amp;gt; 用例分析-&amp;gt; 抽象出接口模型&lt;/li&gt;
&lt;li&gt;初期应该抵制自己接近代码的诱惑&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>Agile Design</title>
			<link href="http://freetofeel.com/zh/2009/09/21/agile-design.html"/>
			<updated>2009-09-21T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2009/09/21/agile-design</id>
			<content type="html">&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;敏捷设计之着眼于当下的需求，不预测未来的需求和需要&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;敏捷开发应用设计原则取出代码中的smell，当没有这些糟糕的smell的时候， 他们不会iqu应用这些原则，仅仅因为是一个原则就无条件的遵循它是错误的 -- 这句话太深入我心了，三年来，终于找到证据证明我的想法了。我一向讨厌那些死板教条，为了原则而原则，在没有开始代码之前就把这些条条框框把我们框住，太他妈混球了。这也证明了，代码世界中，很多混饭的。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C7&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;----------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;满足工程设计标准的唯一文档就是源码&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;粘滞性 - 做正确的事情要比做错误的事情困难&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;3.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;为过多的可能性做设计，致使系统中含有绝不会用到的结构，从而变得混乱&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;4.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;如果只是简单的copy and past带来的重复代码，还是有希望治理的。但很多事情由于系统过于庞大，A开发者编写了一段功能代码，B因为没有看到的A的代码，而又重新编写了一段，这样的代码功能一样，但很难被发现。这个问题想彻底避免，我觉得也是很困难的，这就要求开发者在开始编码前就对整个系统有个通透的了解。这就是为什么说招10个初级程序员，还不如招两个中级程序员，招五个中级程序员，还不如招两个高级程序员。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;5.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;敏捷设计是一个过程，持续的应用原则，模式和实践来保持系统任何时候都做得尽可能的简单，干净，富于想象力。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;（写到这里让我想到，微软的程序员是绝没有机会实践这些东西的，他们一定很渴望，但却不可得，窃喜。）&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C8&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;-----------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;被依赖最多的功能，要注意解耦&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C9&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;-----------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;所有的原则都是使得我们可以尽可能的接近理想，而决不可能达到理想&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;对于扩展是开放的，对于更改是封闭的。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;这就是为什么有时候我们您愿增加一段新的功能代码单独处理我们的另一端逻辑，而不愿更改那块被依赖很多次的代码&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;3.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;OCP一定要提前预测什么地方需要应用此原则&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;4.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;首先开发重要的部件，尽早的，经常性的发布&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;5.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;OCP - 面向对象的核心，只有当应用这个原则的时候才能看到面向对象的好处&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C10&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;------------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Liskov替换原则 - 子类型必须能替换掉它的基类型&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;读到这里又让我想起当初学习那么多的定理，推论的用处了，很多的都用在这里了&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;3.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Design By Contract(DBC) - 契约是通过为每个方法声明前置条件和后置条件来指定的。要是一个方法的一执行，前置方法必须为真，在执行结束后，后置方法必须为真。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;4.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;为使第三方程序可控，可以将它们包装于你自己可以控制的函数内，以便未来什么时期将它替换掉。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C11&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;---------------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;高层模块不依赖于底层模块，二者都依赖于抽象&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;抽象不依赖于细节，细节依赖于抽象&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;程序中所有的依赖关系都应该终止与抽象或者接口&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C12&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;---------------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;多重继承分离接口&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;敏捷设计之着眼于当下的需求，不预测未来的需求和需要&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;敏捷开发应用设计原则取出代码中的smell，当没有这些糟糕的smell的时候， 他们不会iqu应用这些原则，仅仅因为是一个原则就无条件的遵循它是错误的 -- 这句话太深入我心了，三年来，终于找到证据证明我的想法了。我一向讨厌那些死板教条，为了原则而原则，在没有开始代码之前就把这些条条框框把我们框住，太他妈混球了。这也证明了，代码世界中，很多混饭的。&lt;/p&gt;

&lt;p&gt;C7&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;满足工程设计标准的唯一文档就是源码&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;粘滞性 - 做正确的事情要比做错误的事情困难&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;为过多的可能性做设计，致使系统中含有绝不会用到的结构，从而变得混乱&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;如果只是简单的copy and past带来的重复代码，还是有希望治理的。但很多事情由于系统过于庞大，A开发者编写了一段功能代码，B因为没有看到的A的代码，而又重新编写了一段，这样的代码功能一样，但很难被发现。这个问题想彻底避免，我觉得也是很困难的，这就要求开发者在开始编码前就对整个系统有个通透的了解。这就是为什么说招10个初级程序员，还不如招两个中级程序员，招五个中级程序员，还不如招两个高级程序员。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;敏捷设计是一个过程，持续的应用原则，模式和实践来保持系统任何时候都做得尽可能的简单，干净，富于想象力。&lt;/p&gt;

&lt;p&gt;（写到这里让我想到，微软的程序员是绝没有机会实践这些东西的，他们一定很渴望，但却不可得，窃喜。）&lt;/p&gt;

&lt;p&gt;C8&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;被依赖最多的功能，要注意解耦&lt;/p&gt;

&lt;p&gt;C9&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;所有的原则都是使得我们可以尽可能的接近理想，而决不可能达到理想&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;对于扩展是开放的，对于更改是封闭的。&lt;/p&gt;

&lt;p&gt;这就是为什么有时候我们您愿增加一段新的功能代码单独处理我们的另一端逻辑，而不愿更改那块被依赖很多次的代码&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;OCP一定要提前预测什么地方需要应用此原则&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;首先开发重要的部件，尽早的，经常性的发布&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;OCP - 面向对象的核心，只有当应用这个原则的时候才能看到面向对象的好处&lt;/p&gt;

&lt;p&gt;C10&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Liskov替换原则 - 子类型必须能替换掉它的基类型&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;读到这里又让我想起当初学习那么多的定理，推论的用处了，很多的都用在这里了&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Design By Contract(DBC) - 契约是通过为每个方法声明前置条件和后置条件来指定的。要是一个方法的一执行，前置方法必须为真，在执行结束后，后置方法必须为真。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;为使第三方程序可控，可以将它们包装于你自己可以控制的函数内，以便未来什么时期将它替换掉。&lt;/p&gt;

&lt;p&gt;C11&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;高层模块不依赖于底层模块，二者都依赖于抽象&lt;/p&gt;

&lt;p&gt;抽象不依赖于细节，细节依赖于抽象&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;程序中所有的依赖关系都应该终止与抽象或者接口&lt;/p&gt;

&lt;p&gt;C12&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;多重继承分离接口&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Start my site promotion?</title>
			<link href="http://freetofeel.com/en/2009/09/20/start-my-site-promotion.html"/>
			<updated>2009-09-20T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/09/20/start-my-site-promotion</id>
			<content type="html">&lt;p style=&quot;line-height: 1.7em; text-align: justify;&quot;&gt;Human is a powerful machine for website promotion. If you have 20 people and 20 computers located in 20 different cities, you can do incredible things like:&lt;/p&gt;


&lt;p style=&quot;line-height: 1.7em; text-align: justify;&quot;&gt;1.Exposure: There will be 5000 advertising posts all over the websites in 24 hours, if each person copy and paste the same posts.&lt;/p&gt;


&lt;p style=&quot;line-height: 1.7em; text-align: justify;&quot;&gt;2. Traffic: Each person uses a small program to clear cookie, redial ADSL(Ip address will be changed) , and visit your website once every 2 minutes, then you can reach 14,000 unique visits each day. Very high traffic for startup websites.&lt;/p&gt;


&lt;p style=&quot;line-height: 1.7em; text-align: justify;&quot;&gt;3.Video marketing: Each person uses a small program to replay your video once every 6 seconds, then you can reach 12,000 views in one hour, and get it into the most popular video list.&lt;/p&gt;


&lt;p style=&quot;line-height: 1.7em; text-align: justify;&quot;&gt;4. Make rivals crazy: With the same trick, 20 PCs from 20 cities automatically refresh your rivals’ websites 24 hours a day(remember to change your IP and clear cookie once every 5 minutes), they will kill themselves.&lt;/p&gt;

</content>
		</entry>
	
		<entry>
			<title>Agile Development</title>
			<link href="http://freetofeel.com/zh/2009/09/20/agile-development.html"/>
			<updated>2009-09-20T00:00:00+08:00</updated>
			<id>http://freetofeel.com/zh/2009/09/20/agile-development</id>
			<content type="html">&lt;p&gt;时隔一年再读agile，理解更加深入，遂做些读书笔记.&lt;/p&gt;

&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C1, C2&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;响应变化 胜过遵循计划&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;为下两周做详细计划&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;为下三个月做粗略计划&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;再以后就做及粗糙的计划&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;尽早交付，越早越好&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;3.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;人被认为项目取得成功的重要因素&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;4.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;团队内部，面对面交谈&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;5.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;程序员与客户工作在一起&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;6.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;任务分配给敏捷团队，而不是某个敏捷团队成员。团队也是自组织的。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;7.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;前期的需求 只需要了解个大致。只有在产品的特性都整合在一起的时候，才是关注需求的时候，因为这个时候需求往往变动很大。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;8.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;专家知识通过结对编程，成员共享&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;9.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;持续集成 = svn足够了&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;10.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;加班？好的安排，连发部前一个星期的加班都不需要。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;11.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;充满积极讨论的屋子，生产效率不但不会降低，反而提高。- 密歇根大学研究得出&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;12.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;消除重复代码 - 抽象&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;13.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;重构是持续进行的&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C3&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;---------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;通过一两天去原型化一两个feature，去探测团队开发速度是必要的；&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;对不明确的feature细分为更小，可以估算的时间成本的feature。当开发速度更准确些时，对任务时间进行更准确的估算更新&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;迭代一旦开始，客户不可以再次改变&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;3.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;项目的知识应该充分的被团队每个成员了解&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;4.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;迭代的终点，进度估算。本次迭代的半数素材应该被完成，如果没有需要移除一些素材&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C4&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;与其说测试驱动的测试只测试的话，我更认为他是一种目标，只是一种可以测试的目标，每次的编码都是为了实现这个目标。也就是说编码的工作最后的结果和最终的测试应该是属于的集合关系，而不是被属于的关系。&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;TDD - 站在使用者的角度来看待程序&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;2.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;测试代码应该保证简单，越简单的测试被运行的机会越多&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C5&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;重构的两点:&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;a,节约下次使用的成本；&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;b,使得代码易读，易于维护&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;C6&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;--------------------------------------------&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;1.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;XP结对编程中规定，当有人请求帮助的时候，不能说‘不’&lt;/div&gt;


&lt;p&gt;C1, C2&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;响应变化 胜过遵循计划&lt;/p&gt;

&lt;p&gt;为下两周做详细计划&lt;/p&gt;

&lt;p&gt;为下三个月做粗略计划&lt;/p&gt;

&lt;p&gt;再以后就做及粗糙的计划&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;尽早交付，越早越好&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;人被认为项目取得成功的重要因素&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;团队内部，面对面交谈&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;程序员与客户工作在一起&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;任务分配给敏捷团队，而不是某个敏捷团队成员。团队也是自组织的。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;前期的需求 只需要了解个大致。只有在产品的特性都整合在一起的时候，才是关注需求的时候，因为这个时候需求往往变动很大。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;专家知识通过结对编程，成员共享&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;持续集成 = svn足够了&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;加班？好的安排，连发部前一个星期的加班都不需要。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;充满积极讨论的屋子，生产效率不但不会降低，反而提高。- 密歇根大学研究得出&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;消除重复代码 - 抽象&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;重构是持续进行的&lt;/p&gt;

&lt;p&gt;C3&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;通过一两天去原型化一两个feature，去探测团队开发速度是必要的；&lt;/p&gt;

&lt;p&gt;对不明确的feature细分为更小，可以估算的时间成本的feature。当开发速度更准确些时，对任务时间进行更准确的估算更新&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;迭代一旦开始，客户不可以再次改变&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;项目的知识应该充分的被团队每个成员了解&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;迭代的终点，进度估算。本次迭代的半数素材应该被完成，如果没有需要移除一些素材&lt;/p&gt;

&lt;p&gt;C4&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;与其说测试驱动的测试只测试的话，我更认为他是一种目标，只是一种可以测试的目标，每次的编码都是为了实现这个目标。也就是说编码的工作最后的结果和最终的测试应该是属于的集合关系，而不是被属于的关系。&lt;/p&gt;

&lt;p&gt;TDD - 站在使用者的角度来看待程序&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;测试代码应该保证简单，越简单的测试被运行的机会越多&lt;/p&gt;

&lt;p&gt;C5&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;重构的两点:&lt;/p&gt;

&lt;p&gt;a,节约下次使用的成本；&lt;/p&gt;

&lt;p&gt;b,使得代码易读，易于维护&lt;/p&gt;

&lt;p&gt;C6&lt;/p&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;XP结对编程中规定，当有人请求帮助的时候，不能说‘不’&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Javascript value copy and reference copy</title>
			<link href="http://freetofeel.com/en/2009/08/28/javascript-variable-reference-and-object-reference.html"/>
			<updated>2009-08-28T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/08/28/javascript-variable-reference-and-object-reference</id>
			<content type="html">&lt;p&gt;I will take an example in &amp;lt;JavaScript: The Definitive Guide&amp;gt;&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var a= 3.14;
var b = a; // copy the variable's value to a new variable
a = 4;
alert(b); //Displays 3.14; The copy has not changed
&lt;/pre&gt;


&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;pre name='code' class='javascript'&gt;
var a= [1,2,3];
var b = a; // copy that reference into a new variable
a[0] = 4;
alert(b); //Displays [4,2,3]; The copy has not changed
&lt;/pre&gt;


&lt;p&gt;Actually,the basic data type is value copy, like string, number, etc. But others , like Object, Array and Function are copy reference. In its fundamental nature, there is no Object and Function in Javascript language, all of them are a type of Array.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Some Orthodox Heresies from alex</title>
			<link href="http://freetofeel.com/en/2009/08/22/some-orthodox-heresies-from-alex.html"/>
			<updated>2009-08-22T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/08/22/some-orthodox-heresies-from-alex</id>
			<content type="html">&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Plugins are not evil.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;The web is a force for social change.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;The internet centralizes power…slowly…oh so slowly…&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;CSS is the problem. Also, the solution.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Competition does not mean that your favorite player wins.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;JavaScript cannot save you. Even if it could, you should not let it, for the price of this short-term salvation is the end of what you like about the web.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Fast is better than slow. Slow is better than closed.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;A web that isn’t extensible will wither and die.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Proprietary can be incredibly fast.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;The sooner we take HTML out of the hands of C++ hackers, the sooner we’ll screw it up.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Extensibility is a crutch.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Plugins bring the advantages of slow development, unportable code, hard failure, and security holes to a platform designed to remove them. Also, they make the web awesome.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Getting what you want will not make you happy. It is your inner dissonance that brought you to the web in the first place. You might as well own it.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;“Proprietary” is the loser’s word for “I’m too lazy to copy the good parts”.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Small firms are always more nimble and therefore better.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;You can’t beat big companies in the end.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;HTML 5 is a cruel joke — I can’t wait for it to be done.&lt;/div&gt;


&lt;div id=&quot;_mcePaste&quot; style=&quot;position: absolute; left: -10000px; top: 0px; width: 1px; height: 1px; overflow-x: hidden; overflow-y: hidden;&quot;&gt;Original one is here.&lt;/div&gt;


&lt;ul&gt;
    &lt;li&gt;Plugins are not evil.&lt;/li&gt;
    &lt;li&gt;The web is a force for social change.&lt;/li&gt;
    &lt;li&gt;The internet centralizes power…slowly…oh so slowly…&lt;/li&gt;
    &lt;li&gt;CSS is the problem. Also, the solution.&lt;/li&gt;
    &lt;li&gt;Competition does not mean that your favorite player wins.&lt;/li&gt;
    &lt;li&gt;JavaScript cannot save you. Even if it could, you should not let it, for the price of this short-term salvation is the end of what you like about the web.&lt;/li&gt;
    &lt;li&gt;Fast is better than slow. Slow is better than closed.&lt;/li&gt;
    &lt;li&gt;A web that isn’t extensible will wither and die.&lt;/li&gt;
    &lt;li&gt;Proprietary can be incredibly fast.&lt;/li&gt;
    &lt;li&gt;The sooner we take HTML out of the hands of C++ hackers, the sooner we’ll screw it up.&lt;/li&gt;
    &lt;li&gt;Extensibility is a crutch.&lt;/li&gt;
    &lt;li&gt;Plugins bring the advantages of slow development, unportable code, hard failure, and security holes to a platform designed to remove them. Also, they make the web awesome.&lt;/li&gt;
    &lt;li&gt;Getting what you want will not make you happy. It is your inner dissonance that brought you to the web in the first place. You might as well own it.&lt;/li&gt;
    &lt;li&gt;“Proprietary” is the loser’s word for “I’m too lazy to copy the good parts”.&lt;/li&gt;
    &lt;li&gt;Small firms are always more nimble and therefore better.&lt;/li&gt;
    &lt;li&gt;You can’t beat big companies in the end.&lt;/li&gt;
    &lt;li&gt;HTML 5 is a cruel joke — I can’t wait for it to be done.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The original one is &lt;a href=&quot;http://alex.dojotoolkit.org/2009/08/some-orthodox-heresies/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>isBig5 function</title>
			<link href="http://freetofeel.com/en/2009/08/10/isbig5-function.html"/>
			<updated>2009-08-10T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/08/10/isbig5-function</id>
			<content type="html">&lt;pre name='code' class='php'&gt;
/**
 * isBig5:Determine whether the sentence contain the entire phrase in Chinese (The mixture of Chinese and English is not the scope of this deal)
 *
 * @param $String target string
 *
 * @return 0:it is a chinese string;1-english string
 */
 function isBig5($String){
  $str=iconv(&quot;utf-8&quot;,&quot;big5&quot;,$String);
  if (mb_strlen($str,&quot;Big5&quot;) == strlen($str))
    return 0;//non-Chinese
   else
    return 1;//Chinese
 }
&lt;/pre&gt;


&lt;p&gt;Reprint from &lt;a href=&quot;http://tdy.erufa.com/Blog/?p=32&quot;&gt;tdy's blog&lt;/a&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Redirect a page with meta tag</title>
			<link href="http://freetofeel.com/en/2009/07/26/redirect-a-page-with-meta-tag.html"/>
			<updated>2009-07-26T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/26/redirect-a-page-with-meta-tag</id>
			<content type="html">&lt;p&gt;I have never imaged it can be so simple to redirect a page.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&amp;lt;meta http-equiv=&quot;refresh&quot; content=&quot;600&quot;&amp;gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;meta&amp;gt; - This is the HTML tag. It belongs in the &lt;head&gt; of your HTML document. You can learn more about the meta tag in my tag library.&lt;/p&gt;

&lt;p&gt;http-equiv=&quot;refresh&quot; - This attribute tells the browser that this meta tag is sending an HTTP command rather than a standard meta tag. Refresh is an actual HTTP header used by the Web server. It tells the server that the page is going to be reloaded or sent somewhere else.&lt;/p&gt;

&lt;p&gt;content=&quot;600&quot; - This is the amount of time, in seconds, until the browser should reload the current page.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;
&amp;lt;meta http-equiv=&quot;refresh&quot; content=&quot;2;url=http://freetofeel.com&quot;&amp;gt;
&lt;/strong&gt;
content=&quot;2;url=http://freetofeel.com/&quot; - The number is the time, in seconds, until the page should be redirected. Then, separated by a semi-colon (;) is the URL that should be loaded.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Meta refresh tags have some drawbacks:&lt;/em&gt;
    * If the redirect happens quickly (less than 2-3 seconds), readers with older browsers can't hit the &quot;Back&quot; button. This is a usability problem.
    * If the redirect happens quickly and goes to a non-existant page, your readers won't be able to hit the &quot;Back&quot; button. This is a usability problem that will cause people to completely leave your site.
    * Refreshing the current page can confuse people. If they didn't request the reload, some people can get concerned about security.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Website promotion</title>
			<link href="http://freetofeel.com/en/2009/07/25/website-promotion.html"/>
			<updated>2009-07-25T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/25/website-promotion</id>
			<content type="html">&lt;p&gt;I try to gather all the website promotion techniques together here. Of course, I am not the original author of them. They are all widely used and are almost deserted as the techniques changes. So don't rely on a method or two method. As a beginner, we should learn the philosophy principles in them and make more thinking.&lt;/p&gt;

&lt;ul&gt;
    &lt;li&gt;&lt;strong&gt;Article Writing&lt;/strong&gt;&lt;/li&gt;
Article writing is still a useful traffic generator and promotion method. In recent times article marketing has changed. Google no longer appears to use all the backlinks from the same article submitted to multiple directories. So you only really benefit in terms of backlinks when someone reprints your article. This also provides the potential for additional direct traffic. A good strategy is to submit your unique article to one directory. Get it approved and then submit it to others at regular intervals.
    &lt;li&gt;&lt;strong&gt;Writing Articles For Other Websites&lt;/strong&gt;&lt;/li&gt;
This is a really useful strategy which is often overlooked. Most website owners are looking for unique content so if you offer to provide them with a totally unique article just for their site so they are unlikely to turn you down. In return all you require is a couple of backlinks to your website from within the article. This way you get to select the all important link text. If you choose quality websites with good page rank and traffic you get the best of both worlds. The best way to get this to work is to publish a couple of good articles on ezinearticles.com and then wait to see who reprints them. Get in touch with the website owner and offer them another article which this time will be exclusive to them.
    &lt;li&gt;&lt;strong&gt;Off-Site Blog Posting&lt;/strong&gt;&lt;/li&gt;
Pick some relevant blogs that pass page rank and start posting useful comments to them on a regular basis. Make your comments really useful even if you have to spend time researching. After a while just ask the blog owner if they would allow you to write a couple of posts on their site. They will not often refuse such an offer.
    &lt;li&gt;&lt;strong&gt;On Site Blog Posting&lt;/strong&gt;&lt;/li&gt;
If you don’t have your own blog, you need one. Set up a blog along side your existing website. Then write a post every other day about something relevant. If you blog is set up correctly then new posts will be found very quickly (within hours) by the search engines. Remember to write your posts with your keywords in mind. A blog post with a keyword rich title that contains a link back to your main site is worth having and will generate search traffic.
    &lt;li&gt;&lt;strong&gt;Web 2.0 Sites&lt;/strong&gt;&lt;/li&gt;
You can generate your own off-site pages for free by using Squidoo, Hubpages and wetpaint to name just three. Build these with content from your main site and articles but rewritten to make it unique. Then include a few links back to your main site. Do not over do the backlinks remember to keep it looking natural.
    &lt;li&gt;&lt;strong&gt;advertising&lt;/strong&gt;&lt;/li&gt;
There are many ways of advertising types, in accordance with the media to distinguish between the media, including network, television, books, etc., we can make use of these advertising media to promote our website in order to improve the click-through rate.
    &lt;li&gt;&lt;strong&gt;e-mail to promote&lt;/strong&gt;&lt;/li&gt;
E-mail to those rankings and better and our own business has a long association’s Web site to send e-mail request to exchange links, so that we can appear in the link of the website others in order to improve traffic. When the name It also requires us to e-mail designed to attract, at the same time we must have the actual content of sites, and contains a certain amount of original works, to attract visitors attention.
    &lt;li&gt;&lt;strong&gt;Links&lt;/strong&gt;&lt;/li&gt;
Recommendations and their own business operations of companies to establish mutual links to each other to engage in well-known.
    &lt;li&gt;&lt;strong&gt;Yellow Pages Registration&lt;/strong&gt;&lt;/li&gt;
Some well-known in the Yellow Pages company search website on the Companies Registry, the company added to the enterprise database, so the aim is to not only improve the chances of being searched, and more conducive for companies to promote and raise awareness
    &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.unblockspace.net/browse.php?u=Oi8vd3d3LnByb21vdGlvbndvcmxkLmNvbS9zZS9hcnRpY2xlcy9hcnRpY2xlLzA5MDcxNS1Bbi1JbnRyby10by1Tb2NpYWwtTWVkaWEtTWFya2V0aW5n&amp;b=5&quot;&gt;An Intro to Social Media Marketing&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.unblockspace.net/browse.php?u=Oi8vd3d3LnByb21vdGlvbndvcmxkLmNvbS9zZS9hcnRpY2xlcy9hcnRpY2xlLzA5MDcxMy1PcHRpbWlzaW5nLVlvdXItU2l0ZS1CaW5n&amp;b=5&quot;&gt;Optimising Your Site for Bing&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
    &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://www.instantposition.com/search-submission.html&quot;&gt;Search Engine Submission&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In my opinion, to improve the quality of your site is the king.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Generate a friendly URLS for your site</title>
			<link href="http://freetofeel.com/en/2009/07/21/generate-a-friendly-urls-for-your-site.html"/>
			<updated>2009-07-21T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/21/generate-a-friendly-urls-for-your-site</id>
			<content type="html">&lt;p&gt;'We are fighting with SEO everyday ...'
It is true! If you want Google 'know' more about you, it is time to give a friendly URLS to him.
There are two main method that we can make a friendly URLS for our site. And we will take blog as example:
1. The simple way
Append a friendly title after your original URL.
e.g.
Your original post url : &lt;strong&gt;http://xxx.com/blog/1254&lt;/strong&gt;
After appending the post title after the original title, it will looks like &lt;strong&gt;http://xxx.com/blog/1254/blog_post_title_about_iron_man&lt;/strong&gt;
But there is a disadvantage of this. It would look like blog_post_title_about_iron_man is a sub-item of 1254 for search engines. You can take &lt;a href=&quot;http://twitter.com/felixge&quot;&gt;Felix&lt;/a&gt;'s &lt;a href=&quot;http://debuggable.com/posts/dessert-11-welcome-back-friendly-urls:480f4dd5-8dac-414b-b329-4dd5cbdd56cb&quot;&gt;post&lt;/a&gt; as an example. I think it will be possible to modify the url like what you want, no matter which framework you are using.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;The final solution
You can take wordpress article as an example. If you take a look at your wordpress database, there is a column named 'url' in posts table. Yes, it is the solution. What you need to do is generating a unique url for every post in your table. It is the same thing we generate an id for every record in our table. You can take the method 'getUniqueUrl' in article &lt;a href=&quot;http://bakery.cakephp.org/articles/view/adding-friendly-urls-to-the-cake-blog-tutorial&quot;&gt;'Adding friendly URLs to The Cake Blog Tutorial'&lt;/a&gt; for example.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I believe it will not take you half an hour to give a friendly URLS for your website. Why not give a try? :-]&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Format PHP Code integrated with VIM</title>
			<link href="http://freetofeel.com/en/2009/07/20/format-php-code-integrated-with-vim.html"/>
			<updated>2009-07-20T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/20/format-php-code-integrated-with-vim</id>
			<content type="html">&lt;p&gt;I like this post &lt;a href=&quot;http://shadsplace.org/beautify-php/&quot;&gt;Command line PHP Code Formatter for use with VIM&lt;/a&gt;. It really save me a lot of time on format the past code in VIM.
1.
download the &lt;a href=&quot;http://shadsplace.org/beautify-php/beautify.php.gz&quot;&gt;beautify.php.gz&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Copy the beautify.php into your user bin directory
&lt;strong&gt;cp beautify.php /usr/local/bin&lt;/strong&gt;
&lt;strong&gt;chmod 755 /usr/local/bin/beautify.php&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Select the code and then format it using the php script.
Selecting code in visual mode (&lt;strong&gt;shift-v&lt;/strong&gt; while in command mode) and then sending it to beautify.php by
&lt;strong&gt;:! beautify.php&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</content>
		</entry>
	
		<entry>
			<title>Cake Tips from my App</title>
			<link href="http://freetofeel.com/en/2009/07/17/cake-tips-from-my-app.html"/>
			<updated>2009-07-17T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/17/cake-tips-from-my-app</id>
			<content type="html">&lt;ol&gt;
&lt;li&gt;&lt;p&gt;If you turn on cache in core.php, everytime when you modify your model , don't forget to clear the files under /tmp/cache/models/.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Don't cache the element which has include the pagination logic. Because the sort and pagination will fail to work.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If there is anonymous role in your ACL model, don't divide your ACL model like this:
All --
-----Anonymous
-----Member--
---------------Admin
---------------Normal&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;There is a &lt;a href=&quot;http://groups.google.com/group/cake-php/browse_thread/thread/cdc817b4ee5de4d5/824fccaad92bfca6?hl=en&amp;lnk=gst&amp;q=use+Auth+component+in+AppController%3F#&quot;&gt;thread&lt;/a&gt; explained this.&lt;/p&gt;

&lt;p&gt;The following will be fine:
All --
-----Member--
---------------Admin
---------------Normal&lt;/p&gt;

&lt;p&gt;If you want 'post/view' page can be visited by anonymous user, just add it into $this-&gt;Auth-&gt;allowedActions = array(//....);&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;If you want to use Auth component, you should decide you will use it entirely in your application or use it a little.
For example, If you want to implement your ACL like cake &lt;a href=&quot;http://book.cakephp.org/view/641/Simple-Acl-controlled-Application&quot;&gt;demo&lt;/a&gt;. You should remember, there is no need to write users/login action code. Cake will help you do the left including login and redirect, if you has set the auth property.&lt;/li&gt;
&lt;/ol&gt;


&lt;pre name=&quot;code&quot; class=&quot;php&quot;&gt;
    $this-&gt;Auth-&gt;allowedActions = array(//...);
    $this-&gt;Auth-&gt;loginAction = array('controller' =&gt; 'controller_a', 'action' =&gt; 'action_a');
    $this-&gt;Auth-&gt;loginRedirect = array('controller' =&gt; 'controller_b', 'action' =&gt; 'action_b');
    $this-&gt;Auth-&gt;loginError = 'Username and password do not match. Please try again.';
    $this-&gt;Auth-&gt;fields = array(
     //...
    );
    $this-&gt;Auth-&gt;allowedControllers = array(//...);

&lt;/pre&gt;


&lt;p&gt;And I think Miles &lt;a href=&quot;http://www.milesj.me/blog/read/5/using-cakephps-auth-component&quot;&gt;post&lt;/a&gt; will help you a lot.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;If you want to send email through Gmail, take a look at this &lt;a href=&quot;http://groups.google.com/group/cake-php/browse_thread/thread/8573140b2e72d1aa/839b6f576077ed18?hl=en&amp;lnk=gst&amp;q=Need+Help+of+Email+component+-+fail+to+send+email#839b6f576077ed18&quot;&gt;thread&lt;/a&gt;. And Marc has wrote an &lt;a href=&quot;http://marcgrabanski.com/article/cakephp-email-google-apps-gmail&quot;&gt;article&lt;/a&gt; to implement this in another way.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It is easy to customize all the error pages, copying the files you needed under cake\libs\view\errors into app\views\errors. And then you can customize it to what you want.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimize your site performance
I don't want to write a lot about this. Because you can find there are a lot of resources[1] about this.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;*resource[1]:
1. &lt;a href=&quot;http://www.pseudocoder.com/archives/2009/03/17/8-ways-to-speed-up-cakephp-apps/&quot;&gt;8 Ways to Speed Up the Performance of CakePHP Apps&lt;/a&gt;
2. &lt;a href=&quot;http://debuggable.com/posts/how-to-save-half-a-second-on-every-request-of-your-cakephp-app:49a69610-8648-4d65-815d-754c4834cda3&quot;&gt;How To Save Half A Second On Every CakePHP Request&lt;/a&gt;
3. &lt;a href=&quot;http://www.samaxes.com/2008/04/htaccess-gzip-and-cache-your-site-for-faster-loading-and-bandwidth-saving/&quot;&gt;Learn more about cakephp with .htaccess&lt;/a&gt; and &lt;a href=&quot;http://www.askapache.com/htaccess/apache-htaccess.html&quot;&gt;another&lt;/a&gt; one about .htaccess
4. &lt;a href=&quot;http://www.g-loaded.eu/2006/12/04/optimize-and-compress-css-files&quot;&gt;CSS Compress&lt;/a&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>The other twitter clients that you may be like</title>
			<link href="http://freetofeel.com/en/2009/07/11/the-other-twitter-clients-that-you-may-be-like.html"/>
			<updated>2009-07-11T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/11/the-other-twitter-clients-that-you-may-be-like</id>
			<content type="html">&lt;ul&gt;
&lt;li&gt;http://itweet.net/web/&lt;/li&gt;
&lt;li&gt;http://m.tweete.net/login&lt;/li&gt;
&lt;li&gt;http://twitzap.com/&lt;/li&gt;
&lt;li&gt;http://tweetree.com/&lt;/li&gt;
&lt;li&gt;https://filttr.com/&lt;/li&gt;
&lt;li&gt;http://twaitter.com/&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://twittergadget.appspot.com/&quot;&gt;Gmail Gadget&lt;/a&gt;&lt;/li&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;My favorite is &lt;a href=&quot;http://twittergadget.appspot.com/&quot;&gt;Gmail Gadget&lt;/a&gt; for its simple power that can break through the GFW in China.
Let me introduce the steps to set &lt;a href=&quot;http://twittergadget.appspot.com/&quot;&gt;Gmail Gadget&lt;/a&gt; in Gmail.&lt;/p&gt;

&lt;p&gt;Step1: Click the lab icon in Gmail home page
&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2009/07/step1.gif&quot; alt=&quot;step1&quot; title=&quot;step1&quot; width=&quot;550&quot; height=&quot;82&quot; class=&quot;alignnone size-full wp-image-76&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Step 2: Enable the 'Add any gadget by URL' widget
&amp;lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2009/07/step2.gif&quot; alt=&quot;step2&quot; title=&quot;step2&quot; width=&quot;683&quot; height=&quot;128&quot; class=&quot;alignnone size-full wp-image-77&quot;&lt;/p&gt;

&lt;p&gt;Step 3: Go to Gmail home page -&gt; settings -&gt;Gadgets
Enter &lt;strong&gt;https://twittergadget.appspot.com/gadget-gmail.xml&lt;/strong&gt; at the gadget URL.&lt;/p&gt;

&lt;p&gt;Step 4: After you add the gadget URL, you will find a twitter widget appeared in the left of your home page.
&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2009/07/step3.gif&quot; alt=&quot;step3&quot; title=&quot;step3&quot; width=&quot;172&quot; height=&quot;132&quot; class=&quot;alignnone size-full wp-image-80&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The last step is just verifying your twitter account.
And then you can enjoy it with its simple and powerful.
&lt;img src=&quot;http://www.freetofeel.com/wp-content/uploads/2009/07/step4.gif&quot; alt=&quot;step4&quot; title=&quot;step4&quot; width=&quot;458&quot; height=&quot;140&quot; class=&quot;alignnone size-full wp-image-85&quot; /&gt;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Whats web OS?</title>
			<link href="http://freetofeel.com/en/2009/07/08/whats-web-os.html"/>
			<updated>2009-07-08T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/07/08/whats-web-os</id>
			<content type="html">&lt;p&gt;We known Google announced its &lt;a href=&quot;http://googleblog.blogspot.com/2009/07/introducing-google-chrome-os.html&quot;&gt;web OS&lt;/a&gt; based on Chrome. As I have discussed this about two years ago with my colleagues, Web OS is the trending of the Operation System. What we need is a machine without hard disk, just strongest CPU and a network port. All the files, maybe we will call it data in Web OS era, will be stored in a data center. Every time when we start our machine, the Web OS opened. What we will do is remote. Calculation is remote, Storage is remote and Service is remote. I think the Cloud will be part of the data center at that time. There will be computer concept. What we needed is just an end point. Everything became simple , effective and worldwide shared.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>After auto redirect from PayPal, the session was lost[Cake App]</title>
			<link href="http://freetofeel.com/en/2009/06/30/after-auto-redirect-from-paypal-the-session-was-lostcake-app.html"/>
			<updated>2009-06-30T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/06/30/after-auto-redirect-from-paypal-the-session-was-lostcake-app</id>
			<content type="html">&lt;p&gt;Reproduce steps:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Customer login &lt;a href=&quot;https://www.mysite.com&quot;&gt;my site&lt;/a&gt;;&lt;/li&gt;
&lt;li&gt;Choose a product and redirect to &lt;a href=&quot;https://developer.paypal.com/cgi-bin/devscr&quot;&gt;Paypal sandbox site&lt;/a&gt; to complete the payment;&lt;/li&gt;
&lt;li&gt;After the payment, the customer will be auto redirected to my site;&lt;/li&gt;
&lt;li&gt;And then the customer session was lost.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I found the fail reason.&lt;/p&gt;

&lt;pre name=&quot;code&quot; class=&quot;php&quot;&gt;
function __initSession() {
    $iniSet = function_exists('ini_set');

    if ($iniSet &amp;&amp; env('HTTPS')) {
        ini_set('session.cookie_secure', 1); 
    } 
    switch ($this-&gt;security) {
     case 'high': $this-&gt;cookieLifeTime = 0;
     if ($iniSet) {
     ini_set('session.referer_check', $this-&gt;host);
     } 
     break;
     case 'medium': $this-&gt;cookieLifeTime = 7 * 86400;
     if ($iniSet) {
     ini_set('session.referer_check', $this-&gt;host);
     } 
     break;
     case 'low': default: $this-&gt;cookieLifeTime = 788940000; break;
    }
}
&lt;/pre&gt;


&lt;p&gt;If you set the security level 'high' or 'medium' , the session wil be renewed.&lt;/p&gt;

&lt;p&gt;A piece of comment from a guy in php.net:&lt;/p&gt;

&lt;pre name=&quot;code&quot; class=&quot;html&quot;&gt;
If you have a value specified for session.referer_check you may run into difficulty when someone accesses your site and attempts to log in with a mis-capitalized URL.  
The logon will fail because any calls to session_start() will result in the existing session being trashed and a new one being created.  This becomes a bigger problem when the logon is followed by a header(&quot;Location: ...&quot;) redirect, because the session_start() at the top of the page will fail.&lt;/pre&gt;


&lt;p&gt;So now , I have to avoid to use the refer_check.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>VBOX: this kernel requires the following features not present on the CPU:pae</title>
			<link href="http://freetofeel.com/en/2009/06/29/vbox-this-kernel-requires-the-following-features-not-present-on-the-cpupae.html"/>
			<updated>2009-06-29T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/06/29/vbox-this-kernel-requires-the-following-features-not-present-on-the-cpupae</id>
			<content type="html">&lt;p&gt;Solution:
In the main window of VirtualBox-&gt;settings-&gt;General selection on the left-&gt;the Advanced tab on the right.
Enable PAE/NX is in the middle of the window in Extended Features.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>The Failed requests in ApacheBench Test</title>
			<link href="http://freetofeel.com/en/2009/06/29/the-failed-requests-in-apachebench-test.html"/>
			<updated>2009-06-29T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/06/29/the-failed-requests-in-apachebench-test</id>
			<content type="html">&lt;p&gt;Problem: I run &lt;a href=&quot;http://httpd.apache.org/docs/2.0/programs/ab.html&quot;&gt;ab &lt;/a&gt;test&lt;ab -c 10 -t 60 http://www.xxx.com&gt; for my website yesterday, and there are so many failed request.
And I found the following explanation from &lt;a href=&quot;http://fixunix.com/linux/269587-apache-benchmark.html&quot;&gt;fixunix&lt;/a&gt;:&lt;/p&gt;

&lt;pre  name=&quot;code&quot; class=&quot;html&quot;&gt;
May not actually be a problem. Reason? It might be a site that serves dynamic context (such as different cookie IDs mentioned) where the file size changes between each query. 

Easy way to verify: 

Code:    $ wget &lt;url&gt;   

Repeat that twice, then: 

Code:    $ diff &lt;retrieved filename&gt; &lt;retrieved filename&gt;.1 

See if there are differences. If yes, then you can ignore the length-related failures. If no, it's some other cause and need to investigate further.
&lt;/pre&gt;


&lt;p&gt;I hope it will help you too if you have the same problem.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Pure CSS to make the footer at the bottom of the page</title>
			<link href="http://freetofeel.com/en/2009/06/22/pure-css-to-make-the-footer-at-the-bottom-of-the-page.html"/>
			<updated>2009-06-22T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/06/22/pure-css-to-make-the-footer-at-the-bottom-of-the-page</id>
			<content type="html">&lt;p&gt;Pure CSS, no javascript to make the footer at the bottom of the page.
Imaging you have the html layout like the following:&lt;/p&gt;

&lt;pre name=&quot;code&quot; class=&quot;php&quot;&gt;&amp;lt;body&amp;gt;

&amp;lt;div id=&quot;container&quot;&amp;gt;
&amp;lt;div id=&quot;header&quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;div id=&quot;body&quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;div id=&quot;footer&quot;&amp;gt;&amp;lt;/div&amp;gt;

&amp;lt;/body&amp;gt;&lt;/pre&gt;


&lt;p&gt;What you will do is simple.&lt;/p&gt;

&lt;pre  name=&quot;code&quot; class=&quot;css&quot;&gt;html,
body {
margin:0;
padding:0;
height:100%;
}
#container {
min-height:100%;
position:relative;
}
#footer {
position:absolute;
bottom:0;
width:100%;
height:60px;/* Height of the footer */
background:#6cf;
}
&lt;/pre&gt;


&lt;p&gt;Thanks to &lt;a href=&quot;http://matthewjamestaylor.com/&quot;&gt;Matthew James Taylor&lt;/a&gt; who gives the idea how to implement this.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Run CakePHP CronJob On Web Hosting</title>
			<link href="http://freetofeel.com/en/2009/06/11/run-cakephp-cronjob-on-web-hosting.html"/>
			<updated>2009-06-11T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/06/11/run-cakephp-cronjob-on-web-hosting</id>
			<content type="html">&lt;blockquote&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;border-collapse: separate; color: #000000; font-family: 'Times New Roman'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Verdana; font-size: 11px; white-space: pre;&quot;&gt;/usr/local/bin/php /home/Username/www/cake/console/cake.php -app /home/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;border-collapse: separate; color: #000000; font-family: 'Times New Roman'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Verdana; font-size: 11px; white-space: pre;&quot;&gt;Username&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;border-collapse: separate; color: #000000; font-family: 'Times New Roman'; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Verdana; font-size: 11px; white-space: pre;&quot;&gt;/www/app cronjob&lt;/span&gt;&lt;/span&gt;&lt;/blockquote&gt;


&lt;p&gt;::Replace Username with your account name in Web Sharing Hosting.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Fighting with subdomain problem in Lunarpages</title>
			<link href="http://freetofeel.com/en/2009/06/06/fighting-with-subdomain-problem-in-lunarpages.html"/>
			<updated>2009-06-06T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/06/06/fighting-with-subdomain-problem-in-lunarpages</id>
			<content type="html">&lt;p&gt;HostROOT -&lt;/p&gt;

&lt;p&gt;|- .htaccess(A)&lt;/p&gt;

&lt;p style=&quot;text-align: left;&quot;&gt;|--------------- |-subdirectory&lt;/p&gt;


&lt;p style=&quot;text-align: left;&quot;&gt;|--------------- -----------|- .htaccess(B)&lt;/p&gt;


&lt;p&gt;My host domain - http://www.example.com&lt;/p&gt;

&lt;p&gt;My sub domain - http://subdomain.example.com&lt;/p&gt;

&lt;p&gt;Don't forget to add a .htaccess file for your subdirectory and add the following content into it.&lt;/p&gt;

&lt;blockquote&gt;.htaccess(B)

&amp;lt;IfModule mod_rewrite.c&amp;gt;
RewriteEngine on
RewriteBase /subdirectory/
&amp;lt;/IfModule&amp;gt;&lt;/blockquote&gt;


&lt;blockquote&gt;&lt;/blockquote&gt;


&lt;p&gt;It worked as true. When I recall the process I fight with the&lt;/p&gt;

&lt;p&gt;Reference:http://bakery.cakephp.org/articles/view/mod-rewrite-on-godaddy-shared-hosting&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Solution:ERROR 2006 (HY000) at line 140: MySQL server has gone away</title>
			<link href="http://freetofeel.com/en/2009/05/26/solutionerror-2006-hy000-at-line-140-mysql-server-has-gone-away.html"/>
			<updated>2009-05-26T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/26/solutionerror-2006-hy000-at-line-140-mysql-server-has-gone-away</id>
			<content type="html">&lt;p&gt;Add a line into your my.ini&lt;/p&gt;

&lt;blockquote&gt;max_allowed_packet = 12M&lt;/blockquote&gt;


&lt;p&gt;Give a bigger size if you need.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>How to use Security component in your application</title>
			<link href="http://freetofeel.com/en/2009/05/25/how-to-use-security-component-in-your-application.html"/>
			<updated>2009-05-25T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/25/how-to-use-security-component-in-your-application</id>
			<content type="html">&lt;p&gt;The right way is generate all your filed use form helper.&lt;/p&gt;

&lt;p&gt;For example, the following code will prevent your app woking .&lt;/p&gt;

&lt;blockquote&gt;
&lt;div&gt;&amp;lt;?php echo $form-&amp;gt;create('User', array('action'=&amp;gt;'signup')); ?&amp;gt;&lt;/div&gt;
&lt;div&gt;//....&lt;/div&gt;
&lt;div&gt;&amp;lt;/form&amp;gt;&lt;/div&gt;&lt;/blockquote&gt;


&lt;div&gt;&lt;/div&gt;


&lt;div&gt;But if you modify these codes into following,&lt;/div&gt;


&lt;div&gt;&lt;/div&gt;


&lt;div&gt;
&lt;blockquote&gt;
&lt;div&gt;&amp;lt;?php echo $form-&amp;gt;create('User', array('action'=&amp;gt;'signup')); ?&amp;gt;&lt;/div&gt;
&lt;div&gt;//....&lt;/div&gt;
&lt;div&gt;&amp;lt;?php echo $form-&amp;gt;end();?&amp;gt;&lt;/div&gt;&lt;/blockquote&gt;
&lt;div&gt;It work again!&lt;/div&gt;
&lt;/div&gt;

</content>
		</entry>
	
		<entry>
			<title>CakePHP admin routing fail</title>
			<link href="http://freetofeel.com/en/2009/05/21/cakephp-admin-routing-fail.html"/>
			<updated>2009-05-21T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/21/cakephp-admin-routing-fail</id>
			<content type="html">&lt;p&gt;If your router wirte like this&lt;/p&gt;

&lt;blockquote&gt;Router::connect('/:controller/:action/*', array('controller' =&amp;gt; 'projects', 'action' =&amp;gt; 'index'));&lt;/blockquote&gt;


&lt;p&gt;Then when you call http://{cakeroot}/admin/{controller}/{action}, it will fail with error:&lt;/p&gt;

&lt;blockquote&gt;Please create AdminControoler.&lt;/blockquote&gt;


&lt;p&gt;But It is OK when you change the router to&lt;/p&gt;

&lt;blockquote&gt;Router::connect('/:controller/:action', array('controller' =&amp;gt; 'projects', 'action' =&amp;gt; 'index'));&lt;/blockquote&gt;

</content>
		</entry>
	
		<entry>
			<title>require_once case sensitive in PHP5.1.6 on WIN32 platform</title>
			<link href="http://freetofeel.com/en/2009/05/13/require_once-case-sensitive-in-php516-on-win32-platform.html"/>
			<updated>2009-05-13T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/13/require_once-case-sensitive-in-php516-on-win32-platform</id>
			<content type="html">&lt;p&gt;require_once('a.php');
require_once('A.php');
This two lines will require the file a.php twice in WIN32 platform and give a declare twice fatal error;&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>file_exists in Ubuntu</title>
			<link href="http://freetofeel.com/en/2009/05/11/file_exists-in-ubuntu.html"/>
			<updated>2009-05-11T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/11/file_exists-in-ubuntu</id>
			<content type="html">&lt;p&gt;If the file was read/write forbidden for the current user, it is impossible to check the existance of this file unless some permissions are grant to this user for this folder.&lt;/p&gt;
</content>
		</entry>
	
		<entry>
			<title>Damn!Apach+PHP+Windows = Parent: Created child process 357852</title>
			<link href="http://freetofeel.com/en/2009/05/10/damnapachphpwindows-parent-created-child-process-357852.html"/>
			<updated>2009-05-10T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/10/damnapachphpwindows-parent-created-child-process-357852</id>
			<content type="html">&lt;p&gt;&lt;strong&gt;Parent: Created child process 357852&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;C:\Program Files\Apache Software Foundation\Apache2.2\logs\error.log&lt;/p&gt;

&lt;blockquote&gt;[Sun May 10 10:55:35 2009] [warn] pid file C:/Program Files/Apache Software Foundation/Apache2.2/logs/httpd.pid overwritten -- Unclean shutdown of previous Apache run?
[Sun May 10 10:55:35 2009] [notice] Apache/2.2.6 (Win32) PHP/5.2.6 configured -- resuming normal operations
[Sun May 10 10:55:35 2009] [notice] Server built: Sep  5 2007 08:58:56
[Sun May 10 10:55:35 2009] [notice] Parent: Created child process 357852
[Sun May 10 10:55:36 2009] [notice] Child 357852: Child process is running
[Sun May 10 10:55:36 2009] [notice] Child 357852: Acquired the start mutex.
[Sun May 10 10:55:36 2009] [notice] Child 357852: Starting 250 worker threads.
[Sun May 10 10:55:36 2009] [notice] Child 357852: Starting thread to listen on port 80.
[Sun May 10 10:57:28 2009] [notice] Parent: Received restart signal -- Restarting the server.
[Sun May 10 10:57:28 2009] [notice] Child 357852: Exit event signaled. Child process is ending.
[Sun May 10 10:57:29 2009] [notice] Child 357852: Released the start mutex
[Sun May 10 10:57:30 2009] [notice] Child 357852: Waiting for 250 worker threads to exit.
[Sun May 10 10:57:30 2009] [notice] Child 357852: All worker threads have exited.
[Sun May 10 10:57:30 2009] [notice] Child 357852: Child process is exiting&lt;/blockquote&gt;


&lt;p&gt;To resolve this , take a look at this:&lt;/p&gt;

&lt;blockquote&gt;If you are getting this error, you are probably trying to use Apache, MySQL and PHP in a windows system. Just do this simple step to solve this issue.

It is quite frustrating to see that all your PHP pages suddenly doesn't seem to work. If you check your Apache log file you will see this error: Parent: child process exited with status 3221225477 -- Restarting

Don't worry just goto the PHP installation folder and look for libmysql.dll file.&lt;span class=&quot;Apple-converted-space&quot;&gt; &lt;/span&gt;

Just copy this file and save it to your windows\system32 folder.

Now restart MySQL and Apache servers.

Everything should be fine now and all your PHP pages will work as normal.&lt;/blockquote&gt;

</content>
		</entry>
	
		<entry>
			<title>JQuery validate password function can not work on Firefox3.1.10</title>
			<link href="http://freetofeel.com/en/2009/05/09/hello-world.html"/>
			<updated>2009-05-09T00:00:00+08:00</updated>
			<id>http://freetofeel.com/en/2009/05/09/hello-world</id>
			<content type="html">&lt;p&gt;When I use JQuery(Revision: 6246) with firefox 3.0.10, I found it is difficulty to validate the password field.
//js code
&quot;data[User][password]&quot;: {
required: true,
minlength: 6,
maxlength: 15
},
&quot;data[User][confirmPassword]&quot;: {
required: true,
minlength: 6,
maxlength: 15,
equalTo: &quot;#UserPassword&quot;
},
//code end
The error happened at line 1040 of jquery.validate.js
//code
equalTo: function(value, element, param) {
return value == $(param).val();
}
//end
The '$(param).val()' here is always empty. I test this on Chrome, it works fine there.&lt;/p&gt;
</content>
		</entry>
	

</feed>
