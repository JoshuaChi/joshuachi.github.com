<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    Joshua Chi's Blog &middot; 
    Feel the life color
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <header class="masthead">
      <div class="masthead-inner">
        <h1><a href="http://freetofeel.com">Free To Feel</a></h1>
        <p class="lead">Find a way to record my work and life. </p>
        <br>
        <img src='http://www.gravatar.com/avatar/81759b36bd906bbf803ce4a5ce84e643.png' />Joshua Chi
        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="http://twitter.com/Joshua_C/">twitter.com/Joshua_C</a>
            </li>
            <li>
              <a href="https://github.com/joshuachi">github.com/joshuachi</a>
            </li>
            <li><a href="http://www.kiwitask.com/">Find freelancer</a></li>
            <li><a href="http://www.jieshuge.com/">免费电子书籍下载</a></li>
            <li><a href='http://www.freetofeel.com/archives.html'> Archived Posts</a>
            </li>
            <li><a href="http://freetofeel.com/atom.xml">Subscribe(xml)</a>
            </li>
          </ul>
          <p>Copyright &copy; 2011 Joshua Chi - Powered by <a href="http://github.com/mojombo/jekyll">Jekyll</a> and <a href="http://github.com/">Github</a>
</p>
        </div>                
      </div>
    </header>

    <div class="content container">
      <div id="home">

<div class="post">
  <ul class="content">
		
			<div class="post" id="postid-/2009/10/09/mysql-architecture">
				<h3 class="title"><a href="/2009/10/09/mysql-architecture.html">MySQL Architecture</a></h3>
				
				<ol>
<li><p>Each client connection gets its own thread within the server process.</p></li>
<li><p>If it takes a lot of time on locks, why not separate read and write lock?
Q:  How to synchronise the read database and write database?</p></li>
<li><p>When we want to keep reading and writing date clean, we try to implement two types lock in db.
Expected：
Read locks on a resource are shared, or mutually nonblocking: many clients
may read from a resource at the same time and not interfere with each other.
Write locks, on the other hand, are exclusive—i.e., they block both read locks and
other write locks—because the only safe policy is to have a single client writing to
the resource at given time and to prevent all reads when a client is writing.</p></li>
</ol>


<p>MySQL way:
a. Table locks - the lowest overhead;
b. Row locks - the greatest concurrency.</p>

<ol>
<li><p>Transactions aren’t enough unless the system passes the ACID test.
Atomicity
Consistency
Isolation
Durability - Once committed, a transaction’s changes are permanent.</p></li>
<li><p>Isolation Levels >
READ UNCOMMITTED - Reading uncommitted data is also known as a dirty read;
READ COMMITTED - The default isolation level for most database systems (but not MySQL!);
REPEATABLE READ - MySQL’s default transaction isolation level.
SERIALIZABLE - At this level, a lot of timeouts and lock contention may occur.</p></li>
<li><p>Deadlock -
The way InnoDB currently handles deadlocks is to roll back the transaction
that has the fewest exclusive row locks.
Deadlocks are a fact of life in transactional systems, and your applications
should be designed to handle them.</p></li>
<li><p>Transaction in MySQL >
MySQL AB provides three transactional storage engines: InnoDB, NDB Cluster, and
Falcon. solidDB and PBXT.</p></li>
<li><p>AUTOCOMMIT >
MySQL operates in AUTOCOMMIT mode by default. It automatically executes each query in a separate transaction.
MyISAM or Memory tables -  essentially always operate in AUTOCOMMIT mode.</p></li>
<li><p>You can’t reliably mix different engines in a single transaction. If you mix transactional and nontransactional tables (for instance, InnoDB and MyISAM tables) in a transaction, the transaction will work properly if all goes well. However, if a rollback is required, the changes to the nontransactional table can’t be undone.</p></li>
<li><p>InnoDB also supports explicit locking, which the SQL standard does not mention at all:</p></li>
<li>SELECT ... LOCK IN SHARE MODE</li>
<li>SELECT ... FOR UPDATE</li>
</ol>


<p>MySQL supports the LOCK TABLES and UNLOCK TABLES commands, which are implemented in the server, not in the storage engines.</p>

<ol>
<li><p>MySQL’s Storage Engines >
The MyISAM Engine >>
Storage: The MyISAM format is platformneutral, meaning you can copy the data and index files from an Intel-based server to a PowerPC or Sun SPARC without any trouble.
MyISAM tables created in MySQL 5.0 with variable-length rows are configured by default to handle 256 TB of data, using 6-byte pointers to the data records.</p></li>
</ol>


<p>Features:
Locking and concurrency / Automatic repair / Manual repair(You can also use the myisamchk
command-line tool to check and repair tables when the server is offline.) / Index features / Delayed key writes(However, after a server or system crash, the indexes will definitely be corrupted and will need repair.) /</p>

<p>Compressed MyISAM tables:
Compressed MyISAM tables can have indexes, but they’re read-only.</p>

<p>The MyISAM Merge Engine >>
A Merge table is the combination of several identical MyISAM tables into one virtual table. This is particularly useful when you use MySQL in logging and data warehousing applications.</p>

<p>The InnoDB Engine >>
InnoDB can’t build indexes by sorting, which MyISAM can do.
Any operation that changes an InnoDB table’s structure will rebuild the entire table, including all the indexes.</p>

<p>The Memory Engine >>
Here are some good uses for Memory tables:
a. For “lookup” or “mapping” tables, such as a table that maps postal codes to
state names
b. For caching the results of periodically aggregated data
c. For intermediate results when analyzing data
Support only fixed-size rows, so they really store VARCHARs as CHARs, which can waste memory.</p>

<p>The Archive Engine >>
It causes much less disk I/O than MyISAM, because it buffers data writes and compresses each row with zlib as it’s inserted.</p>

<p>The CSV Engine >></p>

<p>The Federated Engine >>
The Federated engine does not store data locally. Each Federated table refers to a table on a remote MySQL server, so it actually connects to a remote server for all operations.</p>

<p>The Blackhole Engine >>
Blackhole engine useful for fancy replication setups and audit logging.</p>

<p>The NDB Cluster Engine >>
An NDB database consists of data nodes, management nodes, and SQL nodes (MySQL instances).</p>

<p>The Falcon Engine >></p>

<p>The solidDB Engine >></p>

<p>The PBXT (Primebase XT) Engine >></p>

<p>The Maria Storage Engine >>
The goal is to use Maria as a replacement for MyISAM, which is currently MySQL’s default storage engine.</p>

<ol>
<li><p>Table Conversions ></p></li>
<li>mysql> ALTER TABLE mytable ENGINE = Falcon;</li>
</ol>



				<div class="post-metadata">
					October 09, 2009 | 
					<a href='/2009/10/09/mysql-architecture.html#disqus_thread'>View Comments</a>
					
						
							| 
						
						<a href='/tags.html#mysql'>mysql</a>
						
					 
				</div>

			</div>
		
			<div class="post" id="postid-/2009/10/08/15-common-mistakes-in-e-commerce-design">
				<h3 class="title"><a href="/2009/10/08/15-common-mistakes-in-e-commerce-design.html">15 Common Mistakes in E-Commerce Design</a></h3>
				
				<p>This <a href="http://www.smashingmagazine.com/2009/10/08/15-common-mistakes-in-e-commerce-design-and-how-to-avoid-them/">article</a> can help me optimize your E-Commerce site.</p>


				<div class="post-metadata">
					October 08, 2009 | 
					<a href='/2009/10/08/15-common-mistakes-in-e-commerce-design.html#disqus_thread'>View Comments</a>
					
						
							| 
						
						<a href='/tags.html#e-commerce'>e-commerce</a>
						
					 
				</div>

			</div>
		
			<div class="post" id="postid-/2009/10/05/twitter-weekly-updates-for-2009-10-05">
				<h3 class="title"><a href="/2009/10/05/twitter-weekly-updates-for-2009-10-05.html">Twitter Weekly Updates for 2009-10-05</a></h3>
				
				<ul class="aktt_tweet_digest">
    <li>Eight Essential Attributes for Top Sales Performance - <a href="http://bit.ly/I6kBp" rel="nofollow">http://bit.ly/I6kBp</a> <a href="http://twitter.com/Joshua_C/statuses/4640329824">#</a></li>
    <li>On the road to my home town. Do nothing, but thinking! <a href="http://twitter.com/Joshua_C/statuses/4487134839">#</a></li>
</ul>


<p class="aktt_credit">Powered by <a href="http://alexking.org/projects/wordpress">Twitter Tools</a>.</p>



				<div class="post-metadata">
					October 05, 2009 | 
					<a href='/2009/10/05/twitter-weekly-updates-for-2009-10-05.html#disqus_thread'>View Comments</a>
					 
				</div>

			</div>
		
			<div class="post" id="postid-/2009/10/05/can-you-be-a-web-designer">
				<h3 class="title"><a href="/2009/10/05/can-you-be-a-web-designer.html">Can You Be a Web Designer?</a></h3>
				
				<p><a href="http://www.freetofeel.com/2009/10/can-you-be-a-web-designer/04-02_web_designer_flowchart/" rel="attachment wp-att-201"><img src="http://www.freetofeel.com/wp-content/uploads/2009/10/04-02_web_designer_flowchart-398x1024.jpg" alt="04-02_web_designer_flowchart" title="04-02_web_designer_flowchart" width="398" height="1024" class="aligncenter size-large wp-image-201" /></a></p>

<p>This is not true. The best way is learning from others' strong points and close the gap.</p>


				<div class="post-metadata">
					October 05, 2009 | 
					<a href='/2009/10/05/can-you-be-a-web-designer.html#disqus_thread'>View Comments</a>
					 
				</div>

			</div>
		
			<div class="post" id="postid-/2009/09/28/twitter-weekly-updates-for-2009-09-28">
				<h3 class="title"><a href="/2009/09/28/twitter-weekly-updates-for-2009-09-28.html">Twitter Weekly Updates for 2009-09-28</a></h3>
				
				<ul class="aktt_tweet_digest">
    <li>确实够勇猛的 <a href="http://bit.ly/Fjuvy" rel="nofollow">http://bit.ly/Fjuvy</a> 只适合老年人 <a href="http://twitter.com/Joshua_C/statuses/4415500118">#</a></li>
    <li>twitter里有些人成了角以后就喜欢屁话连篇，十句有两句是retweet，7句在废话，偶尔一句有点参考性，还发现在做自己广告，remove <a href="http://twitter.com/Joshua_C/statuses/4366929469">#</a></li>
    <li>主观上的接受是你很容易加深对某事物的理解 <a href="http://twitter.com/Joshua_C/statuses/4314333128">#</a></li>
    <li>Great business development people don&#39;t waste time in endless meetings with random vendors or hassle about tiny details up front <a href="http://twitter.com/Joshua_C/statuses/4313947566">#</a></li>
    <li>Barcamp - <a href="http://bit.ly/1BQxkK" rel="nofollow">http://bit.ly/1BQxkK</a> <a href="http://twitter.com/Joshua_C/statuses/4166033822">#</a></li>
    <li><a href="http://bit.ly/4a60ed" rel="nofollow">http://bit.ly/4a60ed</a> - pair programming <a href="http://twitter.com/Joshua_C/statuses/4164232834">#</a></li>
    <li>Agile Design - <a href="http://bit.ly/2sk3NZ" rel="nofollow">http://bit.ly/2sk3NZ</a> <a href="http://twitter.com/Joshua_C/statuses/4160730877">#</a></li>
</ul>


<p class="aktt_credit">Powered by <a href="http://alexking.org/projects/wordpress">Twitter Tools</a>.</p>



				<div class="post-metadata">
					September 28, 2009 | 
					<a href='/2009/09/28/twitter-weekly-updates-for-2009-09-28.html#disqus_thread'>View Comments</a>
					 
				</div>

			</div>
		
			<div class="post" id="postid-/2009/09/23/the-payroll-case-study">
				<h3 class="title"><a href="/2009/09/23/the-payroll-case-study.html">The Payroll Case Study</a></h3>
				
				<h2>C13</h2>

<ol>
<li><p>Command 模式是将UI中和应用层中的执行逻辑分离到特定的运行函数中。所谓的解耦。</p></li>
</ol>


<h2>C17</h2>

<p>1.使NULL生命化，而不是每次显示的 'x != null'. 可以构造NullObject.</p>

<h2>C18</h2>

<ol>
<li>对需求分析-&gt;创建用例 -&gt; 用例分析-&gt; 抽象出接口模型</li>
<li>初期应该抵制自己接近代码的诱惑</li>
</ol>



				<div class="post-metadata">
					September 23, 2009 | 
					<a href='/2009/09/23/the-payroll-case-study.html#disqus_thread'>View Comments</a>
					 
				</div>

			</div>
		
			<div class="post" id="postid-/2009/09/21/twitter-weekly-updates-for-2009-09-21">
				<h3 class="title"><a href="/2009/09/21/twitter-weekly-updates-for-2009-09-21.html">Twitter Weekly Updates for 2009-09-21</a></h3>
				
				<ul class="aktt_tweet_digest">
    <li>听着这个火警，想起了当年上海滩逃难的场景。。。 <a href="http://twitter.com/Joshua_C/statuses/4095444859">#</a></li>
    <li><a href="http://bit.ly/roNaM" rel="nofollow">http://bit.ly/roNaM</a> // 买房卖房 freedom <a href="http://twitter.com/Joshua_C/statuses/4069582217">#</a></li>
</ul>


<p class="aktt_credit">Powered by <a href="http://alexking.org/projects/wordpress">Twitter Tools</a>.</p>



				<div class="post-metadata">
					September 21, 2009 | 
					<a href='/2009/09/21/twitter-weekly-updates-for-2009-09-21.html#disqus_thread'>View Comments</a>
					 
				</div>

			</div>
		
		
		<div class="paging">
		
			<a href="/page15" class="previous">&#x25C4; Previous</a>
		
		
			
			  <a href="/page13" class="next">Next &#x25BA;</a>
			
		
		</div>

  </ul>
</div>
</div>

    </div>

  </body>
</html>
